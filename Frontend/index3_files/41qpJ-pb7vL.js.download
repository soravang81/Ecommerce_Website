'use strict';mix_d("SBXGwentCards__lifestyle-image-v4-creative-desktop:lifestyle-image-v4-creative-desktop__Yl4NWnYV/es3","require exports tslib @c/dom @c/scoped-dom @c/browser-operations @c/logger @c/remote-operations @c/pagemarker @c/aui-utils @c/metrics @c/aui-feature-detect @p/a-ajax @c/aui-modal @p/A".split(" "),function(ha,ia,y,La,Ma,da,ja,Na,Oa,ka,Pa,Qa,Ra,Sa,Ta){function H(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}function E(a,b){return function(c){c=v(a,c);return b?
b(c):c}}function la(a,b,c,d){b?(x("Send"+a+"Success"),c&&x("Send"+a+"Success_"+c),d&&x("Send"+a+"Success_"+d)):(x("Send"+a+"Failure"),c&&x("Send"+a+"Failure_"+c),d&&x("Send"+a+"Failure_"+d))}function ma(a){return Array.isArray(a)?a.map(function(b){return y.__assign(y.__assign({},b),{width:0,height:0})}):{url:a.url,width:0,height:0}}function Ua(a,b){void 0===a&&(a=void 0);void 0===b&&(b=!1);try{var c=Va(b);Wa(c,{generateModalContent:a})}catch(d){I(d),I("failed to execute eel client script")}}var V=
H(La),na=H(Ma),Xa=H(da),F=H(ja),Ya=H(Oa),Za=H(ka),oa=H(Pa),$a=H(Qa),ab=H(Ra),bb=H(Sa),T=H(Ta),K,X;(function(a){a.Cornerstone="CSTONE";a.Axiom="AXIOM"})(X||(X={}));var cb=(K={},K.e="basebe.ClientErrors.4",K.i="basebe.Impressions.6",K.c="basebe.Clicks.5",K.s="basebe.Swipes.5",K.v="basebe.Viewabilities.5",K.vc="basebe.VisualCompleteness.7",K.ss="basebe.slideshow.1",K.ia="basebe.ImpressionsV2.2",K),pa=function(a,b){return"matches"in a?a.matches(b):"msMatchesSelector"in a?a.msMatchesSelector(b):"webkitMatchesSelector"in
a?a.webkitMatchesSelector(b):0<=z(b,L().body).indexOf(a)},w=function(a,b){b=b||V["default"].cardRoot;return!a||pa(b,a)?b:b.querySelector(a)},z=function(a,b){return Array.prototype.slice.call((b||V["default"].cardRoot).querySelectorAll(a))},v=function(a,b){return(b=w("["+a+"]",b))?b.getAttribute(a):null},db=function(a,b,c){void 0===b&&(b={});void 0===c&&(c=[]);var d=L().createElement(a);Object.keys(b).forEach(function(e){d.setAttribute(e,b[e])});c.forEach(function(e){d.classList.add(e)});return d},
qa=function(a,b){a:{for(var c="["+a+"]";b&&b!==V["default"].cardRoot;){if(pa(b,c))break a;b=b.parentElement}b=null}return b?b.getAttribute(a):null},ra=function(a){if(a)return a=a.getBoundingClientRect(),{left:a.left,right:a.right,top:a.top,bottom:a.bottom};a=L().defaultView;return{left:0,top:0,right:a.innerWidth,bottom:a.innerHeight}},L=function(){return w().ownerDocument},I=function(a,b){F["default"].log(a,"ERROR",b||"SBX_GWENT")},sa=function(a){var b;a=/\?([^#]+)/.exec(a);if(!a)return[];a=a[1].split("&");
var c=null;try{for(var d=y.__values(a),e=d.next();!e.done;e=d.next()){var f=e.value;if(0===f.indexOf("ref_=")){c=f;break}}}catch(g){var h={error:g}}finally{try{e&&!e.done&&(b=d.return)&&b.call(d)}finally{if(h)throw h.error;}}return c?(h=c.split("=").pop()||"")?h.split("_"):[]:[]},ta=function(a,b,c){var d={};if(5<c.length){d.el=c.pop()||null;a:{var e;try{for(var f=y.__values(c),h=f.next();!h.done;h=f.next()){var g=h.value;if(/^\d+$/.test(g)){var l=g;break a}}}catch(m){var k={error:m}}finally{try{h&&
!h.done&&(e=f.return)&&e.call(f)}finally{if(k)throw k.error;}}l=null}d.index=l;d.asin=qa("data-asin",b);d.type=qa("data-avar",b)}a.c(d,b)},eb=function(a,b){var c=sa(b.href);ta(a,b,c)},fb=function(a,b){var c=L().defaultView,d=function(e){2!==e.button&&(eb(a,b),e.metaKey||e.altKey||e.shiftKey||e.ctrlKey||1===e.button||"_blank"===b.target||(e.preventDefault(),c.setTimeout(function(){c.open(b.href,b.target||"_top")},50)))};b.addEventListener("click",d);b.addEventListener("auxclick",d)},ua=function(a,
b,c){var d=w("[data-active]"),e=(null===d||void 0===d?void 0:d.dataset)||{};d=e.paginationId;e=e.index;b.c({el:"sb-slideshow-arrow",type:a,asin:void 0===d?null:d,index:void 0===e?null:e},c)},hb=function(a,b){z("[href]",b).filter(function(c){return!c.classList.contains("a-carousel-button")}).forEach(function(c){fb(a,c)});z(".amazon-follow",b).forEach(function(c){c.addEventListener("click",function(){var d=sa("?&ref_="+c.getAttribute("data-ref"));ta(a,c,d)})});z('[data-mix-operations="handleNext"]').forEach(function(c){c.addEventListener("click",
function(){ua("next",a,b)})});z('[data-mix-operations="handlePrev"]').forEach(function(c){c.addEventListener("click",function(){ua("prev",a,b)})});z('[data-mix-operations="handlePaginationClick"]').forEach(function(c){c.addEventListener("click",function(){var d=c.dataset||{},e=d.paginationId;d=d.index;a.c({el:"sb-slideshow-pagination",type:"pagination",index:void 0===d?null:d,asin:void 0===e?null:e},b)})});z('[data-mix-operations="hotSpotClick"]').forEach(function(c){c.addEventListener("click",function(){var d,
e=(c.dataset||{}).asinid;e=void 0===e?null:e;var f=c.style,h=f.left;f=f.top;var g=w('[data-asin="'+e+'"]')||void 0;g=((null===(d=w("[data-asinindex]",g))||void 0===d?void 0:d.dataset)||{}).asinindex;d=void 0===g?null:g;h={x:parseFloat(h),y:parseFloat(f)};h=JSON.stringify(h);e=y.__assign({type:h},{asin:e,el:"hotspot",index:d});a.c(e,c)})});gb(a)},gb=function(a){var b=w('[class*="seeProducts"]'),c=w('[data-mix-operations="expandHandler"]'),d=z('[class*="sidebarButton"]'),e=[b,c].concat(d);if(e.length){var f=
[];e.forEach(function(g){if(g){var l=g instanceof HTMLButtonElement&&!v("data-index",g)?"seeProducts":g instanceof HTMLButtonElement?"asinSidebar":"shoppableImageCollapsed",k={asin:g.dataset.asinid||null,index:g.dataset.index||null,el:l};l=function(){if(g){var m=y.__assign({type:"collapsed"},k);a.c(m,g);h(e,f)}};f.push(l);g.addEventListener("click",l)}});var h=function(g,l){g.forEach(function(k,m){k&&k.removeEventListener("click",l[m])})}}},va=E("data-card-metrics-id",function(a){return(a||"").split("_")[0]}),
wa=E("data-var"),ib=E("data-rid"),jb=E("data-cid"),kb=E("data-iid"),lb=E("data-aid"),mb=E("data-aidx"),nb=E("data-idt",function(a){switch(a){case X.Axiom:return X.Axiom;default:return X.Cornerstone}}),ob=E("data-rctx",function(a){return a?JSON.parse(a):{sid:"",cid:"",mid:""}}),xa=E("data-wl",function(a){return a?a.split(","):[]}),pb=E("data-slot"),ya=E("data-ts"),za=function(){var a=L().defaultView;return a.innerWidth+"x"+a.innerHeight},Aa=function(a){return{id:v("data-asin",a),prime:!!w(".a-icon-prime",
a),price:!!w(".a-price",a),savings:!!w('.a-price[data-a-strike="true"]',a),rating:v("data-rt",a),badge:v("data-deal",a)}},Ba=function(a,b){var c=L().defaultView,d,e=function(){d||(d=c.setTimeout(a,b))};e.cancel=function(){c.clearTimeout(d);d=0};return e},ea=function(a,b,c){var d=(c||{}).ms||25,e=(c||{}).el||L().defaultView,f=Za["default"].throttle(b,d);e.addEventListener(a,f);return function(){e.removeEventListener(a,f)}},Z=JSON.stringify({v:{def:"iab",event:"VIEWED"},programType:"SBC"}),Da=function(a,
b){var c=a.getBoundingClientRect();if(a=c.width*c.height){var d=c.top,e=c.bottom,f=c.left,h=c.right,g=L().defaultView;c=g.innerHeight;f=Ca(f,h,g.innerWidth);d=Ca(d,e,c);if(.5<=f*d/a)if(b)b();else return!0;else if(b)b.cancel();else return!0}},Ca=function(a,b,c){return 0<=a?Math.max(Math.min(c-a,b-a),0):0<b?Math.max(Math.min(Math.min(b,c),b-a),0):0},Ea=function(a){a="/"===a.substr(-1)?a+"v/":a+"/v/";if("function"===typeof window.fetch)fetch(a+encodeURI(Z),{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},
body:Z}).then(function(c){c.ok||0===c.status||F["default"].log(c.status+" "+c.statusText,"ERROR","sbx-ce-vcpm-fetch");x("PixelClientCallSuccess")}).catch(function(c){x("PixelClientCallFailure");F["default"].log(c,"ERROR","sbx-ce-vcpm-fetch")});else{var b=new XMLHttpRequest;b.open("POST",a+encodeURI(Z));b.setRequestHeader("Content-Type","application/json");b.onreadystatechange=function(){4===b.readyState&&(200!==b.status?F["default"].log(b.status+" "+b.statusText,"ERROR","sbx-ce-vcpm-fetch"):x("PixelClientCallSuccess"))};
b.onerror=function(){x("PixelClientCallFailure");F["default"].log("XMLHttpRequest error from old browser","ERROR","sbx-ce-vcpm-fetch")};b.send(Z)}},qb=function(a,b){var c=function(){Da(b?b:w(),d)},d=Ba(function(){var h=v("data-view-pixel",b?b:w());h&&(Ea(h),h=w("[data-view-pixel]"),null===h||void 0===h?void 0:h.removeAttribute("data-view-pixel"));e();f();a.v(null,b)},1E3),e=ea("scroll",c,void 0),f=ea("resize",c,void 0);c()},rb=function(a){a&&a.forEach(function(b){var c=Ba(function(){var d=v("data-view-pixel",
b);d&&(Ea(d),null===b||void 0===b?void 0:b.removeAttribute("data-view-pixel"))},1E3);Da(b,c)})},Fa=function(a,b){var c=null,d=null;a.addEventListener("touchstart",function(e){c=e.touches[0].pageX});a.addEventListener("touchmove",function(e){null===c&&(c=e.touches[0].pageX);d=e.touches[0].pageX});a.addEventListener("touchend",function(){null!==c&&null!==d&&b(d-c);c=d=null})},sb=function(a){if($a["default"].isSupported("touch")){var b=w("[data-track-swipe]"),c=w("[data-trackswipe]"),d=function(e){var f=
Math.abs(e);if(30<f){var h=z("[data-view-pixel]");rb(h);a.s({direction:0>e?"left":"right",length:f})}};b?Fa(b,d):c&&Fa(c,d)}},tb=function(a,b){var c=Date.now();b=z("img",b);var d=b.length,e=0,f=function(){++e===d&&a.vc({delay:Date.now()-c})};b.forEach(function(h){null!==v("data-lazy",h)&&null!==v("data-src",h)?h.addEventListener("load",function(){h.src===h.dataset.src&&f()}):h.complete?f():h.addEventListener("load",f)})},ub=function(a){var b={anonymizedRequestId:a.anonymizedRequestId,campaignId:a.campaignId,
slotName:a.slotName,idType:a.idType,market:a.market,customerId:a.customerId,sessionId:a.sessionId,lob:a.lob},c=function(d,e){try{var f=oa["default"],h=f.event,g=y.__assign({},b);if(e)for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(g[l]=e[l]);h.call(f,g,"base-be",cb[d],{ssd:!0})}catch(k){I(k)}};return{i:c.bind(null,"i"),v:c.bind(null,"v"),vc:c.bind(null,"vc"),c:c.bind(null,"c"),s:c.bind(null,"s"),ss:c.bind(null,"ss"),ia:c.bind(null,"ia"),e:function(d){c("e",d&&{name:d.name,message:d.message,
stack:d.stack})}}},Ga=function(a){var b=jb(a);var c=ob(a),d=c.sid,e=c.cid;c=c.mid;b=ub({anonymizedRequestId:ib(),campaignId:b,idType:nb(a),slotName:pb(),market:c,customerId:e,sessionId:d,lob:"UNKNOWN"});b.i({asins:[].map.call(z("[data-asin]",a),Aa),creativeType:va(),creativeVariation:wa(a),version:ya(a),viewport:za(),weblabs:xa(a)});hb(b,a);tb(b,a);qb(b,a);sb(b);b.ia({asins:[].map.call(z("[data-asin]",a),Aa),creativeType:va(),creativeVariation:wa(a),version:ya(a),viewport:za(),weblabs:xa(a),adIndex:mb(a),
adId:lb(a)})},x=function(a,b){void 0===b&&(b=1);oa["default"].count("sbxGwentClient"+a,b)},G={log:function(a){var b=L().defaultView;var c=kb();(b=c&&b.sbxGwentClient&&"number"===typeof b.sbxGwentClient[c]?Date.now()-b.sbxGwentClient[c]:null)?x(a,b):x("NoPageTime")}},vb=function(a){var b=a.url,c=a.onSuccess,d=a.onError;b||d();ab["default"].get(b,{success:function(e){e&&"ok"===e.status?c(e):d()},error:d,abort:d})},fa;(fa||(fa={})).adFeedbackHandler="adFeedbackHandler";var wb=function(a,b,c,d,e){try{var f=
JSON.parse(a),h=y.__read(f,6),g=h[0],l=h[1],k=h[2],m=h[3],q=h[4],r=h[5],t=[];Array.isArray(g)?g.forEach(function(u){return t.push({campaignId:c,creativeId:u})}):t.push({campaignId:c,creativeId:g});var n={adCreativeMetaData:{adCreativeId:Array.isArray(g)?g[0]:g,adId:b,adImpressionId:l,adNetwork:"aax",adProgramId:1010,adCreativeDetails:t},adPlacementMetaData:{adElementId:k,pageType:m,pageUrl:q,searchTerms:r,slotName:d,adProgramId:1010}};return e+"?pl="+encodeURIComponent(JSON.stringify(n))}catch(u){return null}},
Ha=function(a){var b=Xa["default"].setup().define,c=!!v("data-ad-feedback-clicks"),d=!!v("data-ad-feedback-simulate"),e=a||"AdFeedbackSuccess",f="AdFeedbackPlaceholderClick",h=!1;c&&b(fa.adFeedbackHandler,"click",function(){G.log(f);"AdFeedbackPlaceholderClick"===f&&(h=!0)});a=v("data-ad-feedback");b=v("data-ad-feedback-url")||"/gp/aq-feedback/lazyLoad/handler/af-link-handler.html";if(a){c=v("data-slot");var g=v("data-aid"),l=v("data-cid");a=wb(a,g,l,c,b);vb({url:a,onSuccess:function(k){var m=k.html;
var q=w('[data-id="afb-content"]');q&&m?(q.innerHTML=m,m=q):m=null;if(k=k.script)q=L().createElement("script"),q.type="text/javascript",q.innerHTML=k,w().appendChild(q);G.log(e);f="AdFeedbackLinkClick";m&&h&&d&&((k=w("a",m))?(k.click(),k=!0):k=!1,G.log(k?"AdFeedbackSimulateClickSuccess":"AdFeedbackSimulateClickFail"))},onError:function(){G.log("AdFeedbackFallback");h&&d&&G.log("AdFeedbackSimulateClickFail")}})}},Y=function(a,b){var c,d=[];try{for(var e=y.__values(a.split(/[-_]/)),f=e.next();!f.done;f=
e.next()){var h=f.value;d.push(h.charAt(0).toUpperCase()+h.slice(1));if("creativeLevel"===b&&("desktop"===h||"mobile"===h))break}}catch(l){var g={error:l}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(g)throw g.error;}}return d.join("")},yb=function(a,b,c,d,e,f,h,g,l,k,m){return y.__awaiter(void 0,void 0,void 0,function(){var q,r,t;return y.__generator(this,function(n){switch(n.label){case 0:q=function(){return{adCreativeMetaData:{adCreativeDetails:xb(b,g,l,k,m)},adFeedbackLabelId:a}},
r=function(u){var p=u.baseMessage,A=u.deviceType,B=u.tabletEnv,C=u.slotName;C=y.__read([Y(u.creativeId,"creativeLevel"),Y(C,"slotLevel")],2);u=C[0];C=C[1];x(p);A&&(A=p+"_"+A,B&&(A+="_"+B),x(A));u&&x(p+"_"+u);C&&x(p+"_"+C)},n.label=1;case 1:return n.trys.push([1,3,,4]),[4,c(q)];case 2:return n.sent(),r({baseMessage:"EnableAdFeedbackSuccess",deviceType:d,tabletEnv:e,creativeId:f,slotName:h}),[3,4];case 3:return t=n.sent(),r({baseMessage:"EnableAdFeedbackFailure",deviceType:d,tabletEnv:e,creativeId:f,
slotName:h}),I(t),[3,4];case 4:return[2]}})})},zb=function(a){if(a){var b=a.split(" ");b.map(function(c,d){0<d&&(b[d]=c.substring(3,c.length))});b.pop();b.shift();return b}},xb=function(a,b,c,d,e){var f=[],h=v("data-card-metrics-id")||"",g=v("data-slot")||"";h=y.__read([Y(h,"creativeLevel"),Y(g,"slotLevel")],2);var l=h[0],k=h[1];e&&e()!==a.length&&(a=a.filter(function(m){return w('[data-aid="'+m.adId+'"]')}));a.forEach(function(m,q){var r='[data-aid="'+m.adId+'"]';for(var t=w(r),n=b&&b()||document.body,
u,p=0;(c?p<c.length:0>p)&&!(u=w(r+' div[class*="'+(null===c||void 0===c?void 0:c[p])+'"] img'));p++);u?x("AfImagePresent_"+l):x("AfImageMissing_"+l);r=(null===u||void 0===u?void 0:u.getAttribute("src"))||void 0;p=zb((null===u||void 0===u?void 0:u.getAttribute("srcset"))||void 0);var A=(null===p||void 0===p?void 0:p.length)||1;u=[];for(var B=0;B<A;B++)u.push({url:(null===p||void 0===p?void 0:p[B])||""});r={url:r?r:""};la("SelectionSignals",m.selectionSignals,l,k);la("AdvertiserIdNS",m.advertiserIdNS,
l,k);if(t){(p=1===a.length||d)||(t=ra(t),n?((p=w('div[data-index="'+q+'"]'))?p=0===p.offsetHeight&&0===p.offsetWidth?!0:!1:(F["default"].log("container Element for ad number "+q+" is not found","WARN","DSA/AdFeedback"),p=!0),p?p=!1:(n=ra(n),t.left===n.left||t.right===n.right?(p=t.left,(p=p>=n.left&&p<=n.right)||(t=t.right,p=t>=n.left&&t<=n.right),n=p):(p=t.left,(p=p>n.left&&p<n.right)||(t=t.right,p=t>n.left&&t<n.right),n=p),p=n)):p=void 0);if(p){n=f.push;t=m.campaignId;p=m.adId;A=m.title;u={lowResolutionImage:ma(r),
highResolutionImages:ma(u)};if(m.selectionSignals){r=m.selectionSignals;switch(r.pastActivity){case "STORE_ONLY":B=1;break;default:B=0}r=y.__assign(y.__assign({},r),{pastActivity:B})}else r=void 0;n.call(f,{campaignId:t,adId:p,adCreativeIndex:q,title:A,adCreativeImage:u,selectionSignals:r,advertiserIdNS:m.advertiserIdNS})}x("adElementPresent_"+l)}else x("adElementMissing"),F["default"].log("adElement is not found: "+JSON.stringify(m),"WARN","DSA/AdFeedback"),x("adElementMissing_"+l)});return f},Ia=
function(){z('[data-id="cta"]').forEach(function(a){if(a.parentElement){var b=w('[data-id*="cta-fallback"]',a.parentElement),c=w(".a-truncate",a),d=w(".a-truncate-full",a);c&&d&&(d.clientHeight>c.clientHeight&&b?(b.style.display="block",a.parentElement.removeChild(a)):(b=a.parentElement.getAttribute("aria-hidden"),b&&"false"!==b||(b=a.getAttribute("data-label")||d.innerHTML,a.parentElement.setAttribute("aria-label",b)),(c=w('[data-id*="cta-chevron"]',a))&&!d.hasAttribute("data-chevron")&&(d.setAttribute("data-chevron",
"true"),a=d.innerHTML.split(" "),b=a.pop(),c=c.innerHTML,d.innerHTML="<span>"+a.join(" ")+" </span><span>"+b+"&nbsp;"+c+"</span>")))}})},Ab=function(a){var b=v("data-src",a)||"",c=v("data-srcset",a)||"",d=a.cloneNode();d.removeAttribute("data-src");d.removeAttribute("data-srcset");d.removeAttribute("data-lazy");d.srcset=c;d.src=b;a.parentNode&&a.parentNode.insertBefore(d,a);d.onload=function(){a.style.opacity="0";G.log("LazyLoaded")}},Bb=function(){var a=z('[class*="eelModalRoot"]');a&&a.forEach(function(b,
c){var d=v("data-modal-trigger",b),e=v("data-title",b),f=v("data-modal-settings",b);f=JSON.parse(f||"{}");if(d){c="eel-cards-modal-"+c;var h="."+b.className.split(" ")[0],g=bb["default"].create(c,h,{closeButton:(null===f||void 0===f?void 0:f.closeButton)||!1,a11yOpenMessage:e||"Energy Efficiency & Product Fiche",width:(null===f||void 0===f?void 0:f.width)||800});e=da.setup();f=e.define;e=e.attach;g.once("beforeShow",function(){T["default"].loadDescendantImagesManually(b)});f("modal-handler-"+d,["click"],
function(){g.show()});f("modal-close-handler-"+d,["click"],function(){g.hide()});f=w('[data-mix-operations="modal-handler-'+d+'"]');d=w('[data-mix-operations="modal-close-handler-'+d+'"]');f&&d&&(e("modalHandler",f),e("modalClose",d))}})},Cb=function(a){var b=function(d,e){d={$event:{preventDefault:T["default"].$.noop,stopPropagation:T["default"].$.noop},$target:d.getContent().find('[data-a-tab-name="'+e+'"]'),data:{name:"energyEfficiencyTabSet"}};T["default"].trigger("a:declarative:a-tabs:click",
d)},c=function(d,e){var f=d&&d.$event,h=d&&d.data||{},g=h.name;f&&f.preventDefault&&f.preventDefault();f&&f.stopPropagation&&f.stopPropagation();d&&f&&h&&g&&e&&(f=e.get(g),f||(T["default"].on("a:popover:beforeShow:"+g,function(l){var k,m,q;l.popover&&l.popover.getContent&&(l=l.popover.getContent(),null===(m=null===(k=null===l||void 0===l?void 0:l.find(".a-manually-loaded"))||void 0===k?void 0:k.parent())||void 0===m?void 0:m.css("min-height",null!==(q=h.modalHeight)&&void 0!==q?q:800),T["default"].loadDescendantImagesManually(l))}),
f=e.create(d.$target,h)),f&&(f.show(),h.activeTabName&&b(f,h.activeTabName)))};a&&a.when("a-secondary-view").execute("RegisterEnergyEfficiencyEventMobile",function(d){T["default"].declarative("card-energy-efficiency-secondary-view","click",function(e){c(e,d)})})},Eb=function(a){return function(){return y.__awaiter(void 0,void 0,void 0,function(){var b,c,d,e,f,h,g,l,k,m,q,r,t,n,u,p,A,B,C;return y.__generator(this,function(M){switch(M.label){case 0:return G.log("Loaded"),b=a||{},c=b.loadAdFeedback,
d=b.onLoad,e=b.onInit,f=b.isMobile,h=b.enableAdFeedback,g=b.creativeContainer,l=b.creativeImageContainer,k=b.bypassAdFeedbackViewportCheck,m=b.renderedAdsCount,e&&e(),[4,Ya["default"].pageReady];case 1:M.sent();G.log("Ready");try{var R=w(".sbx-no-js",void 0);R&&R.classList.remove("sbx-no-js");try{var W=z("[data-cid]");W.length?W.forEach(Ga):Ga()}catch(J){I(J)}try{Ia(),ea("resize",Ia,void 0)}catch(J){I(J)}try{z('img[data-lazy="true"]').forEach(Ab)}catch(J){I(J)}w('[class*="eelModalRoot"]')?Bb():w('[data-action*="card-energy-efficiency-"]')&&
Cb(window.P);var O,D;if(!("-webkit-line-clamp"in V["default"].cardRoot.ownerDocument.body.style||"lineClamp"in V["default"].cardRoot.ownerDocument.body.style)){var Q=z('[class*="_sbTruncatedTitle_"]');if(Q.length)try{for(var S=y.__values(Q),U=S.next();!U.done;U=S.next()){var N=U.value,Db=parseInt(N.getAttribute("data-totallines")||"1"),Ja=Math.ceil(parseFloat((null===(D=V["default"].cardRoot.ownerDocument.defaultView)||void 0===D?void 0:D.getComputedStyle(N).lineHeight)||"1.3em"))*Db;if(!(N.scrollHeight<=
Ja)){for(;N.scrollHeight>Ja;)N.innerText=N.innerText.slice(0,-1);N.innerText=N.innerText.slice(0,-3);N.innerText+="\u2026"}}}catch(J){var Ka={error:J}}finally{try{U&&!U.done&&(O=S.return)&&O.call(S)}finally{if(Ka)throw Ka.error;}}}d&&d();R=f;if(void 0!==R&&!window.sbxGwentClientDPR)try{window.sbxGwentClientDPR=!0,x((R?"Mobile":"Desktop")+"DPR"+(4>=Math.round(2*window.devicePixelRatio)/2?Math.round(2*window.devicePixelRatio)/2:"4Plus"))}catch(J){I(J)}}catch(J){I(J)}q=v("data-ad-feedback-label-id");
r=v("data-ad-creative-list");t=v("data-device-type")||"";n=v("data-tablet-env")||"";u=v("data-card-metrics-id")||"";p=v("data-slot")||"";A=Y(u,"creativeLevel");if(!q||!r)return[3,6];M.label=2;case 2:return M.trys.push([2,4,,5]),B=JSON.parse(r),[4,yb(q,B,h,t,n,u,p,g,l,k,m)];case 3:return M.sent(),x("NewAdFeedbackImplementationEnabled_"+A),[3,5];case 4:return C=M.sent(),c&&Ha(),I("Failed to generate adFeedback rendering payload: "+C,"DSA/AdFeedback"),x("FallbackToOldAdFeedbackImplementation_"+A),[3,
5];case 5:return[3,7];case 6:c&&Ha(),x("FallbackToOldAdFeedbackImplementation_"+A),I("Missing adFeedbackLabelId or adCreativeList","DSA/AdFeedback"),M.label=7;case 7:return[2]}})})}},Fb=function(a){return na["default"].createElement(a)},Gb=function(a,b){return Array.prototype.slice.call((b||na["default"].cardRoot).querySelectorAll(a))},Va=function(a){void 0===a&&(a=!0);return{addEventListener:da.setup().define,createElement:a?Fb:db,getElements:a?Gb:z,log:function(b,c,d){return ja.log(b,c,null!==d&&
void 0!==d?d:"SBX_GWENT_DARE")}}},Jb=function(a,b){Hb(a,b).forEach(function(c){var d=b?w("div[data-asin='"+c.itemId+"']"):w("div[data-aid='"+c.itemId+"']");(d=d?w("span[data-ad-deal-end-time]",d):null)&&null!==c.dealEndTime&&Ib(d,c.dealEndTime)})},Hb=function(a,b){var c=[];a.forEach(function(d){var e=b?v("data-asin",d):v("data-aid",d);d=v("data-ad-deal-end-time",d);e&&d?c.push({itemId:e,dealEndTime:d}):F["default"].log("attribute value for data-asin, data-aid, or data-ad-deal-end-time is null","ERROR")});
return c},Ib=function(a,b){var c=ka.interval(function(){var d=(new Date(b)).getTime(),e=Date.now();e=Math.floor((d-e)/1E3);if(0>e)clearInterval(c);else{var f=Math.floor(e/60%60);d=Math.floor(e%60);e=("0"+Math.floor(e/3600%24)).slice(-2);f=("0"+f).slice(-2);d=("0"+d).slice(-2);a.innerText=e+":"+f+":"+d}},1E3)},aa=function(){aa=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return aa.apply(this,
arguments)},ba=function(a,b,c,d){function e(f){return f instanceof c?f:new c(function(h){h(f)})}return new (c||(c=Promise))(function(f,h){function g(m){try{k(d.next(m))}catch(q){h(q)}}function l(m){try{k(d["throw"](m))}catch(q){h(q)}}function k(m){m.done?f(m.value):e(m.value).then(g,l)}k((d=d.apply(a,b||[])).next())})},ca=function(a,b){function c(k){return function(m){return d([k,m])}}function d(k){if(f)throw new TypeError("Generator is already executing.");for(;l&&(l=0,k[0]&&(e=0)),e;)try{if(f=1,
h&&(g=k[0]&2?h["return"]:k[0]?h["throw"]||((g=h["return"])&&g.call(h),0):h.next)&&!(g=g.call(h,k[1])).done)return g;if(h=0,g)k=[k[0]&2,g.value];switch(k[0]){case 0:case 1:g=k;break;case 4:return e.label++,{value:k[1],done:!1};case 5:e.label++;h=k[1];k=[0];continue;case 7:k=e.ops.pop();e.trys.pop();continue;default:if(!(g=e.trys,g=0<g.length&&g[g.length-1])&&(6===k[0]||2===k[0])){e=0;continue}if(3===k[0]&&(!g||k[1]>g[0]&&k[1]<g[3]))e.label=k[1];else if(6===k[0]&&e.label<g[1])e.label=g[1],g=k;else if(g&&
e.label<g[2])e.label=g[2],e.ops.push(k);else{g[2]&&e.ops.pop();e.trys.pop();continue}}k=b.call(a,e)}catch(m){k=[6,m],h=0}finally{f=g=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}var e={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,h,g,l;return l={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l},Wa=function(a,b){var c=a.addEventListener,d=a.createElement,e=a.log,f=b.generateModalContent;
if(!P||!P.AUI_BUILD_DATE)throw Error("aui is unavailable");P.when("A").execute(function(h){var g=h.capabilities.mobile;P.when(g?"a-secondary-view":"a-modal").execute(function(l){return ba(void 0,void 0,void 0,function(){var k;return ca(this,function(m){k=function(q,r){return ba(void 0,void 0,void 0,function(){var t,n,u,p,A,B,C,M,R,W;return ca(this,function(O){switch(O.label){case 0:t=q.currentTarget;if(l.get(t))return[2];if(!(t instanceof HTMLElement))return e("energy-efficiency-".concat(r," click target not an html element"),
"WARN"),[2];try{n=JSON.parse(null!==(W=t.dataset.content)&&void 0!==W?W:"{}")}catch(U){return e(U,"ERROR"),e("failed to parse eel data","ERROR"),[2]}a:{var D=n;var Q=0;for(D=[Object.getOwnPropertyDescriptor(D,"closeButtonLabel"),Object.getOwnPropertyDescriptor(D,"ficheImageUrl"),Object.getOwnPropertyDescriptor(D,"ficheTitle"),Object.getOwnPropertyDescriptor(D,"id"),Object.getOwnPropertyDescriptor(D,"labelImageUrl"),Object.getOwnPropertyDescriptor(D,"labelTitle"),Object.getOwnPropertyDescriptor(D,
"modalTitle")];Q<D.length;Q++){var S=D[Q];if("string"!==typeof(null===S||void 0===S?void 0:S.value)){Q=!1;break a}}Q=!0}if(!Q)return e("energy-efficiency-".concat(r," data is invalid: ").concat(t.dataset.content),"WARN"),[2];if(!("fiche"!==r||n.ficheImageUrl&&n.ficheTitle))return e("energy-efficiency-".concat(r," data is missing expected fiche data: ").concat(JSON.stringify(n)),"WARN"),[2];O.label=1;case 1:return O.trys.push([1,5,,6]),u="fiche"===r?n.ficheTitle:n.labelTitle,p="fiche"===r?n.ficheImageUrl:
n.labelImageUrl,A=d("img"),A.setAttribute("alt",u),A.setAttribute("src",p),f?[4,f(aa(aa({},n),{activeTab:r}))]:[3,3];case 2:return C=O.sent(),[3,4];case 3:C=null,O.label=4;case 4:return B=C,M=l.create(t,{closeButtonLabel:n.closeButtonLabel,header:g?void 0:n.modalTitle,inlineContent:g||!B?A.outerHTML:B.outerHTML,popoverLabel:g?u:n.modalTitle,width:g?void 0:"800"}),M.show(),[3,6];case 5:return R=O.sent(),e(R,"ERROR"),e("failed to create eel popover","ERROR"),[3,6];case 6:return[2]}})})};c("dare-ee--label-click",
"click",function(q){return ba(void 0,void 0,void 0,function(){return ca(this,function(r){switch(r.label){case 0:return[4,k(q,"label")];case 1:return r.sent(),[2]}})})});c("dare-ee--fiche-click","click",function(q){return ba(void 0,void 0,void 0,function(){return ca(this,function(r){switch(r.label){case 0:return[4,k(q,"label")];case 1:return r.sent(),[2]}})})});return[2]})})})})},Kb={T1:0,T2:1E3,T3:2E3,T4:3E3,T5:4E3,T6:5E3,T7:6E3,T8:7E3,T9:8E3},Lb=function(a){"complete"===document.readyState||"interactive"===
document.readyState?a():document.addEventListener("DOMContentLoaded",a)};ia._operationNames=["generateModalContent"];ia.card=function(){return y.__awaiter(void 0,void 0,void 0,function(){var a,b,c,d,e,f,h;return y.__generator(this,function(g){switch(g.label){case 0:b=v("data-device-type");c=v("data-ad-feedback-payload");try{c&&(d=null===(h=null===(f=JSON.parse(c))||void 0===f?void 0:f.adPlacementMetaData)||void 0===h?void 0:h.pageType)}catch(l){F["default"].log("Failed to parse adFeedbackPayload "+
c,"ERROR"),F["default"].log(l,"ERROR")}g.label=1;case 1:return g.trys.push([1,6,,7]),"Search"!==d||"tablet"!==b&&"mobile"!==b?[3,3]:[4,new Promise(function(l,k){ha(["./es3@index"],l,k)})];case 2:return a=g.sent().enableAdFeedback,[3,5];case 3:return[4,new Promise(function(l,k){ha(["./es3@index2"],l,k)})];case 4:a=g.sent().enableAdFeedback,g.label=5;case 5:return[3,7];case 6:return e=g.sent(),F["default"].log("Failed to load adFeedback module","ERROR"),F["default"].log(e,"ERROR"),[3,7];
case 7:return Eb({enableAdFeedback:a,loadAdFeedback:!0,onLoad:function(){G.log("LifestyleOnLoad");var l=Na.setup().generateModalContent;Ua(l);v("data-deal-badge-automated")&&v("data-ad-deal-end-time")&&(l=z('div[class*="dealItems"] > div[class*="item"]'),Jb(l,!0));var k=v("data-lazy-load");k&&Lb(function(){setTimeout(function(){var m=w("img[data-lifestyle-img]"),q=m&&m.getAttribute("src");if(m&&q){q=q.replace("_QL50_","_QL70_");var r=q.replace,t=window.innerWidth,n=2<=window.devicePixelRatio?2:1,
u=405*n;1470<=t?u=507*n:1400<=t?u=468*n:1250<=t&&(u=430*n);q=r.call(q,"_SX405_","_SX"+u+"_");m.setAttribute("src",q);G.log("LazyLoadLifestyle"+k)}},Kb[k]||0)})},onInit:function(){try{P.when("af").execute(function(){return G.log("LifestyleAF")})}catch(l){G.log("LifestyleAFError")}},creativeImageContainer:["container"],isMobile:!1})(),[2]}})})}});
