(function(q){var v=window.AmazonUIPageJS||window.P,I=v._namespace||v.attributeErrors,A=I?I("QuantitySelectorAssets",""):v;A.guardFatal?A.guardFatal(q)(A,window):A.execute(function(){q(A,window)})})(function(q,v,I){function A(p){var f=!1;q.now(p).execute("qsAssetDuplicationGuard",function(a){f=!!a});return f}function J(p,f){if(!A(p))try{q.register(p,f)}catch(a){if(!a.message.includes("reregistered by QuantitySelectorAssets"))throw a;}}function za(){var p=arguments;return{register:function(f,a){if(!A(f))try{q.when.apply(q,
p).register(f,a)}catch(b){if(!b.message.includes("reregistered by QuantitySelectorAssets"))throw b;}},execute:function(f,a){q.when.apply(q,p).execute(f,a)}}}J("QSAssetDuplicationGuard",function(){return{register:J,when:za}});"use strict";q.when("QSAssetDuplicationGuard").execute("qsAUIDeps-main-duplication-guard",function(p){p.when("A","QuantitySelectorConstants","a-util").execute("qsAUIDeps-main",function(f,a,b){function g(){x&&x.enableCheckoutCompatibility&&h()}function h(){f.$('span[id^\x3d"'+
a.getQsWidgetSummaryPriceId("")+'"][data-a-color\x3d"price"]').each(function(){f.$(this)[0].style.color="#B12704"});f.$('span[id^\x3d"'+a.getQsWidgetButtonId("")+'"]').each(function(){var a=f.$(this);a.hasClass("a-button-dropdown")&&a.hasClass("a-button-small")&&(a=a.attr("id"),f.$('button[id^\x3d"'+a+'-announce"]').each(function(){f.$(this)[0].style.paddingRight="17px"}))})}function k(a){function b(a){return f.$(a+"-announce")}return function(a){return new b(a)}}function B(b){var d=function(a,d){var e=
a+"-extradata",k=b.state(e);if(null==d)return e=b.state(a),d=f.$.extend({},e,k);k=f.$.extend({},k,d);b.state(e,k)};d.parse=function(){for(var d=f.$(a.getQsWidgetGenericStateSelectorQuery()),k=a.getQsWidgetConfigurationId(""),e=0;e<d.length;e++)try{var m=d[e].getAttribute("data-a-state"),h=JSON.parse(m).key;if(h&&h.substring(0,k.length)==k){var B=b.state(h);if(!B||!B.id){var x=JSON.parse(d[e].innerHTML);b.state(h,x)}}}catch(F){var n=a.getQsWidgetConfigurationJsonString(),g=a.getQsWidgetStateAttributeJsonString();
if(m.includes(g)||d[e].innerHTML.includes(n))throw F;}};d.replace=function(a,d){a+="-extradata";"function"===typeof b.state.replace?b.state.replace(a,d):b.state(a,d)};return{state:d}}var x;q.when("QuantitySelectorAUIDeps_AState","QuantitySelectorAUIDeps_AButton").execute("qsAUIDeps-register",function(a,d){p.register("QuantitySelectorAUIDeps",function(){return{aUtil:b,aState:a.object,aButton:d.object,initialize:g}})});(function(){for(var b=f.$(a.getQsWidgetGenericStateSelectorQuery()),d=a.getQsWidgetGlobalConfigurationId(),
k=0;k<b.length;k++)try{var r=b[k].getAttribute("data-a-state"),e=JSON.parse(r).key;if(e&&e.substring(0,d.length)==d){x=JSON.parse(b[k].innerHTML);break}}catch(u){var m=a.getQsWidgetConfigurationJsonString(),h=a.getQsWidgetStateAttributeJsonString();if(r.includes(h)||b[k].innerHTML.includes(m))throw u;}})();(function(){x&&x.enableCheckoutCompatibility?(q.when("a-state").execute("qsAUIDeps-checkout-compat-a-state-register",function(a){p.register("QuantitySelectorAUIDeps_AState",function(){return{object:B(a)}})}),
q.when("a-buttons").execute("qsAUIDeps-checkout-compat-a-button-register",function(a){p.register("QuantitySelectorAUIDeps_AButton",function(){return{object:k(a)}})}),f.on("checkout:afterReload",function(){f.trigger(a.getQsWidgetEventInitialize(),!1)})):(q.when("a-state").execute("qsAUIDeps-a-state-register",function(a){p.register("QuantitySelectorAUIDeps_AState",function(){return{object:a}})}),q.when("a-button").execute("qsAUIDeps-a-button-register",function(a){p.register("QuantitySelectorAUIDeps_AButton",
function(){return{object:a}})}));f.on("a:pageUpdate ready",function(){f.trigger(a.getQsWidgetEventInitialize(),!1)})})();g()})});"use strict";q.when("QSAssetDuplicationGuard").execute("qsConstants-duplication-guard",function(p){p.when("A").register("QuantitySelectorConstants",function(f){function a(a){return"qs-widget-configuration-"+a}var b={height:358,heightWithAtc:410,disclaimerTextAdjustment:41,disclaimerTextAdjustmentWithAtc:40},g={height:303,heightWithAtc:355,disclaimerTextAdjustment:41,disclaimerTextAdjustmentWithAtc:40},
h={scrollEventStop:200,constant:19,increment:45,adjustment:20};return{getQsWidgetEventInitialize:function(){return"quantity-selector-widget:initialize"},getQsWidgetEventLoadStatesAndInitialize:function(){return"quantity-selector-widget:loadStatesAndInitialize"},getQsWidgetEventTriggerAction:function(){return"quantity-selector-widget:triggerAction"},getQsWidgetVariationEventTriggerAction:function(){return"quantity-selector-widget-variation-selector:triggerAction"},getQsWidgetEventConfigureList:function(){return"quantity-selector-widget:configure:list"},
getQsWidgetEventConfigureEnable:function(){return"quantity-selector-widget:configure:enable"},getQsWidgetEventConfigureDisable:function(){return"quantity-selector-widget:configure:disable"},getQsWidgetEventConfigureReset:function(){return"quantity-selector-widget:configure:reset"},getQsWidgetEventConfigureGet:function(){return"quantity-selector-widget:configure:get"},getQsWidgetEventConfigureSet:function(){return"quantity-selector-widget:configure:set"},getQsWidgetEventSelectId:function(){return"quantity-selector-widget:selectId"},
getQsWidgetVariationEventSelectId:function(){return"quantity-selector-widget-variation-selector:selectId"},getQsWidgetEventSelectQuantity:function(){return"quantity-selector-widget:selectQuantity"},getQsWidgetEventInitialized:function(){return"quantity-selector-widget:initialized"},getQsWidgetEventAction:function(a){return"quantity-selector-widget:action:"+a},getQsWidgetAuiInputTextWrapperClass:function(){return"a-input-text-wrapper"},getQsWidgetActivateDebounce:function(){return 100},getQsWidgetInitialViewDropdown:function(){return"dropdown"},
getQsWidgetInitialViewTextLink:function(){return"text_link"},getQsWidgetInitialViewChooseQuantity:function(){return"choose_quantity"},getQsWidgetActionTriggerOnConfirmation:function(){return"on_confirmation"},getQsWidgetActionTriggerOnSelect:function(){return"on_select"},getQsWidgetGlobalConfigurationId:function(){return"qs-widget-global-configuration"},getQsWidgetConfigurationId:a,getQsWidgetStateScriptSelectorQuery:function(b){return"script[data-a-state*\x3d'"+a(b)+"'], "+("div[data-a-state*\x3d'"+
a(b)+"']")},getQsWidgetGenericStateSelectorQuery:function(){return"script[type\x3d'a-state'], div[data-a-state]"},getQsWidgetStateAttributeJsonString:function(){return"qs-widget-"},getQsWidgetConfigurationJsonString:function(){return"qsItems"},getQsWidgetContainerId:function(a){return"qs-widget-container-"+a},getQsWidgetDivSelectorQueryForWidgetContainers:function(){return"div[id^\x3dqs-widget-container-]"},getQsWidgetSpinnerId:function(a){return"qs-widget-spinner-"+a},getQsWidgetDivSelectorQueryForSpinners:function(){return"div[id^\x3dqs-widget-spinner-]"},
getQsWidgetCheckboxId:function(a){return"qs-widget-checkbox-"+a},getQsWidgetInputSelectorQueryForCheckboxes:function(){return"input[id^\x3dqs-widget-checkbox-]"},getQsWidgetButtonContainerId:function(a){return"qs-widget-button-container-"+a},getQsWidgetButtonId:function(a){return"qs-widget-button-"+a},getQsWidgetStepperId:function(a){return"qs-widget-stepper-"+a},getQsWidgetAtcButtonId:function(a){return"qs-widget-atc-button-"+a},getQsWidgetPlusButtonId:function(a){return"qs-widget-plus-button-"+
a},getQsWidgetMinusButtonId:function(a){return"qs-widget-minus-button-"+a},getQsWidgetDropdownContainerGenericId:function(){return"qs-widget-dropdown-container-"},getQsWidgetDropdownContainerId:function(a){return"qs-widget-dropdown-container-"+a},getQsWidgetDropdownId:function(a){return"qs-widget-dropdown-"+a},getQsWidgetDropdownViewId:function(a){return"qs-widget-dropdown-view-"+a},getQsWidgetVariationDropdownViewId:function(a){return"qs-widget-dropdown-view-variation-"+a},getQsWidgetDropdownItemId:function(a,
b){return"qs-widget-dropdown-item-"+b+"-"+a},getQsWidgetDropdownItemAriaId:function(a,b){return"qs-widget-dropdown-item-aria-"+b+"-"+a},getQsWidgetDropdownItemQuantitySuffixId:function(a,b){return"qs-widget-dropdown-item-quantitySuffix-"+b+"-"+a},getQsWidgetDropdownUnorderedListId:function(a){return"qs-widget-dropdown-unorderedlist-"+a},getQsWidgetDropdownVariationUnorderedListId:function(a){return"qs-widget-dropdown-variation-unorderedlist-"+a},getQsWidgetTextInputId:function(a){return"qs-widget-text-input-"+
a},getQsWidgetTextInputContainerId:function(a){return"qs-widget-text-input-container-"+a},getQsWidgetTextInputUpdateButtonId:function(a){return"qs-widget-text-input-updatelink-"+a},getQsWidgetTextInputUpdateButtonContainerId:function(a){return"qs-widget-text-input-updatelink-container-"+a},getQsWidgetTextInputUpdateButtonDecl:function(){return"qs-widget-text-input-updatelink-decl"},getQsWidgetTextInputDecl:function(){return"qs-widget-text-input-decl"},getQsWidgetQuantityContainerId:function(a){return"qs-widget-quantity-container-"+
a},getQsWidgetQuantityId:function(a){return"qs-widget-quantity-"+a},getQsWidgetQuantitySuffixId:function(a){return"qs-widget-quantity-suffix-"+a},getQsWidgetInitialViewSuffixId:function(a){return"qs-widget-initialView-suffix-"+a},getQsWidgetSummaryPriceId:function(a){return"qs-widget-summary-price-"+a},getQsWidgetSummaryPriceSymbolId:function(a){return"qs-widget-summary-price-symbol-"+a},getQsWidgetSummaryPriceWholeId:function(a){return"qs-widget-summary-price-whole-"+a},getQsWidgetSummaryPriceFractionId:function(a){return"qs-widget-summary-price-fraction-"+
a},getQsWidgetSummaryPriceDecimalId:function(a){return"qs-widget-summary-price-decimal-"+a},getQsWidgetSummaryAtcId:function(a){return"qs-widget-summary-atc-"+a},getQsWidgetFooterPriceContainerId:function(a){return"qs-widget-footer-price-container-"+a},getQsWidgetFooterPriceSymbolId:function(a){return"qs-widget-footer-price-symbol-"+a},getQsWidgetFooterPriceWholeId:function(a){return"qs-widget-footer-price-whole-"+a},getQsWidgetFooterPriceFractionId:function(a){return"qs-widget-footer-price-fraction-"+
a},getQsWidgetFooterPriceDecimalId:function(a){return"qs-widget-footer-price-decimal-"+a},getQsWidgetFooterQuantitySuffixContainerId:function(a){return"qs-widget-footer-quantitySuffix-container-"+a},getQsWidgetFooterQuantitySuffixId:function(a){return"qs-widget-footer-quantitySuffix-"+a},getQsWidgetButtonDecl:function(){return"qs-widget-button-decl"},getQsWidgetSummaryAtcDecl:function(){return"qs-widget-summary-atc-decl"},getQsWidgetQuantityChangelinkId:function(a){return"qs-widget-quantity-changelink-"+
a},getQsWidgetQuantityChangelinkDecl:function(){return"qs-widget-quantity-changelink-decl"},getQsWidgetDropdownItemDecl:function(){return"qs-widget-dropdown-item-decl"},getQsWidgetVariationDropdownItemDecl:function(){return"qs-widget-dropdown-variation-item-decl"},getQsWidgetDropdownDecl:function(){return"qs-widget-dropdown-decl"},getQsWidgetDropdownScrollMetricThreshold:function(){return 20},getQsWidgetBottomSheetId:function(a){return"qs-widget-bottom-sheet-"+a},getQsWidgetBottomSheetPriceTextId:function(a){return"qs-widget-bottom-sheet-price-text-"+
a},getQsWidgetBottomSheetContainerId:function(a){return"qs-widget-bottom-sheet-container-"+a},getQsWidgetBottomSheetQuantitySuffixId:function(a){return"qs-widget-bottom-sheet-quantitySuffix-"+a},getQsWidgetBottomSheetBackButtonId:function(a){return"qs-widget-bottom-sheet-back-button-"+a},getQsWidgetBottomSheetBackButtonDecl:function(){return"qs-widget-bottom-sheet-back-button-decl"},getQsWidgetSummaryDisclaimerId:function(a){return"qs-widget-summary-disclaimer-"+a},getQsWidgetSummaryDisclaimerContainerId:function(a){return"qs-widget-summary-disclaimer-container-"+
a},getQsWidgetBottomSheetTemplateId:function(){return"qs-widget-bottom-sheet-container-qsUID"},getQsWidgetBottomSheetSelectQuantityTextId:function(a){return"qs-widget-bottom-sheet-select-quantity-text-"+a},getQsWidgetBottomSheetImageId:function(a){return"qs-widget-bottom-sheet-image-"+a},getQsWidgetBottomSheetUnitTextId:function(a){return"qs-widget-bottom-sheet-unit-text-"+a},getQsWidgetBottomSheetTableId:function(a){return"qs-widget-bottom-sheet-table-"+a},getQsWidgetBottomSheetPpuTextId:function(a){return"qs-widget-bottom-sheet-ppu-text-"+
a},getQsWidgetInitialViewTextLinkId:function(a){return"qs-widget-link-"+a},getQsWidgetBottomSheetHeightConfig:function(a){return a?b:g},getQsWidgetBottomSheetDropDownScrollFactor:function(){return h},getQsWidget1DBottomSheetSelectorCssClass:function(){return"qs-widget-new-1d-dropdown-li"},getQsWidget2DBottomSheetQuantitySelectorCssClass:function(){return"qs-widget-new-2d-dropdown-qs-li"},getQsWidget2DBottomSheetVariationSelectorCssClass:function(){return"qs-widget-new-2d-dropdown-vs-li"},getQsWidgetVariationSelectorListMapKey:function(){return"variationSelectorListsMap"},
getQsWidgetVariationSelectorSelectedIdKey:function(){return"selectedId"},getQsWidgetVariationSelectorDisplayTextKey:function(){return"displayText"},getQsWidgetVariationSelectorDisplayTextWithQuantityKey:function(){return"displayTextWithQuantity"},getQsWidgetStepperIncrementDecl:function(){return"qs-widget-increment-decl"},getQsWidgetStepperDecrementDecl:function(){return"qs-widget-decrement-decl"},getQsWidgetStepperDecrementMinusIconId:function(a){return"qs-widget-decrement-minus-icon-"+a},getQsWidgetStepperDecrementTrashIconId:function(a){return"qs-widget-decrement-trash-icon-"+
a},getQsWidgetStepperAddToCartReftag:function(){return"_qs_atc"},getQsWidgetStepperDecrementReftag:function(){return"_qs_rm"},getQsWidgetStepperIncrementReftag:function(){return"_qs_add"},getQsWidgetBottomSheetReftag:function(){return"_qs_udt"}}})});"use strict";q.when("QSAssetDuplicationGuard").execute("qsMetadata-duplication-guard",function(p){p.when("A","QuantitySelectorState","QuantitySelectorAUIDeps").register("QuantitySelectorMetadata",function(f,a,b){function g(b){return(b=a.getQsWidgetConfiguration(b).metadata)?
JSON.parse(b):null}return{isWeblabEnabled:function(a,b,f){a:{if((a=g(a))&&a.weblabs)for(var k=0;k<a.weblabs.length;k++){var h=a.weblabs[k];if(h.weblabName==b){b=h.treatment;break a}}b=null}return null==b?f:"T1"==b?!0:!1},getMetaConfiguration:function(a,b){return(a=g(a))?a[b]:null}}})});"use strict";q.when("A","QSAssetDuplicationGuard").execute("qsMetrics-duplication-guard",function(p,f){f.when("A","QuantitySelectorAUIDeps","QuantitySelectorConstants").register("QuantitySelectorMetrics",function(a,
b,f){function h(a){v.ue&&v.ue.count&&a&&ue.count(a,(ue.count(a)||0)+1)}q.when("ready").execute(function(){a.now()});return{incrementInitializeCount:function(a,b){var f="QuantitySelector-Initialize";f=a?f+"-Success-Count":f+"-Failed-Count";h(b?f+":mobile":f+":desktop")},incrementInvalidIdCount:function(){h("QuantitySelector-InvalidID")},incrementTriggerActionCount:function(a,b,f){a="QuantitySelector-TriggerAction-"+a;a=b?a+"-Success-Count":a+"-Failed-Count";h(f?a+":mobile":a+":desktop")},incrementChangeLinkCount:function(){h("QuantitySelector-ChangeLink-Count")},
incrementShowPopup:function(a){var b="QuantitySelector-ShowPopup-Count";h(a?b+":mobile":b+":desktop")},incrementQsItemNotFound:function(a,b){var f="QuantitySelector-QsItemNotFound-Count";h(a?f+":mobile:"+b:f+":desktop:"+b)},logLatencyMetric:function(a,b,f){a="QuantitySelector-TimeTo-"+a;v.ue&&v.ue.count&&a&&"undefined"!==typeof v.ue_t0&&(b-=v.ue_t0,ue.count(a,b),ue.count(a+"Hundredths",Math.floor(b/10)))},logCsm:function(a,h){var g=b.aState.state(f.getQsWidgetConfigurationId(a));if(g&&(a="mobile"==
g.viewType.toLowerCase()?"mob":"dsk",(g=g.qsCsm)&&g.almBrandRefMarker&&g.pageRefMarker)){a:{var k=g.sellingUomDimension;var d=g.pricingUomDimension;if(k&&d){var l="s";switch(k){case "count":l+="u";break;case "weight":l+="w";break;default:k=void 0;break a}l+="p";switch(d){case "count":l+="u";break;case "weight":l+="w";break;default:k=void 0;break a}k=l}else k=void 0}k&&(h={pageType:g.pageType,subPageType:g.subPageType,pageTypeId:g.pageTypeId,storeName:g.tabId,programRegionId:g.programRegionId,hitType:g.hitType,
refMarker:g.almBrandRefMarker+"_"+a+"_"+g.pageRefMarker+"_qs_"+h+"_"+k,fromTabName:g.fromTabName,toTabName:g.toTabName},v.ue&&v.ue.event&&ue.event(h,"quantityselector_attr","quantityselector.QuantityselectorMetrics.2"))}}}})});"use strict";q.when("QSAssetDuplicationGuard").execute("qsState-duplication-guard",function(p){p.when("A","QuantitySelectorConstants","QuantitySelectorMetrics","QuantitySelectorAUIDeps").register("QuantitySelectorState",function(f,a,b,g){function h(b){var e=g.aState.state(a.getQsWidgetConfigurationId(b));
B(b)||(k(b),e=g.aState.state(a.getQsWidgetConfigurationId(b)));return e}function k(b){var e=a.getQsWidgetConfigurationId(b);b=a.getQsWidgetStateScriptSelectorQuery(b);try{var d=f.$(b).first(),l=JSON.parse(d.html());g.aState.state(e,l)}catch(u){if(e=a.getQsWidgetConfigurationJsonString(),d.html().includes(e))throw u;}}function B(b){return(b=g.aState.state(a.getQsWidgetConfigurationId(b)))&&b.id?!0:!1}function x(a){var b=h(a),f=b.selectedId;b=b.selectedQuantity;0==b||b?d(a,b):f&&n(a,f)}function n(b,
e){e={previousSelectedId:e,previousSelectedQuantity:null};g.aState.state(a.getQsWidgetConfigurationId(b),e)}function d(b,e){e={previousSelectedQuantity:e,previousSelectedId:null};g.aState.state(a.getQsWidgetConfigurationId(b),e)}function l(){for(var b=[],e=f.$(a.getQsWidgetGenericStateSelectorQuery()),d=a.getQsWidgetConfigurationId(""),l=0;l<e.length;l++)try{var g=e[l].getAttribute("data-a-state"),h=JSON.parse(g).key;if(h&&h.substring(0,d.length)==d){var k=h.substring(d.length);b.push(k)}}catch(F){var B=
a.getQsWidgetStateAttributeJsonString();if(g.includes(B))throw F;}return b}f.on(a.getQsWidgetEventConfigureList(),function(a){"function"===typeof a&&a(l())});f.on(a.getQsWidgetEventConfigureGet(),function(a,b){a=h(a);"function"===typeof b&&b(a)});f.on(a.getQsWidgetEventConfigureSet(),function(b,e){g.aState.state.replace(a.getQsWidgetConfigurationId(b),e);f.trigger(a.getQsWidgetEventInitialize(),!0,b)});return{getQsWidgetConfiguration:h,loadQsWidgetStateConfiguration:function(a){B(a)||k(a)},reloadQsWidgetStateConfiguration:k,
saveOriginalSettings:function(a){},setEnable:function(b,e){e={enable:e};g.aState.state(a.getQsWidgetConfigurationId(b),e)},setInitialized:function(b){g.aState.state(a.getQsWidgetConfigurationId(b),{initialized:!0})},setSelectedId:function(b,e,d){"SIMPLIFIED_QUANTITY_STEPPER"!==h(b).shapeType&&(d||x(b),e={selectedId:e,selectedQuantity:null},g.aState.state(a.getQsWidgetConfigurationId(b),e))},setSelectedQuantity:function(b,e,d){d||x(b);e={selectedId:null,selectedQuantity:e};g.aState.state(a.getQsWidgetConfigurationId(b),
e)},setPreviousSelectedId:n,setPreviousSelectedQuantity:d,setData:function(b,e){g.aState.state(a.getQsWidgetConfigurationId(b),e)},getQsUIDs:l}})});"use strict";q.when("QSAssetDuplicationGuard").execute("qsTemplates-duplication-guard",function(p){p.when("A","QuantitySelectorState","QuantitySelectorConstants","QuantitySelectorAUIDeps","QuantitySelectorUtils").register("QuantitySelectorTemplates",function(f,a,b,g,h){function k(a,b){f.$("#"+a+" .replace-qsUID").each(function(){var a=f.$(this).attr("id");
f.$(this).attr("id",a.replace("qsUID",b))})}return{generateBottomSheet:function(g){var p=h.getQsWidgetBottomSheetTemplateElement().clone(!0);p.appendTo(h.getQsWidgetContainer(g));p.attr("id",b.getQsWidgetBottomSheetContainerId(g));var n=a.getQsWidgetConfiguration(g);p.attr("cel_widget_id","qs-widget-metric-"+n.qsMetricID+"-bottomsheet");p.addClass(n.cssClass);k(b.getQsWidgetBottomSheetContainerId(g),g);h.getQsWidgetBottomSheetSelectQuantityTextElement(g).text(n.bottomSheetSelectQuantityText);h.getQsWidgetBottomSheetUnitTextElement(g).text(n.bottomSheetSelectQuantityUnitText);
h.getQsWidgetBottomSheetUnitTextElement(g).attr("aria-label",n.bottomSheetSelectQuantityUnitAriaLabelText);h.getQsWidgetBottomSheetPpuTextElement(g).text(n.bottomSheetPricePerUnitText.replace(/&nbsp;/g," "));h.getQsWidgetBottomSheetPriceTextElement(g).text(n.estTotalPriceText);h.getQsWidgetBottomSheetImageElement(g).attr("src",n.bottomSheetImageUrl);n.summaryDisclaimerText?h.getQsWidgetSummaryDisclaimerElement(g).text(n.summaryDisclaimerText):(h.getQsWidgetBottomSheetTableElement(g).attr("style",
"border-bottom: 0px solid !important;"),h.getQsWidgetSummaryDisclaimerContainerElement(g).remove());"right"===n.currencySymbolPosition&&h.getQsWidgetSummaryPriceSymbolElement(g).insertAfter(h.getQsWidgetSummaryPriceFractionElement(g));p=h.getQsWidgetSummaryAtcButtonAsComponent(g);h.isStepper(g)?p.text(n.bottomSheetUpdateCartText):p.text(n.bottomSheetAddToCartText);f.declarative.create(h.getQsWidgetSummaryAtcButton(g),b.getQsWidgetSummaryAtcDecl(),{qsUID:g})}}})});"use strict";q.when("QSAssetDuplicationGuard").execute("qsUtils-duplication-guard",
function(p){p.when("A","QuantitySelectorState","QuantitySelectorConstants","QuantitySelectorAUIDeps","QuantitySelectorMetrics").register("QuantitySelectorUtils",function(f,a,b,g,h){function k(c){return"true"==c||1==c?!0:!1}function p(c){return"mobile"==a.getQsWidgetConfiguration(c).viewType.toLowerCase()?!0:!1}function q(c){c=a.getQsWidgetConfiguration(c);return"QUANTITY_STEPPER"===c.shapeType||"SIMPLIFIED_QUANTITY_STEPPER"===c.shapeType}function n(c){return"SIMPLIFIED_QUANTITY_STEPPER"===a.getQsWidgetConfiguration(c).shapeType}
function d(c){var b=a.getQsWidgetConfiguration(c);return n(c)||"undefined"!=typeof b.showATCButtonWhenZeroQuantity&&b.showATCButtonWhenZeroQuantity?!0:!1}function l(c){c=a.getQsWidgetConfiguration(c);return k(c.showConfirmationView)?!0:!1}function r(c){c=a.getQsWidgetConfiguration(c);return k(c.allowZeroQuantity)?!0:!1}function e(c){return a.getQsWidgetConfiguration(c).initialView.toLowerCase()==b.getQsWidgetInitialViewChooseQuantity()?!0:!1}function m(c){c=y(c);return null==c||1>c.length?!1:!0}function w(c){c=
a.getQsWidgetConfiguration(c).variationSelectorListsMap;if(null==c)return null;c=Object.keys(c);return null==c||1>c.length?null:c[0]}function u(c,b){var t=a.getQsWidgetConfiguration(c).variationSelectorListsMap;if(null==t)return null;null==b&&(b=w(c));return null==b?null:t[b]}function y(c,a){c=u(c,a);return null==c?null:c.selectorItems}function D(c){return a.getQsWidgetConfiguration(c).bottomSheetChangeCurrentQuantityText}function A(c,a){c=C(c,a).quantityText;return"+"==c.substr(c.length-1)?{result:!0,
initialQuantityText:c.substr(0,c.length-1)}:{result:!1}}function F(c,b){var t=a.getQsWidgetConfiguration(c),e=t.qsItems.length;t=t.allowZeroQuantity;if(E(c)){if(1==b||t&&2==b)return!0}else if(b==e||b==e-1&&t)return!0;return!1}function da(c,b){var t=a.getQsWidgetConfiguration(c).qsItems;if(E(c)){if(b==t.length)return!0}else if(1==b)return!0;return!1}function E(c){c=a.getQsWidgetConfiguration(c).qsItems;return z(c[c.length-1])>z(c[0])?!0:!1}function I(c){var a=N(c);a&&f.trigger(b.getQsWidgetEventSelectQuantity(),
c,a,!1);Q(c);f.trigger(b.getQsWidgetEventInitialized(),c)}function R(c){c.removeClass("aok-hidden")}function J(c){var a=f.$("#"+b.getQsWidgetQuantityChangelinkId(c));c=f.$("#"+b.getQsWidgetTextInputUpdateButtonId(c));a.attr("draggable","false");c.attr("draggable","false")}function K(c){return f.$("#"+b.getQsWidgetContainerId(c))}function ea(c){return f.$("#"+b.getQsWidgetButtonContainerId(c))}function L(c){return g.aButton("#"+b.getQsWidgetButtonId(c))}function S(c){return f.$("#"+b.getQsWidgetStepperId(c))}
function T(c){return g.aButton("#"+b.getQsWidgetAtcButtonId(c))}function U(c){return g.aButton("#"+b.getQsWidgetPlusButtonId(c))}function V(c){return f.$("#"+b.getQsWidgetButtonId(c)+"-announce")}function fa(c){return f.$("#"+b.getQsWidgetDropdownContainerId(c))}function ha(c){return f.$("#"+b.getQsWidgetDropdownViewId(c))}function O(c){return f.$("#"+b.getQsWidgetVariationDropdownViewId(c))}function W(c){return f.$("#"+b.getQsWidgetDropdownUnorderedListId(c))}function ia(c){return f.$("#"+b.getQsWidgetTextInputContainerId(c))}
function M(c){return f.$("#"+b.getQsWidgetTextInputId(c))}function ja(c){return f.$("#"+b.getQsWidgetTextInputUpdateButtonContainerId(c))}function ka(c){return f.$("#"+b.getQsWidgetSummaryAtcId(c))}function la(c){return g.aButton("#"+b.getQsWidgetSummaryAtcId(c))}function ma(c){return f.$("#"+b.getQsWidgetBottomSheetPriceTextId(c))}function X(c){return f.$("#"+b.getQsWidgetStepperDecrementMinusIconId(c))}function Y(c){return f.$("#"+b.getQsWidgetStepperDecrementTrashIconId(c))}function C(c,b){try{var t=
a.getQsWidgetConfiguration(c).qsItems[parseInt(b)-1];return t.id===b?t:na(c,b)}catch(G){return na(c,b)}}function na(c,b){c=a.getQsWidgetConfiguration(c);for(var t=0;t<c.qsItems.length;t++)if(c.qsItems[t].id==b)return c.qsItems[t]}function z(c){return parseFloat(JSON.parse(c.data).quantity)}function oa(c,a){var e=u(c,a);if(null==e)return null;e=e[b.getQsWidgetVariationSelectorSelectedIdKey()];if(null==e)return pa(c);c=y(c,a);if(null==c)return null;for(a=0;a<c.length;a++)if(c[a].id==e)return c[a];return null}
function pa(c,a){c=y(c,a);if(null==c)return null;for(a=0;a<c.length;a++)if(k(c[a].isSelected))return c[a];return null}function Z(c){var b=a.getQsWidgetConfiguration(c).selectedId;return b?b:qa(c)}function qa(c){c=a.getQsWidgetConfiguration(c);if(c.qsItems&&0!=c.qsItems.length){for(var b=0;b<c.qsItems.length;b++)if(k(c.qsItems[b].isSelected))return c.qsItems[b].id;return c.qsItems[0].id}}function ra(c,a){var e=u(c,a);if(null==e)return null;e=e[b.getQsWidgetVariationSelectorSelectedIdKey()];return null!=
e?e:sa(c,a)}function sa(c,a){c=pa(c);return null==c?null:c.id}function N(c){return a.getQsWidgetConfiguration(c).selectedQuantity}function ta(c,a){return 0>a?c[0].id:a>=c.length?c[c.length-1].id:c[a].id}function ua(c,a){if(null==c)return 0;for(var b=0;b<c.length;b++)if(a==c[b].id)return b}function aa(c,a){return(c=D(c))?a+c:"Current quantity "+a+". Click to change quantity"}function ba(c,a){return(r(c)?/^(([0-9]\d{0,2}))$/:/^(([1-9]\d{0,2})|(0[1-9]\d?)|(00[1-9]))$/).test(a)}function va(c,a){var b=
ia(c),e=ja(c);ea(c).addClass("aok-hidden");R(b);var d=M(c);a&&d.val(a);a=d.val();ba(c,a)&&N(c)!==a?R(e):e.addClass("aok-hidden");p(c)?d.focus():setTimeout(function(){d.focus()},200)}function Q(c){if(c){var a=f.$("#"+b.getQsWidgetCheckboxId(c)),e=K(c);c=f.$("#"+b.getQsWidgetSpinnerId(c))}else a=f.$(b.getQsWidgetInputSelectorQueryForCheckboxes()),c=f.$(b.getQsWidgetDivSelectorQueryForSpinners()),e=f.$(b.getQsWidgetDivSelectorQueryForWidgetContainers());a.remove();c.remove();e.removeClass("qs-widget-hidden")}
function wa(c,b){b=b.displayTextWithQuantityList;var e=a.getQsWidgetConfiguration(c).qsItems;c=Z(c);for(var d=0;d<e.length;d++)if(e[d].id==c)return b[d];return null}function xa(c,a){null==a&&(a=w(c));if(null==a)return{};var e=oa(c,a);if(null==e)return{};var d=p(c)?e.displayTextForMobile:e.dissplayTextForDesktop;c=wa(c,e);var t={};t[a]=JSON.parse(e.data);t[a][b.getQsWidgetVariationSelectorDisplayTextKey()]=d;t[a][b.getQsWidgetVariationSelectorDisplayTextWithQuantityKey()]=c;return t}function ya(c,
a){c=u(c,a);return null==c||null==c.actionTriggerId||""==c.actionTriggerId?null:c.actionTriggerId}function ca(c,e,d,g,l){l=a.getQsWidgetConfiguration(c);var t=l.selectedId,P=l.selectedQuantity,h=q(c);g=h&&g!=b.getQsWidgetStepperAddToCartReftag();var k=a.getQsWidgetConfiguration(c);var G=k.previousSelectedQuantity;k=k.previousSelectedId;G=G?G:k?z(C(c,k)):null;k=JSON.parse(l.staticData);if(t)for(var r=0;r<l.qsItems.length;r++)if(l.qsItems[r].id==t){var w=JSON.parse(l.qsItems[r].data);w=f.$.extend({qsUID:c,
prevSelectedQty:G,isStepperFlag:h,setQuantityFlag:g,tunneledData:e,quantityData:w},k,w);m(c)&&(w=f.$.extend(w,xa(c,d)))}if(P||0==P)w=f.$.extend({qsUID:c,prevSelectedQty:G,isStepperFlag:h,setQuantityFlag:g,tunneledData:e},k,{quantity:P}),m(c)&&(w=f.$.extend(w,xa(c,d)));return w}var H=[];f.on(b.getQsWidgetEventTriggerAction(),function(c,e,d,m,l){var t=a.getQsWidgetConfiguration(c);e||(e=t.actionId);t="mobile"==t.viewType.toLowerCase();var g=!1;(c=ca(c,d,null,m,l))&&c.ref&&null!=m&&(c.reftag=c.ref+m);
c&&(f.trigger(b.getQsWidgetEventAction(e),c),h.incrementTriggerActionCount(e,!0,t),g=!0);g||h.incrementTriggerActionCount(e,!1,t)});f.on(b.getQsWidgetVariationEventTriggerAction(),function(c,e,d,m){var t="mobile"==a.getQsWidgetConfiguration(c).viewType.toLowerCase();d=ca(c,d);null==e&&(e=ya(c,m));null!=e&&(f.trigger(b.getQsWidgetEventAction(e),d),h.incrementTriggerActionCount(e,!1,t))});return{isInitialized:function(c){return(c=a.getQsWidgetConfiguration(c))?c.initialized:!1},isMobile:p,isSimplifiedStepper:n,
isStepper:q,isQsWidgetEnabled:function(c){c=a.getQsWidgetConfiguration(c);return c.hasOwnProperty("enable")?k(c.enable):!0},isQsWidgetQuantityZero:function(c){var b=a.getQsWidgetConfiguration(c);return b.selectedId&&0==z(C(c,b.selectedId))||b.selectedQuantity&&"0"==b.selectedQuantity?!0:!1},isConfirmationViewEnabled:l,isAllowZeroQuantityEnabled:r,isInitialViewDropdown:function(c){return a.getQsWidgetConfiguration(c).initialView.toLowerCase()==b.getQsWidgetInitialViewDropdown()?!0:!1},isInitialViewTextLink:function(c){return a.getQsWidgetConfiguration(c).initialView.toLowerCase()==
b.getQsWidgetInitialViewTextLink()?!0:!1},isInitialViewChooseQuantity:e,isVariationSelectorEnabled:m,getVariationSelectorItemList:u,getQsWidgetBottomSheetConfig:function(c){var e=a.getQsWidgetConfiguration(c),d=b.getQsWidgetBottomSheetHeightConfig(e.enabledBottomSheetWith2DSupport),f=0;e.summaryDisclaimerText||(f=l(c)?d.disclaimerTextAdjustmentWithAtc:d.disclaimerTextAdjustment);return l(c)?{closeMessage:e.bottomSheetCancelText,height:d.heightWithAtc-f}:{closeMessage:e.bottomSheetDoneText,height:d.height-
f}},getQsWidgetBottomSheetChangeCurrentQuantityText:D,isActionTriggerOnConfirmation:function(c){return a.getQsWidgetConfiguration(c).actionTrigger.toLowerCase()==b.getQsWidgetActionTriggerOnConfirmation()?!0:!1},isActionTriggerOnSelect:function(c){return a.getQsWidgetConfiguration(c).actionTrigger.toLowerCase()==b.getQsWidgetActionTriggerOnSelect()?!0:!1},isVariationSelectorTriggerOnSelect:function(c){return null==c?!1:c.actionTriggerType.toLowerCase()==b.getQsWidgetActionTriggerOnSelect()},isVariationSelectorTriggerOnConfirmation:function(c){return null==
c?!1:c.actionTriggerType.toLowerCase()==b.getQsWidgetActionTriggerOnConfirmation()},isTextInputRequired:A,isOrderMin:F,isOrderMax:da,isAscending:E,initializeWidget:function(c){if(n(c))I(c);else{var e=Z(c),d=N(c),l=a.getQsWidgetConfiguration(c);if(l.qsItems)for(var g=0;g<l.qsItems.length;g++)parseFloat(d)===z(l.qsItems[g])&&(e=l.qsItems[g].id,d=null);d?f.trigger(b.getQsWidgetEventSelectQuantity(),c,d,!1,function(){J(c)}):e&&f.trigger(b.getQsWidgetEventSelectId(),c,e,!1,function(){J(c)});m&&(e=ra(c),
null!=e&&f.trigger(b.getQsWidgetVariationEventSelectId(),c,e,!1,function(){}));Q(c);f.trigger(b.getQsWidgetEventInitialized(),c)}},activateWidget:function(c){var a=H.indexOf(c);-1<a&&H.splice(a,1);setTimeout(function(){H.push(c)},b.getQsWidgetActivateDebounce())},deactivateWidget:function(c){c=H.indexOf(c);-1<c&&H.splice(c,1)},getActivatedQsWidgets:function(){return H},hideComponent:function(c,a){c.addClass("aok-hidden")},showComponent:R,isComponentVisible:function(c){return!c.hasClass("aok-hidden")},
isElementVisible:function(c){return"hidden"!==c.css("visibility")},setElementVisibility:function(c,a){a?c.css("visibility","visible"):c.css("visibility","hidden")},setHtml:function(c,a){c.html(a)},setAtcButtonStepperText:function(c){if(q(c)&&e(c)){var b=a.getQsWidgetConfiguration(c),d=la(c);d.text(b.bottomSheetUpdateCartText);(b.selectedId&&0==z(C(c,b.selectedId))||"0"==b.selectedQuantity)&&d.text(b.bottomSheetAddToCartText)}},setQsWidgetContainerMinWidthAndHeight:function(a){a=K(a);a.css("min-width",
a.width()+"px");a.css("min-height",a.height()+"px")},resetQsWidgetContainerMinWidthAndHeight:function(a){a=K(a);a.css("min-width","0px");a.css("min-height","0px")},enableQsWidget:function(c){a.setEnable(c,!0);if(!n()){var b=L(c);c=M(c);b.enable();c.removeClass("a-form-disabled");c.addClass("a-form-normal");c.removeAttr("disabled")}},disableQsWidget:function(c){a.setEnable(c,!1);if(!n()){var b=L(c);c=M(c);b.disable();c.removeClass("a-form-normal");c.addClass("a-form-disabled");c.attr("disabled","disabled")}},
popOutDropDownContainer:function(c){var b=K(c),e=b.offset(),d=fa(c),m=e.left,l=e.top,g=a.getQsWidgetConfiguration(c).dropdownAnchorId;c=g.startsWith("qs-widget-container")?b:f.$("#"+g);if(g&&c.length){for(g=c;!g.is(document)&&"static"===g.css("position");)g=g.parent();l-=null===g.offset()?0:g.offset().top;m-=null===g.offset()?0:g.offset().left;d.appendTo(c)}else d.appendTo(document.body);m+d.width()>v.scrollX+f.$(v).width()&&(m=m+b.width()-d.width());e.top-v.scrollY+d.height()>f.$(v).height()&&(l=
l-d.height()+b.height());d.css({left:m,top:l})},getQsWidgetContainer:K,getQsWidgetButtonContainer:ea,getQsWidgetButtonAsComponent:L,getQsWidgetStepperElement:S,getQsWidgetAtcButtonAsComponent:T,getQsWidgetButton:V,getQsWidgetDropdownContainer:fa,getQsWidgetDropdownElement:function(a){return f.$("#"+b.getQsWidgetDropdownId(a))},getQsWidgetDropdownViewSelector:ha,getQsWidgetVariationDropdownViewSelector:O,getQsWidgetDropdownUnorderedListElement:W,getQsWidgetDropdownVariationUnorderedListElement:function(a){return f.$("#"+
b.getQsWidgetDropdownVariationUnorderedListId(a))},getQsWidgetDropdownItemElement:function(a,e){return f.$("#"+b.getQsWidgetDropdownItemAriaId(a,e))},getQsWidgetPlusButtonAsComponent:U,getQsWidgetTextInputContainer:ia,getQsWidgetTextInputElement:M,getQsWidgetTextInputUpdateButtonContainer:ja,getQsWidgetQuantityContainer:function(a){return f.$("#"+b.getQsWidgetQuantityContainerId(a))},getQsWidgetQuantityElement:function(a){return f.$("#"+b.getQsWidgetQuantityId(a))},getQsWidgetQuantitySuffixElement:function(a){return f.$("#"+
b.getQsWidgetQuantitySuffixId(a))},getQsWidgetInitialViewSuffixElement:function(a){return f.$("#"+b.getQsWidgetInitialViewSuffixId(a))},getQsWidgetSummaryAtcButton:ka,getQsWidgetSummaryAtcButtonAsComponent:la,getQsWidgetSummaryPriceContainerElement:function(a){return f.$("#"+b.getQsWidgetSummaryPriceId(a))},getQsWidgetSummaryPriceSymbolElement:function(a){return f.$("#"+b.getQsWidgetSummaryPriceSymbolId(a))},getQsWidgetSummaryPriceWholeElement:function(a){return f.$("#"+b.getQsWidgetSummaryPriceWholeId(a))},
getQsWidgetSummaryPriceFractionElement:function(a){return f.$("#"+b.getQsWidgetSummaryPriceFractionId(a))},getQsWidgetSummaryPriceDecimalElement:function(a){return f.$("#"+b.getQsWidgetSummaryPriceDecimalId(a))},getQsWidgetSummaryDisclaimerElement:function(a){return f.$("#"+b.getQsWidgetSummaryDisclaimerId(a))},getQsWidgetSummaryDisclaimerContainerElement:function(a){return f.$("#"+b.getQsWidgetSummaryDisclaimerContainerId(a))},getQsWidgetFooterPriceContainer:function(a){return f.$("#"+b.getQsWidgetFooterPriceContainerId(a))},
getQsWidgetFooterPriceSymbolElement:function(a){return f.$("#"+b.getQsWidgetFooterPriceSymbolId(a))},getQsWidgetFooterPriceWholeElement:function(a){return f.$("#"+b.getQsWidgetFooterPriceWholeId(a))},getQsWidgetFooterPriceFractionElement:function(a){return f.$("#"+b.getQsWidgetFooterPriceFractionId(a))},getQsWidgetFooterPriceDecimalElement:function(a){return f.$("#"+b.getQsWidgetFooterPriceDecimalId(a))},getQsWidgetFooterQuantitySuffixContainer:function(a){return f.$("#"+b.getQsWidgetFooterQuantitySuffixContainerId(a))},
getQsWidgetFooterQuantitySuffixElement:function(a){return f.$("#"+b.getQsWidgetFooterQuantitySuffixId(a))},getQsWidgetBottomSheetQuantitySuffixElement:function(a){return f.$("#"+b.getQsWidgetBottomSheetQuantitySuffixId(a))},getQsWidgetBottomSheetPriceTextElement:ma,getQsWidgetBottomSheetTemplateElement:function(){return f.$("#"+b.getQsWidgetBottomSheetTemplateId())},getQsWidgetBottomSheetSelectQuantityTextElement:function(a){return f.$("#"+b.getQsWidgetBottomSheetSelectQuantityTextId(a))},getQsWidgetBottomSheetImageElement:function(a){return f.$("#"+
b.getQsWidgetBottomSheetImageId(a))},getQsWidgetBottomSheetUnitTextElement:function(a){return f.$("#"+b.getQsWidgetBottomSheetUnitTextId(a))},getQsWidgetBottomSheetTableElement:function(a){return f.$("#"+b.getQsWidgetBottomSheetTableId(a))},getQsWidgetBottomSheetPpuTextElement:function(a){return f.$("#"+b.getQsWidgetBottomSheetPpuTextId(a))},getQsWidgetInitialViewTextLinkElement:function(a){return f.$("#"+b.getQsWidgetInitialViewTextLinkId(a))},getQsWidgetAtcButton:function(a){return f.$("#"+b.getQsWidgetAtcButtonId(a))},
getQsWidgetPlusButton:function(a){return f.$("#"+b.getQsWidgetPlusButtonId(a))},getQsWidgetMinusButton:function(a){return f.$("#"+b.getQsWidgetMinusButtonId(a))},getQsWidgetStepperDecrementMinusIconElement:X,getQsWidgetStepperDecrementTrashIconElement:Y,getQsItem:C,getQsItemQuantity:z,getClientId:function(c){c=a.getQsWidgetConfiguration(c);return c.clientId?c.clientId:"unrec-client"},getClosestDecrementalQsItem:function(c,b){c=a.getQsWidgetConfiguration(c).qsItems;for(var e=Number.MAX_SAFE_INTEGER,
d=0,f=0;f<c.length;f++){var m=b-z(c[f]);0<=m&&m<e&&(e=m,d=f)}return c[d]},getClosestIncrementalQsItem:function(c,b){c=a.getQsWidgetConfiguration(c).qsItems;for(var e=Number.MAX_SAFE_INTEGER,d=0,f=0;f<c.length;f++){var m=z(c[f])-b;0<=m&&m<e&&(e=m,d=f)}return c[d]},getNextDecrementQsItem:function(c,b){var e=a.getQsWidgetConfiguration(c).qsItems;b=parseInt(b);E(c)&&0<b-1?--b:!E(c)&&b+1<=e.length&&(b+=1);return C(c,b)},getNextIncrementQsItem:function(c,b){var e=a.getQsWidgetConfiguration(c).qsItems;b=
parseInt(b);E(c)&&b+1<=e.length?b+=1:!E(c)&&0<b-1&&--b;return C(c,b)},getVariationSelectorItemById:function(a,b,e){a=y(a,e);if(null==a)return null;for(e=0;e<a.length;e++)if(a[e].id==b)return a[e];return null},getSelectedVariationSelectorItem:oa,getSelectedQsItemId:Z,getInitialSelectedQsItemId:qa,getSelectedQuantity:N,getInitialSelectedVariationSelectorItemId:sa,getSelectedVariationSelectorItemIdData:function(a,e,d){null==d&&(d=w(a));if(null==d)return null;a={};a[b.getQsWidgetVariationSelectorSelectedIdKey()]=
e;e={};e[b.getQsWidgetVariationSelectorListMapKey()]={};e[b.getQsWidgetVariationSelectorListMapKey()][d]=a;return e},getSelectedVariationSelectorItemId:ra,getQsItemFromQuantityText:function(c,b){c=a.getQsWidgetConfiguration(c).qsItems;if(!c)return null;for(var e=0;e<c.length;e++)if(b.toLowerCase()==c[e].quantityText.toLowerCase()||parseFloat(b)==parseFloat(c[e].quantityText))return c[e]},getQsItemFromQuantity:function(c,b){c=a.getQsWidgetConfiguration(c);c=c.qsItems?c.qsItems:{};b=parseFloat(b);for(var e=
0;e<c.length;e++)if(z(c[e])==b)return c[e]},getFocusedQsItemIdInBottomSheet:function(c){var e=ha(c).scrollTop(),d=b.getQsWidgetBottomSheetDropDownScrollFactor();e=parseInt((e-d.constant+d.adjustment)/d.increment);c=a.getQsWidgetConfiguration(c).qsItems;return ta(c,e)},getFocusedVariationSelectorItemIdInBottomSheet:function(a,e){var c=O(a);if(null==c)return null;c=c.scrollTop();var d=b.getQsWidgetBottomSheetDropDownScrollFactor();c=parseInt((c-d.constant+d.adjustment)/d.increment);a=y(a,e);return ta(a,
c)},getIndexFromIdInBottomSheet:function(c,b){c=a.getQsWidgetConfiguration(c).qsItems;return ua(c,b)},getAriaLabelTextForSelectOption:aa,getVariationSelectorIndexFromIdInBottomSheet:function(a,b,e){a=y(a,e);return ua(a,b)},saveQsWidgetDropdownTopPosition:function(c){var b=W(c);b&&b.position()&&(b=b.position().top,a.setData(c,{scrollTop:b}));return!1},setQsWidgetDropdownScrolled:function(c){a.setData(c,{scrollTop:-65536})},clearQsWidgetDropdownScrolled:function(c){a.setData(c,{scrollTop:b.getQsWidgetDropdownScrollMetricThreshold()})},
isQsWidgetDropdownScrolled:function(c){var e=W(c);return e?(e=e.position().top,(c=a.getQsWidgetConfiguration(c).scrollTop)?Math.abs(e-c)>b.getQsWidgetDropdownScrollMetricThreshold():!1):!1},generateQsDropdownDOM:function(c){var e="",d=a.getQsWidgetConfiguration(c),f=d.qsItems;d=d.selectedId;var g=p(c);if(!f)return"";for(var l=0;l<f.length;l++){var h=f[l].id,k=f[l].quantityText,w=f[l].quantityTextAbbreviatedSuffix;if(g){var r=c;var u=w,n=C(r,h);w=k;if(u){var q=u.indexOf("\x3c");if(-1!=q){var y=u.indexOf("\x3c",
q+1);if(u=u.substring(q,y))u=u.split("\x3e")[1],w+=". ",q=u,u=a.getQsWidgetConfiguration(r).estText,w+=u?u+" "+q:"Total est. "+q}else w=w+"."+u}n=n.price;u=ma(r).html();w=w+". "+u+" "+(n.currencySymbol+n.wholeValue+n.decimalSeparator+n.fractionValue);n=m(r)?b.getQsWidget2DBottomSheetQuantitySelectorCssClass():b.getQsWidget1DBottomSheetSelectorCssClass();u=b.getQsWidgetDropdownItemId(r,h);q=b.getQsWidgetDropdownItemDecl();r='\x3cspan class\x3d"a-declarative" data-action\x3d"'+q+'" data-'+q+'\x3d"{\x26quot;qsUID\x26quot;:\x26quot;'+
r+"\x26quot;,\x26quot;id\x26quot;:"+h+'}"\x3e\x3cli tabindex\x3d"-1" role\x3d"option" id\x3d"'+u+'" aria-label\x3d"'+w+'" class\x3d"'+n+'"\x3e'+k+"\x3c/li\x3e\x3c/span\x3e"}else{r=c;var v=w;w=f[l].id==d;n=b.getQsWidgetDropdownItemId(r,h);u=b.getQsWidgetDropdownItemAriaId(r,h);var D=b.getQsWidgetDropdownItemQuantitySuffixId(r,h);q=b.getQsWidgetDropdownDecl(r);y="";v&&(y='\x3cspan id\x3d"'+D+'" class\x3d"a-size-mini a-color-tertiary"\x3e'+v+"\x3c/span\x3e");v="false";D="qs-widget-dropdown-link";w&&
(v="true",D+=" qs-widget-dropdown-link-active aok-block aok-nowrap");r='\x3cspan class\x3d"a-declarative" data-action\x3d"'+q+'" data-'+q+'\x3d"{\x26quot;qsUID\x26quot;:\x26quot;'+r+"\x26quot;,\x26quot;id\x26quot;:"+h+'}"\x3e\x3cli tabindex\x3d"-1" role\x3d"option" id\x3d"'+n+'" aria-labelledby\x3d"'+u+'" aria-checked\x3d"'+v+'" class\x3d"qs-widget-dropdown-item"\x3e\x3ca tabindex\x3d"0" href\x3d"javascript:void(0)" draggable\x3d"false" id\x3d"'+u+'" class\x3d"'+D+'"\x3e'+k+"\x26nbsp;\x26nbsp;"+y+
"\x3c/a\x3e\x3c/li\x3e\x3c/span\x3e"}e+=r}return e},generateVariationSelectorDOM:function(a,e){if(!p(a))return"";e=y(a,e);for(var c="",d=0;d<e.length;d++){var f=a,m=e[d].id,g=e[d].displayTextForMobile,l=e[d].ariaLabelText,h=b.getQsWidget2DBottomSheetVariationSelectorCssClass(),k=b.getQsWidgetDropdownItemId(f,m);b.getQsWidgetDropdownItemAriaId(f,m);var r=b.getQsWidgetVariationDropdownItemDecl();c+='\x3cspan class\x3d"a-declarative" data-action\x3d"'+r+'" data-'+r+'\x3d"{\x26quot;qsUID\x26quot;:\x26quot;'+
f+"\x26quot;,\x26quot;id\x26quot;:\x26quot;"+m+'\x26quot;}"\x3e\x3cli tabindex\x3d"-1" role\x3d"option" id\x3d"'+k+'" aria-label\x3d"'+l+'" class\x3d"'+h+'"\x3e'+g+"\x3c/li\x3e\x3c/span\x3e"}return c},isQsWidgetTextInputValid:ba,validateQsWidgetTextInput:function(a){var c=M(a),e=c.val();a=ba(a,e);var d=c.parent().hasClass(b.getQsWidgetAuiInputTextWrapperClass())?c.parent():c;if(a)return c.val(e.replace(/^0{2,}$/,"0").replace(/^0+(\d+)/g,"$1")),d.removeClass("a-form-error"),d.addClass("a-form-normal"),
!0;d.removeClass("a-form-normal");d.addClass("a-form-error");return!1},isUserClickInDropdown:function(a){var c=b.getQsWidgetDropdownContainerGenericId();for(a=null==a?null:a.target;null!=a;){if(a.id.substring(0,c.length)===c)return!0;a=a.parentElement}return!1},updateQsWidgetStepper:function(c,b){if(q(c)){var e=C(c,b),f=e.selectedText;L(c).text(f);V(c).attr("aria-label",aa(c,f));var m=X(c),g=Y(c),l=U(c);f=S(c);var h=T(c);F(c,b)||0==z(e)?(m.addClass("aok-hidden"),g.removeClass("aok-hidden")):(m.removeClass("aok-hidden"),
g.addClass("aok-hidden"));da(c,b)?(b=A(c,b),b.result?va(c,b.initialQuantityText):l.disable()):l.enable();b=a.getQsWidgetConfiguration(c);d(c)&&(0==z(e)||"0"==b.selectedQuantity?(f.addClass("aok-hidden"),h.show()):(h.hide(),f.removeClass("aok-hidden")))}},updateSimplifiedQsWidgetStepper:function(c,b){if(n(c)){var e=a.getQsWidgetConfiguration(c);L(c).text(b);V(c).attr("aria-label",aa(c,b));var d=X(c),f=Y(c),m=U(c),g=S(c);c=T(c);0==b||1==b?(d.addClass("aok-hidden"),f.removeClass("aok-hidden")):(d.removeClass("aok-hidden"),
f.addClass("aok-hidden"));b>=e.maxQuantity?m.disable():m.enable();0==b?(g.addClass("aok-hidden"),c.show()):(c.hide(),g.removeClass("aok-hidden"))}},showTextInput:va,hideSpinner:Q,EnableVariationSelector:function(a){a&&O(a).removeClass("qs-widget-disable")},DisableVariationSelector:function(a){a&&O(a).addClass("qs-widget-disable")},getVariationSelectorDisplayTextWithQuantity:wa,getVariationSelectorActionTriggerId:ya,getQsWidgetSelectionPayload:ca,isSUPU:function(c){var b=a.getQsWidgetConfiguration(c).qsCsm;
if(b&&(c=b.sellingUomDimension,b=b.pricingUomDimension,c&&b))return"count"==c&&"count"==b?!0:!1},showATCButtonWhenZeroQuantity:d,isConfirmationVisible:function(a){return ka(a).is(":visible")},isBottomSheetExist:function(a){return g.aSheet.get(b.getQsWidgetBottomSheetId(a))?!0:!1}}})});"use strict";q.when("QSAssetDuplicationGuard").execute("qsWidget-duplication-guard",function(q){q.when("A","QuantitySelectorUtils","QuantitySelectorState","QuantitySelectorConstants","QuantitySelectorMetrics").register("QuantitySelectorWidget",
function(f,a,b,g,h){function k(b){a.deactivateWidget(b);var d=a.getQsWidgetButtonContainer(b),f=a.getQsWidgetDropdownContainer(b),e=a.getQsWidgetDropdownElement(b),m=a.getQsWidgetQuantityContainer(b),g=a.getQsWidgetSummaryAtcButton(b),h=a.getQsWidgetFooterPriceContainer(b),k=a.getQsWidgetFooterQuantitySuffixContainer(b);a.setElementVisibility(h,!0);a.setElementVisibility(k,!0);h=a.getQsWidgetTextInputContainer(b);a.isComponentVisible(h)||a.showComponent(d);a.hideComponent(f);a.hideComponent(e);a.hideComponent(m);
a.hideComponent(g);a.resetQsWidgetContainerMinWidthAndHeight(b)}function q(d,l,h){var e=a.getQsItem(d,l),m=e.quantityText,k=e.quantityTextAbbreviatedSuffix,r=e.quantityTextFullSuffix,q=e.selectedText;e=e.price;var n=a.getQsWidgetSummaryPriceSymbolElement(d),p=a.getQsWidgetSummaryPriceWholeElement(d),v=a.getQsWidgetSummaryPriceFractionElement(d),x=a.getQsWidgetSummaryPriceDecimalElement(d);a.setHtml(n,e.currencySymbol);a.setHtml(p,e.wholeValue);a.setHtml(v,e.fractionValue);a.setHtml(x,e.decimalSeparator);
n=a.getQsWidgetQuantityElement(d);a.setHtml(n,m);m=a.getQsWidgetQuantitySuffixElement(d);k&&r?(a.setHtml(m,k),k=a.getQsWidgetInitialViewSuffixElement(d),a.setHtml(k,r)):a.setHtml(m,"");k=a.getQsWidgetFooterPriceSymbolElement(d);m=a.getQsWidgetFooterPriceWholeElement(d);n=a.getQsWidgetFooterPriceFractionElement(d);p=a.getQsWidgetFooterPriceDecimalElement(d);a.setHtml(k,e.currencySymbol);a.setHtml(m,e.wholeValue);a.setHtml(n,e.fractionValue);a.setHtml(p,e.decimalSeparator);r&&(e=a.getQsWidgetFooterQuantitySuffixElement(d),
a.setHtml(e,r));r="Current quantity "+q+". Click to change quantity";a.isInitialViewDropdown(d)?(a.getQsWidgetButtonAsComponent(d).text(q),a.getQsWidgetButton(d).attr("aria-label",r)):a.isInitialViewTextLink(d)&&(e=a.getQsWidgetInitialViewTextLinkElement(d),e.text(q),e.attr("aria-label",r));a.setAtcButtonStepperText(d);b.setPreviousSelectedId(d,b.getQsWidgetConfiguration(d).selectedId);b.setSelectedId(d,l);a.isStepper(d)&&a.updateQsWidgetStepper(d,l);h&&f.trigger(g.getQsWidgetEventTriggerAction(),
d)}function p(d,l){if(!a.isSimplifiedStepper(d)){var h=a.getQsWidgetTextInputElement(d),e=h.val(),m=a.getQsWidgetButtonContainer(d),k=a.getQsWidgetTextInputContainer(d),n=a.getQsWidgetTextInputUpdateButtonContainer(d),p=a.getQsItemFromQuantityText(d,e),v=a.isStepper(d);a.hideComponent(n);v&&a.getQsWidgetButtonAsComponent(d).text(e);p?(a.hideComponent(k),a.showComponent(m),q(d,p.id,l)):(a.hideComponent(m),a.showComponent(k),h.blur(),b.setSelectedQuantity(d,e),h=b.getQsWidgetConfiguration(d),v&&a.isInitialViewChooseQuantity(d)&&
0==h.selectedQuantity&&(h=a.getQsWidgetStepperElement(d),n=a.getQsWidgetAtcButtonAsComponent(d),a.hideComponent(k),a.showComponent(m),a.hideComponent(h),n.show()),l&&f.trigger(g.getQsWidgetEventTriggerAction(),d));v&&a.isInitialViewChooseQuantity(d)&&0<e&&(h=a.getQsWidgetStepperElement(d),n=a.getQsWidgetAtcButtonAsComponent(d),d=a.getQsWidgetAtcButton(d),a.isComponentVisible(d)&&(a.showComponent(h),n.hide()))}}var n=null;f.on(g.getQsWidgetEventSelectId(),function(b,f,g,e){q(b,f,g);f=a.getQsWidgetButtonContainer(b);
g=a.getQsWidgetTextInputContainer(b);b=a.getQsWidgetTextInputUpdateButtonContainer(b);a.hideComponent(b);a.hideComponent(g);a.showComponent(f);e&&e()});f.on(g.getQsWidgetEventSelectQuantity(),function(d,f,g,e){a.isSimplifiedStepper(d)?(f=f.toString(),b.setSelectedQuantity(d,f),a.updateSimplifiedQsWidgetStepper(d,f)):(h.incrementQsItemNotFound(!0,a.getClientId(d)),a.getQsWidgetTextInputElement(d).val(f),p(d,g));e&&e()});f.on(g.getQsWidgetEventSelectQuantity()+":clientUpdate",function(d,l,k,e){var m=
a.getQsItemFromQuantity(d,l);m?f.trigger(g.getQsWidgetEventSelectId(),d,m.id,k,e):a.isSimplifiedStepper(d)?(l=l.toString(),b.setSelectedQuantity(d,l),a.updateSimplifiedQsWidgetStepper(d,l)):(h.incrementQsItemNotFound(!0,a.getClientId(d)),a.getQsWidgetTextInputElement(d).val(l),p(d,k));e&&e()});return{hideAllPopover:function(){for(var b=a.getActivatedQsWidgets(),f=0;f<b.length;f++)k(b[f])},showPopover:function(d){a.activateWidget(d);a.setQsWidgetContainerMinWidthAndHeight(d);var f=a.getQsWidgetDropdownUnorderedListElement(d),
g=a.getQsWidgetButtonContainer(d),e=a.getQsWidgetDropdownContainer(d),m=a.getQsWidgetDropdownElement(d),h=a.getQsWidgetQuantityContainer(d),k=a.getQsWidgetSummaryAtcButton(d);a.setHtml(f,a.generateQsDropdownDOM(d));f=a.getQsWidgetFooterPriceContainer(d);var n=a.getQsWidgetFooterQuantitySuffixContainer(d);a.setElementVisibility(f,!1);a.setElementVisibility(n,!1);a.showComponent(m);a.hideComponent(h);a.hideComponent(k);a.showComponent(e);a.hideComponent(g);a.popOutDropDownContainer(d);e=b.getQsWidgetConfiguration(d);
if(g=e.qsItems)e=e.selectedId,null===e&&(e=g[0].id),a.getQsWidgetDropdownItemElement(d,e).focus()},showConfirmation:function(b){a.activateWidget(b);var d=a.getQsWidgetButtonContainer(b),f=a.getQsWidgetDropdownContainer(b),e=a.getQsWidgetDropdownElement(b),m=a.getQsWidgetQuantityContainer(b);b=a.getQsWidgetSummaryAtcButton(b);a.hideComponent(e);a.showComponent(m);a.showComponent(b);a.showComponent(f);a.hideComponent(d)},showPrice:function(b,f){f=a.getQsItem(b,f).price;var d=a.getQsWidgetSummaryPriceSymbolElement(b),
e=a.getQsWidgetSummaryPriceWholeElement(b),m=a.getQsWidgetSummaryPriceFractionElement(b);b=a.getQsWidgetSummaryPriceDecimalElement(b);a.setHtml(d,f.currencySymbol);a.setHtml(e,f.wholeValue);a.setHtml(m,f.fractionValue);a.setHtml(b,f.decimalSeparator)},selectOption:q,validateAndSelectQuantity:p,selectConfirmation:function(b){if(a.isActionTriggerOnConfirmation(b)){if(a.isStepper(b)){var d=a.getSelectedQsItemId(b);a.updateQsWidgetStepper(b,d)}f.trigger(g.getQsWidgetEventTriggerAction(),b)}k(b)},stepperIncrement:function(d){var h=
b.getQsWidgetConfiguration(d),k=a.isQsWidgetQuantityZero(d);if(a.isSimplifiedStepper(d)){var e=h.selectedQuantity;if(!e)return;e=(parseInt(e)+1).toString();b.setSelectedQuantity(d,e);a.updateSimplifiedQsWidgetStepper(d,e)}else{if(h.selectedId){e=h.selectedId;var m=a.getNextIncrementQsItem(d,h.selectedId).id}else h.selectedQuantity||"0"==h.selectedQuantity?(e=h.selectedQuantity,m=a.getClosestIncrementalQsItem(d,h.selectedQuantity).id,a.getQsItemQuantity(a.getQsItem(d,m))==h.selectedQuantity&&(m=a.getNextIncrementQsItem(d,
m).id)):m=a.getSelectedQsItemId(d);if(e===m)return;b.setSelectedId(d,m);a.updateQsWidgetStepper(d,m)}a.showATCButtonWhenZeroQuantity(d)&&k?a.isStepper(d)?f.trigger(g.getQsWidgetEventTriggerAction(),d,null,null,g.getQsWidgetStepperAddToCartReftag()):f.trigger(g.getQsWidgetEventTriggerAction(),d):(null!=n&&clearTimeout(n),n=setTimeout(function(){f.trigger(g.getQsWidgetEventTriggerAction(),d)},h.stepperDebounceTime))},stepperDecrement:function(d){var h=b.getQsWidgetConfiguration(d);if(a.isSimplifiedStepper(d)){var k=
h.selectedQuantity;if(!k)return;k=parseInt(k)-1;var e=k.toString();if(0>=k){b.setSelectedQuantity(d,"0");f.trigger(g.getQsWidgetEventTriggerAction(),d);h=a.getQsWidgetStepperElement(d);h.addClass("aok-hidden");h=a.getQsWidgetAtcButtonAsComponent(d);h.show();return}b.setSelectedQuantity(d,e);a.updateSimplifiedQsWidgetStepper(d,e)}else{if(h.selectedId){if(k=a.getNextDecrementQsItem(d,h.selectedId).id,k==h.selectedId){b.setSelectedId(d,null);b.setSelectedQuantity(d,"0");f.trigger(g.getQsWidgetEventTriggerAction(),
d);a.showATCButtonWhenZeroQuantity(d)&&(h=a.getQsWidgetStepperElement(d),h.addClass("aok-hidden"),h=a.getQsWidgetAtcButtonAsComponent(d),h.show());return}}else if(h.selectedQuantity||"0"==h.selectedQuantity){if(k=a.getClosestDecrementalQsItem(d,h.selectedQuantity).id,"0"==h.selectedQuantity){b.setSelectedQuantity(d,"0");f.trigger(g.getQsWidgetEventTriggerAction(),d);a.showATCButtonWhenZeroQuantity(d)&&(h=a.getQsWidgetStepperElement(d),h.addClass("aok-hidden"),h=a.getQsWidgetAtcButtonAsComponent(d),
h.show());return}}else k=a.getSelectedQsItemId(d);a.updateQsWidgetStepper(d,k);b.setSelectedId(d,k)}null!=n&&clearTimeout(n);n=setTimeout(function(){f.trigger(g.getQsWidgetEventTriggerAction(),d)},h.stepperDebounceTime)}}})});"use strict";q.when("QSAssetDuplicationGuard").execute("QuantitySelector-duplication-guard",function(p){p.when("A","QuantitySelectorWidget","QuantitySelectorUtils","QuantitySelectorState","QuantitySelectorConstants","QuantitySelectorMetrics","QuantitySelectorAUIDeps","QuantitySelectorMetadata",
"QuantitySelectorTemplates").register("QuantitySelector",function(f,a,b,g,h,k,p,x,n){function d(a,d){try{var e=b.isMobile(d)}catch(u){u instanceof TypeError&&k.incrementInvalidIdCount();return}try{if(!b.isInitialized(d)||a)eval(x.getMetaConfiguration(d,"script")),g.setInitialized(d),b.initializeWidget(d),b.isQsWidgetEnabled(d)?b.enableQsWidget(d):b.disableQsWidget(d),k.incrementInitializeCount(!0,e)}catch(u){k.incrementInitializeCount(!1,e)}}function l(a){g.loadQsWidgetStateConfiguration(a);d(!0,
a)}function r(){for(var a=g.getQsUIDs(),d=0;d<a.length;d++){var f=a[d];b.isInitialized(f)||l(f)}}f.declarative(h.getQsWidgetButtonDecl(),"click",function(e){var d=e.data.qsUID;e=b.isMobile(d);var f=b.isStepper(d),h=b.isSimplifiedStepper(d),l=b.isSUPU(d),n=g.getQsWidgetConfiguration(d).selectedId,p=b.isElementVisible(b.getQsWidgetAtcButton(d));if(h||l&&f&&!n){if(b.showATCButtonWhenZeroQuantity(d)&&!p)return;e&&!b.isBottomSheetExist(d)&&a.getBottomSheet(d);a.stepperIncrement(d)}else e?a.showBottomSheet(d):
a.showPopover(d);k.incrementShowPopup(e);b.isInitialViewDropdown(d)?k.logCsm(d,"cqd"):k.logCsm(d,"ccq");setTimeout(function(){b.saveQsWidgetDropdownTopPosition(d)},250)});f.declarative(h.getQsWidgetDropdownDecl(),"click",function(e){var d=e.data.qsUID;e=e.data.id;var f=b.isActionTriggerOnSelect(d),g=b.isTextInputRequired(d,e),h=b.isConfirmationViewEnabled(d),l=b.isQsWidgetDropdownScrolled(d);h?l?(b.setQsWidgetDropdownScrolled(d),k.logCsm(d,"dcq_scl")):(b.clearQsWidgetDropdownScrolled(d),k.logCsm(d,
"dcq")):l?k.logCsm(d,"dsq_scl"):k.logCsm(d,"dsq");a.selectOption(d,e,f&&!g.result);g.result?(b.showTextInput(d,g.initialQuantityText),a.hideAllPopover()):h?a.showConfirmation(d):a.hideAllPopover()});f.declarative(h.getQsWidgetStepperIncrementDecl(),"click",function(e){e=e.data.qsUID;var d=b.getQsWidgetPlusButtonAsComponent(e),f=b.getQsWidgetPlusButton(e);b.isElementVisible(f)&&d.isEnabled()&&a.stepperIncrement(e)});f.declarative(h.getQsWidgetStepperDecrementDecl(),"click",function(e){e=e.data.qsUID;
var d=b.getQsWidgetMinusButton(e);b.isElementVisible(d)&&a.stepperDecrement(e)});f.declarative(h.getQsWidgetDropdownItemDecl(),"click",function(e){var d=e.data.qsUID;a.alignQsItem(d,e.data.id);b.isConfirmationViewEnabled(d)?b.getQsWidgetSummaryAtcButton(d).attr("tabindex","-1").focus():a.getBottomSheetContainer(d).attr("tabindex","-1").focus()});f.declarative(h.getQsWidgetVariationDropdownItemDecl(),"click",function(b){a.alignVariationSelectorItem(b.data.qsUID,b.data.id)});f.declarative(h.getQsWidgetDropdownDecl(),
"focusin",function(b){a.showPrice(b.data.qsUID,b.data.id)});f.declarative(h.getQsWidgetDropdownDecl(),"mouseenter",function(b){a.showPrice(b.data.qsUID,b.data.id)});f.declarative(h.getQsWidgetDropdownDecl(),"mouseleave",function(e){e=e.data.qsUID;var d=b.getSelectedQsItemId(e);a.showPrice(e,d)});f.declarative(h.getQsWidgetQuantityChangelinkDecl(),"click",function(e){e=e.data.qsUID;g.setSelectedId(e,g.getQsWidgetConfiguration(e).previousSelectedId);a.showPopover(e);k.incrementChangeLinkCount();b.saveQsWidgetDropdownTopPosition(e);
k.logCsm(e,"ccl")});f.declarative(h.getQsWidgetSummaryAtcDecl(),"click",function(e){e=e.data.qsUID;a.selectConfirmation(e);b.isQsWidgetDropdownScrolled(e)?k.logCsm(e,"atc_scl"):k.logCsm(e,"atc")});f.declarative(h.getQsWidgetTextInputDecl(),"keydown",function(a){var e=a.data.qsUID,d=a.$event.which;8==d||9==d||13==d||37<=d&&40>=d||46==d||(!(48<=d&&57>=d||96<=d&&105>=d)||a.$event.shiftKey||a.$event.altKey||a.$event.ctrlKey||a.$event.metaKey?a.$event.preventDefault():3<=b.getQsWidgetTextInputElement(e).val().length&&
a.$event.preventDefault())});f.declarative(h.getQsWidgetTextInputDecl(),"keyup",function(e){var d=e.data.qsUID;b.validateQsWidgetTextInput(d)&&13==e.$event.keyCode?(e=b.isActionTriggerOnSelect(d)||b.isStepper(d),a.validateAndSelectQuantity(d,e)):b.showTextInput(d)});f.declarative(h.getQsWidgetTextInputDecl(),"focusout",function(a){a=a.data.qsUID;if(""===b.getQsWidgetTextInputElement(a).val()){var d=(d=g.getQsWidgetConfiguration(a).selectedId)?b.getQsItem(a,d).selectedText:b.getSelectedQuantity(a);
b.showTextInput(a,d);b.validateQsWidgetTextInput(a)}});f.declarative(h.getQsWidgetTextInputDecl(),"change",function(a){b.showTextInput(a.data.qsUID)});f.declarative(h.getQsWidgetTextInputUpdateButtonDecl(),"click",function(d){var e=d.data.qsUID;b.validateQsWidgetTextInput(e)&&(e=d.data.qsUID,d=b.isActionTriggerOnSelect(e)||b.isActionTriggerOnConfirmation(e),a.validateAndSelectQuantity(e,d))});f.$(document).click(function(d){0==b.getActivatedQsWidgets().length||b.isUserClickInDropdown(d)||(d=b.getActivatedQsWidgets()[0],
b.isConfirmationVisible(d)&&g.setSelectedId(d,g.getQsWidgetConfiguration(d).previousSelectedId),a.hideAllPopover())});f.$(v).resize(function(){a.hideAllPopover()});f.on(h.getQsWidgetEventInitialize(),function(a,b){p.initialize();if("string"==typeof b)d(a,b);else{b=g.getQsUIDs();for(var e=0;e<b.length;e++)d(a,b[e])}});f.on(h.getQsWidgetEventLoadStatesAndInitialize(),function(){try{r()}catch(e){if(e instanceof SyntaxError)f.delay(function(){try{r()}catch(m){q.logError(m)}},200);else throw e;}});f.on(h.getQsWidgetEventConfigureEnable(),
function(a){b.enableQsWidget(a)});f.on(h.getQsWidgetEventConfigureDisable(),function(a){b.disableQsWidget(a)});f.on(h.getQsWidgetEventConfigureReset(),function(a){for(var b=g.getQsUIDs(),d=0;d<b.length;d++){var e=b[d];if("string"!==typeof a||a==e)g.reloadQsWidgetStateConfiguration(e),f.trigger(h.getQsWidgetEventInitialize(),!0,e)}});b.hideSpinner();n=f.now();k.logLatencyMetric("JSReady",n);return{loadStateAndInitializeWidget:l}})})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("ConsumablesATCActionAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(n){var r=window.AmazonUIPageJS||window.P,w=r._namespace||r.attributeErrors,q=w?w("QuantitySliderAssets",""):r;q.guardFatal?q.guardFatal(n)(q,window):q.execute(function(){n(q,window)})})(function(n,r,w){function q(t,h){try{n.register(t,h)}catch(f){if(-1===f.message.indexOf("reregistered by QuantitySliderAssets"))throw f;}}function x(){var t=arguments;return{register:function(h,f){try{n.when.apply(n,t).register(h,f)}catch(m){if(-1===m.message.indexOf("reregistered by QuantitySliderAssets"))throw m;
}}}}n.when("QuantitySliderAssetDuplicationGuard").execute(function(t){t.when("A","quantity-slider-utils","qs-cart-update-utils").register("qs-cart-update-handler",function(h,f,m){function k(a){p||(p="quantity-slider-widget-"+a);return p}function e(a,b){if(!b.atcFormSubmitDisabled){if((a=a.$target&&a.$target.closest(".qs-atc-form"))&&0!==a.length)return a;n.log("Missing $form object","ERROR",k(b.clientName))}}function b(b,g,l){h.trigger(f.ACTIONS.ADD_TO_CART_SUBMIT_START,{asin:b,cartType:g.cartType,
clientName:g.clientName,isQSAction:l,request:g});a(b,g,!0,l)}function a(a,b,l,e){var p=b.cartType,d=JSON.stringify(e?m.getQSRequestObject(b,l,p):m.getATCRequestObject(b,p)),c=m.getAjaxUrl(b,l,p);c&&g.ajax({url:c,type:m.getHttpMethodType(l,p),data:d,headers:m.getHeadersForRequest(b,l,p),xhrFields:{withCredentials:!0},success:function(c,d,g){c.jqXHR=g;delete u[a];(c=m.adaptResponseObject(c,b,l,b.cartType))?(f.setUpdatedQSParamsForAsinOffer(a,b.additionalParams&&b.additionalParams.storeId,{quantityInCart:c.quantity,
cartItemId:c.itemId}),h.trigger(l?f.ACTIONS.ADD_TO_CART_SUBMIT_SUCCESS:f.ACTIONS.REMOVE_FROM_CART_SUBMIT_SUCCESS,{asin:a,cartType:b.cartType,request:b,response:c,clientName:b.clientName,attribution:k(b.clientName),isQSAction:e,isDecreaseQuantityAction:!l}),f.logUrl(b.loggingUrl)):n.log("Invalid Response from the server","ERROR",k(b.clientName))},error:function(c){delete u[a];c=c||{};n.log("Ajax request failed with type: "+(l?"addItems":"modifyItems")+", status code: "+c.status+", error: "+c.responseText,
"ERROR",k(b.clientName));h.trigger(f.ACTIONS.QS_CART_SUBMIT_ERROR,{asin:a,cartType:p,clientName:b.clientName,isQSAction:e,isDecreaseQuantityAction:!l,isMaxOrderQuantityReached:b.quantityInCart>=b.maxOrderQuantity,response:c,request:b});l&&b.$form&&b.$form.submit()}})}var g=h.$,p="",u={};h.declarative("qs-add-to-cart-trigger","click",function(a){var g=a.data&&a.data.asin,l=f.getQsParamsFromTargetAsinOffer(a,g);a.$event&&a.$event.preventDefault();u[g]||(u[g]=!0,l.isMultipleAsinsSubmitting=1<Object.keys(u).length,
l.$form=e(a,l),l.triggeringEvent=a,b(g,l,!1))});h.declarative("qs-slider-widget-trigger","click",function(g){var k=g.data&&g.data.asin,l=f.getQsParamsFromTargetAsinOffer(g,k),p=g.$target[0]&&g.$target[0].className||"",m=h.contains(p,"qs-increase-quantity")||h.contains(p,"qs-decrease-quantity");p=h.contains(p,"qs-decrease-quantity");g.$event&&g.$event.preventDefault();m&&!u[k]&&(u[k]=!0,l.isMultipleAsinsSubmitting=1<Object.keys(u).length,l.triggeringEvent=g,p?(h.trigger(f.ACTIONS.REMOVE_FROM_CART_SUBMIT_START,
{asin:k,cartType:l.cartType,clientName:l.clientName,isQSAction:!0,isDecreaseQuantityAction:!0,request:l}),a(k,l,!1,!0)):(l.$form=e(g,l),b(k,l,!0)))});return{setAttribution:function(a){p=a}}})});"use strict";n.when("QuantitySliderAssetDuplicationGuard").execute(function(n){n.when("A","qs-fresh-cart-update-utils").register("qs-cart-update-utils",function(h,f){function m(c){var d=c.quantityInCart||0;return{items:[{asin:c.asinId,offerListingId:c.offerListingId,quantity:d<c.minOrderQuantity?c.minOrderQuantity-
d:1}]}}function k(c,d,a){return(e.isFunction(d[a])?d[a]:d.DEFAULT)(c)}var e=h.$,b={DEFAULT:m,UFG:f.getUfgCartRequestObject},a={DEFAULT:m,UFG:f.getUfgCartRequestObject},g={DEFAULT:function(c){var d=c.quantityInCart||0;var a=c.cartItemId;a=!a||"C"!==a[0]&&"S"!==a[0]?a:a.substring(1);return{items:[{id:a,quantity:d<=c.minOrderQuantity?0:d-1}]}},UFG:f.getUfgCartRequestObject},p={DEFAULT:function(c){return c.ajaxCartUrl},UFG:function(c){return c.addToCartUrl}},u={DEFAULT:function(c){return c.ajaxCartUrl}},
n={DEFAULT:function(c){return(c=c.entity&&c.entity.items&&c.entity.items[0])?{itemId:c.id,quantity:c.quantity,isTotal:!0}:null},UFG:f.ufgCartResponseAdapter},t={DEFAULT:function(c,d){c=(d.quantityInCart||0)-1;return 0>c?null:{itemId:c?d.cartItemId:"",quantity:c,isTotal:!0}},UFG:f.ufgCartResponseAdapter},l={DEFAULT:"POST",UFG:"POST"},q={DEFAULT:"PUT",UFG:"POST"},r={DEFAULT:function(c){return{"x-api-csrf-token":c.csrfToken,"x-amzn-encrypted-slate-token":e('meta[name\x3d"encrypted-slate-token"]').prop("content"),
Accept:'application/vnd.com.amazon.api+json; type\x3d"cart.add-items/v1"',"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"cart.add-items.request/v1"'}},UFG:function(c){return{"Content-Type":"application/json","x-amzn-encrypted-slate-token":e('meta[name\x3d"encrypted-slate-token"]').prop("content")}}},d={DEFAULT:function(c){return{"x-api-csrf-token":c.csrfToken,"x-amzn-encrypted-slate-token":e('meta[name\x3d"encrypted-slate-token"]').prop("content"),Accept:'application/vnd.com.amazon.api+json; type\x3d"cart.modify-items/v1"',
"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"cart.modify-items.request/v1"'}},UFG:function(c){return{"Content-Type":"application/json","x-amzn-encrypted-slate-token":e('meta[name\x3d"encrypted-slate-token"]').prop("content")}}};return{getATCRequestObject:function(c,d){return k(c,b,d)},getQSRequestObject:function(c,d,b){return k(c,d?a:g,b)},adaptResponseObject:function(c,d,a,b){a=a?n:t;return(e.isFunction(a[b])?a[b]:a.DEFAULT)(c,d)},getHttpMethodType:function(d,a){d=d?l:q;return d[a]?
d[a]:d.DEFAULT},getHeadersForRequest:function(a,b,g){b=b?r:d;return(e.isFunction(b[g])?b[g]:b.DEFAULT)(a)},getAjaxUrl:function(d,a,b){return k(d,a?p:u,b)}}})});"use strict";n.when("QuantitySliderAssetDuplicationGuard").execute(function(n){n.when("A","ewc.app","quantity-slider-widget","quantity-slider-utils").register("quantity-slider-ewc-utils",function(h,f,m,k){function e(a){var g=b('[data-itemid\x3d"'+a.action.itemID+'"]').data(),f=k.getQSParamsForAsin(g.asin);if(f)return{quantity:h.contains(a.action.name,
"delete")||h.contains(a.action.name,"save")||!g.qty?0:g.qty,maxOrderQuantity:f.maxOrderQuantity}}var b=h.$;f.on("ewc:cartUpdate:success",function(a){if(a&&a.action.itemID){var b=e(a);b&&(k.setUpdatedQSParamsForAsin(a.action.asin,{quantityInCart:b.quantity,cartItemId:a.action.itemID}),m.updateQuantitySliderWidget(a.action.asin,b.quantity,b.maxOrderQuantity))}});return{getQuantityAndMaxQuantityForEWC:e}})});"use strict";n.when("QuantitySliderAssetDuplicationGuard").execute(function(n){n.when("A").register("qs-fresh-cart-update-utils",
function(h){function f(f,k){return k&&k.items?k.items.find(function(e){return e.ASIN===f}):null}return{getUfgCartRequestObject:function(f){return f.additionalInput},ufgCartResponseAdapter:function(h,k){return(k=f(k.asinId,h.clientResponseModel))?{itemId:k.itemId,quantity:k.quantity,isTotal:!0,rawResponse:h}:{itemId:"invalidItemId",quantity:0,isTotal:!0,rawResponse:h}}}})});"use strict";n.when("QuantitySliderAssetDuplicationGuard").execute(function(n){n.when("A","quantity-slider-utils").register("quantity-slider-metrics-handler",
function(h,f){function m(a,b){return"QuantitySliderWidget::"+a+"::"+(b?b+"::":"")}function k(a){var b=r.ue;"undefined"!==typeof b&&b.count(a,1)}function e(a,g){f.assert(a&&g.clientName,"Missing required properties while logging metrics");if(g.isQSAction)if(g.isDecreaseQuantityAction){var e=b.QS_DECREASE;a=m(g.clientName,g.cartType)+a+"::"+e;k(a)}else e=b.QS_INCREASE,a=m(g.clientName,g.cartType)+a+"::"+e,k(a);else e=b.ATC,a=m(g.clientName,g.cartType)+a+"::"+e,k(a)}var b={ATC:"ATC",QS_INCREASE:"QSIncrease",
QS_DECREASE:"QSDecrease"};return{logRequestStartMetrics:function(a){e("CountStart",a)},logRequestSuccessMetrics:function(a){e("CountSuccess",a)},logRequestErrorMetrics:function(a){e("CountError",a)},logMaxQuantityReachedMetric:function(a){a=m(a.clientName,a.cartType)+"MaxQuantityReached";k(a)},logMultipleAsinsSubmittingMetric:function(a){a=m(a.clientName,a.cartType)+"MultipleAsinsSubmitting";k(a)}}})});"use strict";n.when("QuantitySliderAssetDuplicationGuard").execute(function(n){n.when("A","quantity-slider-utils",
"qs-cart-update-handler","quantity-slider-metrics-handler").register("quantity-slider-widget",function(h,f,n,k){function e(d,a,b,g){d=l(d,a,g);b?f.disableButton(d):f.enableButton(d)}function b(d,a,b){e("."+d+"-qs-slider-button .qs-decrease-quantity",d,a,b)}function a(d,a,b){e("."+d+"-qs-slider-button .qs-increase-quantity",d,a,b)}function g(a,b,g){e("."+a+"-qs-add-to-cart-button .qs-slider-atc-button",a,b,g)}function p(a){if(a.isQSAction){var d=a.asin,b=m(a);a.isDecreaseQuantityAction?f.deselectButton(l("."+
d+"-qs-slider-button .qs-decrease-quantity",d,b)):f.deselectButton(l("."+d+"-qs-slider-button .qs-increase-quantity",d,b))}}function m(a){return(a=(a=a.request)&&a.additionalInput)&&a.storeId}function q(d){var c=d.asin,e=m(d),h=l("."+c+"-qs-slider-spinner",c,e);f.toggleDomNodeVisibility(h,!1);d.isQSAction?(b(c,!1,e),a(c,!1,e)):g(c,!1,e);p(d);c=d.asin;f.assert(c&&d.request&&d.response&&d.response.quantity!==w,"Required properties missing in payload object for UpdateQSWidget");e=m(d);t(c,d.response.quantity,
d.request.maxOrderQuantity,e);d.request.enableQuantityLimitMessage&&(c=l("."+c+"-qs-quantity-limit-message",c,e),f.toggleDomNodeVisibility(c,d.response.quantity>=d.request.maxOrderQuantity));f.updateTotalCartCountOnUI(d,d.cartType);k.logRequestSuccessMetrics(d)}function r(d){var c=d.asin,e=m(d),h=l("."+c+"-qs-slider-spinner",c,e);f.toggleDomNodeVisibility(h,!0);d.isQSAction?(b(c,!0,e),a(c,!0,e)):g(c,!0,e);k.logRequestStartMetrics(d);d.request&&d.request.isMultipleAsinsSubmitting&&k.logMultipleAsinsSubmittingMetric(d)}
function l(a,b,e){if(!e)return v(a);b="."+b+"-qs-slider-data";a=document.querySelectorAll(a);for(var d=[],c=0;c<a.length;c++){var g=a[c],f=g&&v(g).closest(".qs-widget-container");(f=(f=f&&v(f).children(b))&&v(f).data("qs-model"))&&f.additionalInput&&f.additionalInput.storeId===e&&d.push(g)}return v(d)}function t(b,c,e,g){var d=l("."+b+"-qs-add-to-cart-button",b,g),h=l("."+b+"-qs-slider-button",b,g);0<c?(f.changeATCtoQS(d,h),d=Math.min(c,e),h=l("."+b+"-qs-qty-present-in-cart",b,g),Number.isInteger(d)&&
h.html(d),a(b,c>=e,g)):(f.changeQStoATC(d,h),a(b,!1,g))}var v=h.$;Number.isInteger||(Number.isInteger=function(a){return"number"===typeof a&&isFinite(a)&&-9007199254740992<a&&9007199254740992>a&&Math.floor(a)===a});h.on(f.ACTIONS.ADD_TO_CART_SUBMIT_START,function(a){r(a)});h.on(f.ACTIONS.ADD_TO_CART_SUBMIT_SUCCESS,function(a){q(a);a.response.quantity===a.request.maxOrderQuantity&&k.logMaxQuantityReachedMetric(a)});h.on(f.ACTIONS.REMOVE_FROM_CART_SUBMIT_START,function(a){r(a)});h.on(f.ACTIONS.REMOVE_FROM_CART_SUBMIT_SUCCESS,
function(a){q(a)});h.on(f.ACTIONS.QS_CART_SUBMIT_ERROR,function(d){var c=d.asin,e=m(d),h=l("."+c+"-qs-slider-spinner",c,e);f.toggleDomNodeVisibility(h,!1);d.isQSAction&&d.isMaxOrderQuantityReached?b(c,!1,e):d.isQSAction?(b(c,!1,e),a(c,!1,e)):g(c,!1,e);p(d);k.logRequestErrorMetrics(d)});return{ACTIONS:f.ACTIONS,setAttribution:n.setAttribution,updateQuantitySliderWidget:t}})});"use strict";n.when("QuantitySliderAssetDuplicationGuard").execute(function(q){q.when("A","a-button").register("quantity-slider-utils",
function(h,f){function m(b){return e("."+b+"-qs-slider-data").first().data("qs-model")}function k(b,a){var g=m(b);e("."+b+"-qs-slider-data").data(h.extend(g,a))}var e=h.$;return{ACTIONS:{ADD_TO_CART_SUBMIT_START:"quantity-slider:add-to-cart-start",ADD_TO_CART_SUBMIT_SUCCESS:"quantity-slider:add-to-cart-success",REMOVE_FROM_CART_SUBMIT_START:"quantity-slider:remove-from-cart-start",REMOVE_FROM_CART_SUBMIT_SUCCESS:"quantity-slider:remove-from-cart-success",QS_CART_SUBMIT_ERROR:"quantity-slider:cart-submit-error"},
assert:function(b,a){if(!b)throw Error(a);},changeATCtoQS:function(b,a){e(b).hasClass("aok-hidden")||(e(b).addClass("aok-hidden"),e(a).removeClass("aok-hidden"))},changeQStoATC:function(b,a){e(a).hasClass("aok-hidden")||(e(a).addClass("aok-hidden"),e(b).removeClass("aok-hidden"))},disableButton:function(b){f(e(b)).disable()},deselectButton:function(b){b=f(e(b));b.isEnabled()&&b.setStatus("normal")},enableButton:function(b){f(e(b)).enable()},getQSParamsForAsin:m,getQsParamsFromTargetAsinOffer:function(b,
a){var g="."+a+"-qs-slider-data";return(g=(b=b.$event&&e(b.$event.target).closest(".qs-widget-container"))&&b.children(g).data("qs-model"))?g:m(a)},setUpdatedQSParamsForAsin:k,setUpdatedQSParamsForAsinOffer:function(b,a,g){a?e("."+b+"-qs-slider-data").map(function(b,f){b=e(f);(f=b.data("qs-model"))&&f.storeId===a&&b.data(h.extend(f,g))}):k(b,g)},toggleDomNodeVisibility:function(b,a){a?e(b).removeClass("aok-hidden"):e(b).addClass("aok-hidden")},updateTotalCartCountOnUI:function(b,a){h.extend({},b).onSuccess=
function(a){r.$Nav&&r.$Nav.when("api.setCartCount").run(function(b){b(a)});n.when("mash").execute("quantity-slider-mash-update",function(b){b.cart&&e.isFunction(b.cart.didUpdate)&&b.cart.didUpdate({newCartQuantity:a})})}},logUrl:function(b){b&&h.post(b)}}})});"use strict";q("QuantitySliderAssetDuplicationGuard",function(){return{register:q,when:x}})});
/* ******** */
(function(e){var h=window.AmazonUIPageJS||window.P,p=h._namespace||h.attributeErrors,r=p?p("ALMCartActionAssets",""):h;r.guardFatal?r.guardFatal(e)(r,window):r.execute(function(){e(r,window)})})(function(e,h,p){function r(d,b){try{e.register(d,b)}catch(c){if(!c.message.includes("reregistered by ALMCartActionAssets"))throw c;}}function E(){var d=arguments;return{register:function(b,c){try{e.when.apply(e,d).register(b,c)}catch(a){if(!a.message.includes("reregistered by ALMCartActionAssets"))throw a;
}}}}e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","afx-csm-metrics-utils").register("alm-cart-action-query-string-utils",function(b,c){function a(a,c){var k=f(a),d=g(a);k?c["discoveredAsins.0"]=a.asin:d&&(a=b.filter(a.items,function(a){return f(a)}),a=b.map(a,function(a){return a.asin}),b.each(a,function(a,g){c["discoveredAsins."+g.toString()]=a}));return c}function g(a){return a&&a.items&&b.$.isArray(a.items)&&0<a.items.length}function f(a){return a&&a.asin&&"string"===
typeof a.asin&&""!==a.asin}return{addQueryStringParamsToUrl:function(g,f){var k={};if(f&&f.reftag){var d=f.reftag;"string"===typeof d&&""!==d&&(k.ref_=d)}if(f&&f.queryLogInfoParams){d=f.queryLogInfoParams;for(var e in d)d.hasOwnProperty(e)&&"string"===typeof e&&""!==e&&"string"===typeof d[e]&&""!==d[e]&&(k[e]=d[e])}a(f,k);try{var n=(new URLSearchParams(h.location.search)).get("almBrandId");n&&(k.almBrandId=n)}catch(u){c.increment("ATFC_INVALID_URL_ALMBRANDID")}(f=b.$.param(k))&&"string"===typeof f&&
""!==f&&(g+="?"+f);return g}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","jQuery").register("afx-add-all-helper",function(b,c){return{updateQuantityForAsin:function(a,g,b){a&&g&&!isNaN(b)&&c("#"+a).closest("form").find("#afx-add-all-"+g+"-quantity").attr("value",b)}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","jQuery","a-button").register("fx-atfc-button-utils",function(b,c,a){function g(a){return"atfc-spinner-"+
(a.asin?a.asin:a.clientId?a.clientId:"noAsin")}var f=!1;return{hideButtonAndRenderSpinner:function(a){var b=a.$currentTarget.find(".a-button");if(b&&b.length){f=!0;a=g(a.data);var d=b.not(".aok-hidden").not(".non-spinner");d&&a.length&&(d.wrap('\x3cdiv id\x3d"'+a+'" class\x3d"atfc-spinner"\x3e\x3c/div\x3e'),c("#"+a).css({width:d.outerWidth()+"px"}),c("#"+a).css({height:d.outerHeight()+"px"}));b.css("visibility","hidden")}},showButtonAndRemoveSpinner:function(a){var b=a.$currentTarget.find(".a-button");
a=g(a.data);a=c("#"+a);b&&b.length&&a&&a.length&&(f=!1,b.each(function(){c(this).parent().hasClass("atfc-spinner")&&c(this).unwrap()}),b.css("visibility","visible"))},shouldDisableButtonClicks:function(){return f}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("fresh-shared-add-to-cart-v2","qs-fresh-shared-add-to-cart").register("fresh-add-to-cart",function(b,c){function a(a){b.attachCallbacks(a)}b.initialize("desktop");c.initialize("desktop");return{addToFreshCart:function(b){a(b)},
attachCallbacks:a,attachPrehooks:function(a){b.attachPrehooks(a)},updateAddAllQuantityForAsin:b.updateAddAllQuantityForAsin,updateQuantity:b.updateQuantity}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("shared-alm-multi-add-to-cart").register("alm-multi-add-to-cart",function(b){function c(a){b.attachCallbacks(a)}b.initialize("desktop");return{multiAddToCart:function(a){c(a)},attachCallbacks:c,attachPreHandler:function(a){b.attachPreHandler(a)}}})});"use strict";
e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","alm-cart-action-query-string-utils").register("afx-atfc-v2-proxy",function(b,c){return{addToFreshCart:function(a){var g=c.addQueryStringParamsToUrl("/alm/addtofreshcart",a.data);b.$.ajax(g,{type:"POST",contentType:"application/json",data:JSON.stringify(a.data)}).done(a.success).fail(a.error)},showGenericErrorModal:function(a){b.post("/alm/atfcGenericErrorModal/",{timeout:5E3,success:a.success,error:a.error})}}})});"use strict";
e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A").register("fx-atfo-proxy",function(b){return{addToFreshOrder:function(c){var a="/fom/add-to-fresh-order";c.reftag!==p&&(a+="/ref\x3d"+c.reftag);c.data!==p&&c.data.csrfToken&&(a+="?csrf\x3d"+encodeURIComponent(c.data.csrfToken));b.post(a,{success:c.success,error:c.error,params:JSON.stringify(c.data),paramsFormat:"json",contentType:"application/json"})},getFallbackErrorModalHtml:function(){return{header:"Item was not added to the order",
errorMessage:"We're sorry, there was an error and \x3cb\x3ethis item was not added to your order.\x3c/b\x3e Please try again.",footer:"\x3cspan class\x3d'a-declarative' data-action\x3d'a-popover-close'data-a-popover-close\x3d'{}'\x3e\n\x3cspan class\x3d'a-button primary-fresh-btn'\x3e\x3cspan class\x3d'a-button-inner'\x3e\x3cinput class\x3d'a-button-input'type\x3d'submit'\x3e\x3cspan class\x3d'a-button-text' aria-hidden\x3d'true'\x3eOK\n\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e"}}}})});
"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A").register("afx-atfc-cart-conflicts-proxy",function(b){function c(a){a.ref=a.reftag;a.client="atfc";return a}return{getConflictSummary:function(a){var g=c(a.data);b.post("/afx/cartconflicts/getconflictsummary",{timeout:5E3,success:a.success,error:a.error,params:g})},resolve:function(a){var g=c(a.data);b.post("/afx/cartconflicts/resolve",{timeout:5E3,success:a.success,error:a.error,params:g})},substitute:function(a){a=
c(a.data);a.sourceUrl=h.location.pathname+h.location.search;a=b.$.param(a);h.location.href="/afx/cartconflicts/resolve/substitute?"+a}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A").register("afx-get-cart-count",function(b){return function(c){b.get("/alm/addtofreshcart/cartcount",{timeout:5E3,success:function(a){c.success&&c.success({isOK:!0,total:{numActiveItem:a.cartCount}})},error:function(a){c.error&&c.error(a)}})}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A",
"alm-cart-action-query-string-utils").register("alm-multi-add-to-cart-proxy",function(b,c){return{multiAddToCart:function(a){var g=c.addQueryStringParamsToUrl("/alm/addtocart/multiple",a.data);b.$.ajax(g,{type:"POST",contentType:"application/json",data:JSON.stringify(a.data)}).done(a.success).fail(a.error)}}})});"use strict";r("ALMCartActionAssetDuplicationGuard",function(){return{register:r,when:E}});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.register("afx-callbacks-helper",
function(b){function c(b){var g=b in a;!g&&e.log("Unable to retrieve callback for "+b,"Error");return g}var a={};return{addCallbacks:function(b){a[b.clientID||"default"]=b},success:function(b,f,d){b=b in a?b:"default";c(b)&&a[b].success&&a[b].success(f,d)},error:function(b,f,d,e){b=b in a?b:"default";c(b)&&a[b].error&&a[b].error(f,d,e)}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.register("afx-preHandler-helper",function(b){var c={};return{addPreHandler:function(a){c[a.clientID||
"default"]=a},getPreHandler:function(a){return c[a]}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.register("afx-prehooks-helper",function(b){function c(b){var c=b in a?b:"default";c=c in a&&a[c].invoke;!c&&e.log("Unable to retrieve prehook for "+b,"Error");return c}var a={};return{addPrehooks:function(b){a[b.clientID||"default"]=b},invoke:function(b,f){var d=b.clientId in a?b.clientId:"default";c(b.clientId)&&a[d].invoke(b.triggerEvent,f,b.scope,b.success,b.failure,
b.device)},validatePrehook:c,prehooksWeblabEnabled:!1}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.register("afx-csm-metrics-utils",function(){var b={},c=function(a,b){h.ue&&h.ue.count&&a&&b&&h.ue.count(a,b)};return{startWidgetTimer:function(a){b[a]=Date.now()},endWidgetTimer:function(a,d){a=Date.now()-b[a];c(d,a)},setWidgetClickTimestamp:function(a){h.ue&&h.uet&&a&&h.uet("tc",a,{wb:1})},setWidgetTimestamp:function(a,b){h.ue&&h.uet&&a&&b&&h.uet(a,b,{wb:1})},
increment:function(a){h.ue&&h.ue.count&&a&&h.ue.count(a,(h.ue.count(a)||0)+1)},setCount:c,sendWidgetMetrics:function(a){h.ue&&h.uex&&a&&h.uex("ld",a,{wb:1})}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.register("add-to-cart-common-utils",function(){return{vibrate:function(){return h.amazon&&h.amazon.cordova&&h.amazon.cordova.notification&&h.amazon.cordova.notification.vibrate&&h.amazon.cordova.notification.vibrate(50)}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A",
"a-modal").register("fresh-atfc-modal-utils",function(b,c){return{removeModal:function(){var a=c.get("fresh-add-to-cart-modal");a&&c.remove(a)},showModal:function(a,d,f){d&&(d={name:"fresh-add-to-cart-modal",header:d.header,inlineContent:d.body,footer:d.footer},"desktop"===f&&(d.width=325),c.create(a.$currentTarget,d).show(),b.on("a:popover:afterHide:".concat("fresh-add-to-cart-modal"),function(a){c.remove(a.popover)}))}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A",
"jQuery","afx-atfc-v2-proxy","afx-csm-metrics-utils","afx-metrics-helper","afx-quantity-helper","fresh-atfc-ewc-helper","fresh-atfc-fallback-error-modal-helper").register("fresh-atfc-error-modal-utils",function(b,c,a,d,f,k,n,w){function g(a,c,d,f){e.when("a-modal").execute("showModal",function(m){c||l(a);a.data.quantity&&(k.updateQuantity("fresh-clear-slot-button",a.data.quantity),k.updateQuantity("alcohol-warning-fresh-add-to-cart-button",a.data.quantity));var e={name:"fresh-add-to-cart-error-modal",
header:c.header,inlineContent:c.errorMessage,footer:c.footer,data:{event:a,response:f}};"desktop"===d&&(e.width=325);m.create(a.$currentTarget,e).show();b.on("a:popover:afterHide:".concat("fresh-add-to-cart-error-modal"),function(b){n.refreshCart(a.data.sessionID);m.remove(b.popover)})})}function l(d,f){a.showGenericErrorModal({success:function(a,b,m){a&&(a=c.parseJSON(m.http.response),u(d,a,f))},error:function(){e.log("Failed to get the generic error modal","Error");var a=w.getFallbackErrorModal();
d.data.qsUID&&d.data.prevSelectedQty&&d.data.isStepperFlag&&b.trigger("quantity-selector-widget:selectQuantity:clientUpdate",d.data.qsUID,d.data.prevSelectedQty,!1);g(d,a,f)}})}function h(a,b){return a.data.asin&&a.data.storeId&&b.clientResponseModel&&b.clientResponseModel.items&&(b=b.clientResponseModel.items.filter(function(b){return b.ASIN===a.data.asin&&b.storeId===a.data.storeId}),1===b.length&&b[0].hasOwnProperty("amountInCart"))?parseFloat(b[0].amountInCart):0}function u(a,c,e){var m=c.errorModalHtml,
k=f.getMetricsForDevice(e);c.clientResponseModel&&c.clientResponseModel.uberCartStatus&&c.clientResponseModel.uberCartStatus.errorStatusCode in k&&d.increment(k[c.clientResponseModel.uberCartStatus.errorStatusCode]);a.data.qsUID&&(k=h(a,c),null!=k&&a.data.isStepperFlag?b.trigger("quantity-selector-widget:selectQuantity:clientUpdate",a.data.qsUID,k,!1):null!=k&&a.data.setQuantityFlag&&b.trigger("quantity-selector-widget:selectQuantity",a.data.qsUID,k,!1));g(a,m,e,c)}return{removeModal:function(){e.when("a-modal").execute("removeModal",
function(a){var b=a.get("fresh-add-to-cart-error-modal");b&&a.remove(b)})},showModal:g,showGenericErrorModal:l,parseResponseAndShowErrorModal:u}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","jQuery","afx-atfc-v2-proxy","afx-get-cart-count").register("fresh-atfc-ewc-helper",function(b,c,a,d){function f(a){d({sessionID:a,success:function(a){a&&a.isOK&&a.total&&g(a.total.numActiveItem)},error:function(){e.log("Failed to get cart count","Error",a)}})}function g(a){e.when("nav.setCartCount").execute(function(b){b(a)});
e.when("mash").execute(function(b){b.cart&&"function"===typeof b.cart.didUpdate&&b.cart.didUpdate({newCartQuantity:a})})}var n;e.when("EWC").execute("add-to-cart-refresh",function(a){n=a});e.when("nav.getFlyout").execute(function(a){a("ewc")});return{refreshCart:function(a){n!==p&&"function"===typeof n.refresh?n.refresh():f(a)}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","afx-storeIntroductionSheet-helper","afx-cpi-helper","afx-notification-helper").register("f3-consumables-atc-helper",
function(b,c,a,d){return{handleAddToCart:function(f,e,g){e.storeIntroductionSheetHtml&&e.storeIntroductionSheetHtml.content||f.additionalParams&&f.additionalParams.shouldRenderSIS?c.render(f,e,g):e.renderUFGCartProgressIndicator?a.render(f):b.trigger("fresh-atfc:success","false",{almBrandId:f.brandId});d.handleAddToCart(e,g)}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.register("afx-metrics-helper",function(){var b={ATFC_COUNT:"afxAddToFreshCartCount",ALM_MULTI_ATC_COUNT:"almMultiAddToCartCount",
ATFC_SUCCESSFUL_ADD_COUNT:"afxAddToFreshCartSuccessfulAddCount",ALM_MULTI_ATC_COUNT_SUCCESS:"almMultiAddToCartCountSuccess",ATFC_ERROR_MODAL_COUNT:"afxAddToFreshCartErrorModalCount",ALM_MULTI_ATC_COUNT_ERROR_MODAL:"almMultiAddToCartCountErrorModal",ATFC_UNEXPECTED_ERROR_COUNT:"afxAddToFreshCartUnexpectedErrorCount",ALM_MULTI_ATC_COUNT_ERROR_UNEXPECTED:"almMultiAddToCartCountErrorUnexpected",ATFC_LATENCY_SCOPE:"afxAddToFreshCartLatencyScope",ATFC_ERROR_MODAL_LATENCY_SCOPE:"afxAddToFreshCartErrorModalLatencyScope",
ATFC_CTCF:"afxAddToFreshCartCTCF",ATFC_STORE_INTRODUCTION_SHEET:"afxStoreIntroductionSheet",ATFC_OCX_STORE_INTRODUCTION_SHEET:"afxOfferComparisonStoreIntroductionSheet",CLEAR_SLOT_ATFC_CTCF:"afxClearSlotAndAddToFreshCartCTFC",CART_SERVICE_RESPONSE_FALSE:"afxCartServiceResponseIsNotOKErrorCount",ATFC_NOTIFICATION_RETRY:"afxAddToCartNotificationRetryCount",ATFC_NOTIFICATION_FAILURE:"afxAddToCartNotificationFailureCount",ITEM_NOT_AVAILABLE:"afxItemNotAvailableErrorModalCount",ITEM_PARTIALLY_AVAILABLE:"afxItemPartiallyAvailableErrorModalCount",
ITEM_PARTIALLY_AVAILABLE_FOR_RESERVATION:"afxItemPartiallyAvailableErrorModalCount",ADDRESS_NOT_SELECTED:"afxAddressNotSelectedErrorCount",INPUT_INVALID:"afxGeneralErrorModalCount",ITEM_NOT_AVAILABLE_FOR_RESERVATION:"afxItemNotAvailableForReservationErrorModalCount",INTERNAL_SERVER_ERROR:"afxGeneralErrorModalCount",PRICE_UNAVAILABLE:"afxItemNotAvailableErrorModalCount",QUANTITY_OVERFLOW:"afxUniqueItemQuantityOverflowErrorModalCount"};return{getMetricsForDevice:function(c){var a={};Object.keys(b).forEach(function(d){a[d]=
b[d]+":"+c});return a}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A").register("afx-quantity-helper",function(b){var c={};return{updateQuantity:function(a,b){"undefined"!==typeof a&&null!==a&&!isNaN(b)&&0<b&&(c[a]=b||1)},getQuantity:function(a){a=a.closest(".a-button");return 0<a.length?c[a.attr("id")]||1:1}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","afx-csm-metrics-utils","afx-metrics-helper","f3-glowchangeaddress").register("afx-storeIntroductionSheet-helper",
function(b,c,a,d){function f(a){e.when("a-sheet").execute(function(b){b.create({inlineContent:a,closeType:"icon",height:190}).show();h("mobile",!1)})}function g(a,c,d){var f=a.additionalParams;if(a.asin&&a.brandId&&a.offerListingDiscriminator&&a.storeId&&f&&f.sisDeliveryMessage){var g={almBrandId:a.brandId,almStoreId:a.storeId,asin:a.asin,deliveryMessage:"DELIVERY_MESSAGE_PLACEHOLDER",isDelivery:c.delivery,offerListingDiscriminator:a.offerListingDiscriminator,isAlmDetailPageBopis:c.almDetailPageBopis};
c.newGlowAddressId&&(g.newGlowAddressId=c.newGlowAddressId);a.clientID&&(g.clientId=a.clientID);b.get("/mulon/alm-sis",{params:g,accepts:"text/html; charset\x3dutf-8",timeout:3E3,success:function(a){var b=document.getElementById("almStoreIntroductionSheet");b||(b=document.createElement("div"),b.setAttribute("id","almStoreIntroductionSheet"),document.body.appendChild(b));n(b,a,f.sisDeliveryMessage);h(d,!0)},error:function(a,b,c){e.log("Failed to render store introduction sheet: "+c,"Error")}})}else e.log("Failed to render store introduction sheet: Missing Parameters",
"Error")}function n(a,b,c){a.innerHTML=b;if(b=a.querySelector("#store-introduction-sheet-delivery-message span"))b.innerHTML=c;a.querySelectorAll("script").forEach(function(a){var b=document.createElement("script");Array.from(a.attributes).forEach(function(a){b.setAttribute(a.name,a.value)});b.appendChild(document.createTextNode(a.innerHTML));a.parentNode.replaceChild(b,a)})}function h(b,d){b=a.getMetricsForDevice(b);d?c.increment(b.ATFC_OCX_STORE_INTRODUCTION_SHEET):c.increment(b.ATFC_STORE_INTRODUCTION_SHEET)}
function t(a,c){var f=a.newGlowAddressId,e=a.storeFrontUrl,g=a.isAlmDetailPageBopis;if(f)if(d.setAddress({addressId:f,almBrandId:a.almBrandId}),b.capabilities.isAmazonApp)l(e,g,c);else b.on("packard:glow:destinationChangeNavAck",function(){l(e,g,c)});else l(e,g,c)}function l(a,b,c){b?c?u():q():a&&(location.href=a)}function q(){e.when("a-sheet").execute(function(a){var b=a.get("alm-store-introduction-sheet");a.hideSheet(b);b.destroy()})}function u(){var a=b.$("#store-introduction-sheet-side-sheet-container").width()+
30;p({right:"-"+a+"px"},function(){b.$("#store-introduction-sheet-side-sheet-container").remove()});b.$("body").css({overflow:"visible"});b.hide(b.$("#store-introduction-sheet-background"));b.$("#store-introduction-sheet-background").remove()}function p(a,c){b.animate(b.$("#store-introduction-sheet-side-sheet-container"),a,300,"ease-out",c)}b.declarative("sis-storefront-button-action","click",function(a){t(a.data,!0)});b.declarative("sis-storefront-button-action-mobile","click",function(a){t(a.data,
!1)});return{render:function(a,b,c){a.additionalParams&&a.additionalParams.shouldRenderSIS?b&&b.storeIntroductionSheetEnabled&&g(a,b,c):"mobile"===c&&f(b.storeIntroductionSheetHtml.content)}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A").register("afx-cpi-helper",function(b){return{render:function(c){b.trigger("consumables-atc:success",{atcAction:{ASIN:c.asin,numberOfItems:c.quantity,operationType:"ADD"},programDetails:{programType:"UFG",brandId:c.brandId,
storeId:c.storeId},requestOverrides:{responseType:"HTML","cart-progress-indicator":{messageType:"topsheet"}}})}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A").register("f3-glowchangeaddress",function(b){function c(c,g){var f={};c=d(c);""==c?e.log("CSRF Token not available in response from get-rendered-address-selections response","Error"):(f.addressId=g.addressId,f.almBrandId=g.almBrandId,f.actionSource="f3-pickup-conflict",f.locationType="ACCOUNT_ADDRESS",
f.deviceType="web",f.pageType=h.ue_pty,b.post("/portal-migration/hz/glow/address-change?actionSource\x3dglow",{headers:{"Content-Type":"application/json","anti-csrftoken-a2z":c},params:f,paramsFormat:"json",success:function(b){a()},error:function(){e.log("Unable to set GLOW address","ERROR")}}))}function a(){b.capabilities.isAmazonApp?e.when("BottomSheetPlugin").execute(function(a){a.UpdateGlowIngress({})}.bind(this)):b.trigger("packard:glow:destinationChangeNav")}function d(a){var b=a.indexOf('"',
a.indexOf("CSRF_TOKEN"))+1;if(0!=b){var c=a.indexOf('"',b);return a.substring(b,c)}return""}return{setAddress:function(a){b.get("/portal-migration/hz/glow/get-rendered-address-selections?deviceType\x3ddesktop\x26pageType\x3dDetail\x26storeContext\x3dgrocery\x26actionSource\x3ddesktop-modal",{headers:{"Content-Type":"application/json","anti-csrftoken-a2z":b.$("#glowValidationToken").val()||""},success:function(b){c(b,a)},error:function(){e.log("Unable to get rendered address content","ERROR")}})},
refreshGlowIngress:a}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A").register("search-add-to-cart-helper",function(b){return{start:function(){e.now("rush-framework","rush-dispatcher").execute(function(b,a){b!==p&&a!==p&&a.trigger("search-add-to-cart:start",{})})},success:function(b,a){e.now("rush-framework","rush-dispatcher").execute(function(c,d){c!==p&&d!==p&&d.trigger("search-add-to-cart:success",{response:a,event:b})})},error:function(){e.now("rush-framework",
"rush-dispatcher").execute(function(b,a){b!==p&&a!==p&&a.trigger("search-add-to-cart:error",{})})}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","afx-csm-metrics-utils","afx-metrics-helper").register("afx-notification-helper",function(b,c,a){function d(f,e,g,h){var k=a.getMetricsForDevice(g);2<=h?c.increment(k.ATFC_NOTIFICATION_FAILURE):0<b.$(".a-changeover:visible").length?(setTimeout(function(){d(f,e,g,h+1)},2300),c.increment(k.ATFC_NOTIFICATION_RETRY)):
(k='\x3cdiv aria-live\x3d"polite" class\x3d"a-changeover atfc-notification"\x3e\x3cdiv class\x3d"a-changeover-inner"\x3e${notification-message}\x3c/div\x3e\x3c/div\x3e'.replace("${notification-message}",e),f.find(".atfc-notification").remove(),f.append(k))}return{handleAddToCart:function(a,c){if(a&&!a.errorModalHtml){a=a.clientResponseModel;var e=a.addToCartRequest.asin,f=a.addToCartRequest.storeId;if(a.items)for(var g=0;g<a.items.length;g++){var l=a.items[g];if(l&&l.notification&&l.ASIN===e&&(null==
f||0==f.length||l.storeId===f)){d(b.$("body"),l.notification,c,0);break}}}}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","afx-atfc-cart-conflicts-proxy").register("afx-atfc-cart-conflicts-executor",function(b,c){return{execute:function(a){c.getConflictSummary({data:a.data,success:function(d,e,h){!0===d.isSuccess?!0===d.hasConflicts?c.substitute({data:a.data}):c.resolve({data:a.data,success:function(){b.trigger("fresh-cart-conflict-resolution:success");
location.reload()},error:a.error}):a.error(h,e,"Failed to call getconflictsummary")},error:a.error})}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","afx-atfc-v2-proxy","fx-atfo-proxy","fx-atfc-button-utils","afx-csm-metrics-utils","afx-metrics-helper","afx-quantity-helper","afx-prehooks-helper","afx-callbacks-helper","afx-atfc-cart-conflicts-executor","fresh-atfc-error-modal-utils","fresh-atfc-ewc-helper","afx-add-all-helper","f3-consumables-atc-helper",
"add-to-cart-common-utils","f3-glowchangeaddress","search-add-to-cart-helper").register("fresh-shared-add-to-cart-v2",function(b,c,a,d,f,h,n,w,t,l,q,u,z,m,r,F,B){return{updateQuantity:n.updateQuantity,attachPrehooks:w.addPrehooks,attachCallbacks:t.addCallbacks,updateAddAllQuantityForAsin:z.updateQuantityForAsin,initialize:function(g){function k(a){return a.isItemSoldByCount?!JSON.parse(a.isItemSoldByCount):a.pickingStrategy?"bulk"===a.pickingStrategy||"catch"===a.pickingStrategy:!1}function A(a,b,
c,d){r.vibrate();a.data.amountInUom===p&&k(a.data)&&(a.data.amountInUom=a.data.quantity,a.data.quantity=1);var e={clientId:a.data.clientID,triggerEvent:a,scope:b,success:c,failure:d,device:g},f=z(a,b,d);w&&w.prehooksWeblabEnabled&&w.validatePrehook(e.clientId)?w.invoke(e,{success:D,error:function(a,b,c){f(a,b,c)}}):D(a,b,c,d)}function z(a,b,c){return function(e,x,h){var l=v.ATFC_CTCF,k=e.responseText;q.removeModal();if(k){var m=JSON.parse(k);l=v.ATFC_CTCF+":lineItemBucket:"+C(m.clientResponseModel)}400===
e.status&&m?(f.increment(v.ATFC_ERROR_MODAL_COUNT),q.parseResponseAndShowErrorModal(a,m,g)):403===e.status?location.reload():(f.increment(v.ATFC_UNEXPECTED_ERROR_COUNT),q.showGenericErrorModal(a,g),t.error(a.data.clientID,a,e,x,h),B.error());f.endWidgetTimer(b,l);a.data.setQuantityFlag||d.showButtonAndRemoveSpinner(a);c&&c()}}function D(a,e,h,l){var x=z(a,e,l);B.start();c.addToFreshCart({data:a.data,success:function(c,x,l){if(200===l.status)if(f.increment(v.ATFC_SUCCESSFUL_ADD_COUNT),x=v.ATFC_CTCF+
":lineItemBucket:"+C(c),f.endWidgetTimer(e,x),u.refreshCart(a.data.sessionID),t.success(a.data.clientID,a,c.clientResponseModel),B.success(a,c.clientResponseModel),c.refreshGlowLabel){if(F.refreshGlowIngress(),c.storefrontUrl)if(b.capabilities.isAmazonApp)location.href=c.storefrontUrl;else b.on("packard:glow:destinationChangeNavAck",function(){location.href=c.storefrontUrl})}else m.handleAddToCart(a.data,c,g);q.removeModal();a.data.setQuantityFlag||d.showButtonAndRemoveSpinner(a);h&&h()},error:function(a,
b,c){x(a,b,c)}})}function G(a,c){f.startWidgetTimer(c);b.post("/afx/slotselection/cancel",{timeout:5E3,params:{token:a.data.additionalParams.csrfToken},success:function(){a.data.quantity=n.getQuantity(a.$target);A(a,c,function(){location.reload()})},error:function(){e.log("Failed to clear reservation");q.showGenericErrorModal(a,g)}})}function C(a){return a.items&&Math.ceil(a.items.length/5)}var v=h.getMetricsForDevice(g),y=v.ATFC_LATENCY_SCOPE+Date.now();b.on("quantity-selector-widget:action:AddToCartAction",
function(a){a.additionalParams&&(a.additionalParams=b.$.parseJSON(a.additionalParams));a.queryLogInfoParams&&(a.queryLogInfoParams=b.$.parseJSON(a.queryLogInfoParams));var c={data:a};if(a.tunneledData&&a.tunneledData.$target){var e=a.tunneledData.$target;c=b.$.extend(c,{$target:e,$currentTarget:e,$declarativeTarget:e});delete a.tunneledData}else a=b.$("#qs-widget-button-container-"+a.qsUID),c=b.$.extend(c,{$target:a,$currentTarget:a,$declarativeTarget:a}),c.data.setQuantityFlag||d.hideButtonAndRenderSpinner(c);
A(c,y)});b.declarative("fresh-clear-slot","click",function(a){a.$currentTarget.context.disabled=!0;G(a,y)});b.declarative("fresh-add-to-cart","click",function(a){f.startWidgetTimer(y);f.increment(v.ATFC_COUNT);d.shouldDisableButtonClicks()||a.$currentTarget.find("input").is(":disabled")||(a.data.setQuantityFlag||d.hideButtonAndRenderSpinner(a),a.data.qsUID?b.trigger("quantity-selector-widget:triggerAction",a.data.qsUID,"AddToCartAction",{$target:a.$currentTarget}):(a.data.quantity=n.getQuantity(a.$target),
A(a,y)))});b.declarative("fresh-add-to-cart-alcohol","click",function(a){a.$currentTarget.context.disabled=!0;f.startWidgetTimer(y);a.data.quantity=n.getQuantity(a.$target);A(a,y)});b.declarative("fresh-add-to-cart-regions-resolve","click",function(a){a.$currentTarget.context.disabled=!0;q.removeModal();l.execute({data:a.data,error:function(b,c,d){q.showGenericErrorModal(a,g);t.error(a.data.clientID,a,b,c,d)}})});b.declarative("fresh-add-to-order","click",function(b){d.shouldDisableButtonClicks()||
(d.hideButtonAndRenderSpinner(b),r.vibrate(),a.addToFreshOrder({data:b.data,success:function(a,c,e){200===e.http.status&&t.success(b.data.clientID,b,a.clientResponseModel);d.showButtonAndRemoveSpinner(b)},error:function(c,e,f){q.removeModal();if(400===c.http.status)c=JSON.parse(c.responseText),q.parseResponseAndShowErrorModal(b,c,g);else if(401===c.http.status)location.reload();else{var h=a.getFallbackErrorModalHtml();q.showModal(b,h,g);t.error(b.data.clientID,b,c,e,f)}d.showButtonAndRemoveSpinner(b)}}))})}}})});
"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","alm-multi-add-to-cart-proxy","fx-atfc-button-utils","afx-csm-metrics-utils","afx-metrics-helper","afx-callbacks-helper","afx-preHandler-helper","fresh-atfc-error-modal-utils","fresh-atfc-ewc-helper","f3-consumables-atc-helper","add-to-cart-common-utils").register("shared-alm-multi-add-to-cart",function(b,c,a,d,e,h,n,p,t,l,q){return{attachCallbacks:h.addCallbacks,attachPreHandler:n.addPreHandler,initialize:function(f){function g(e,
g,n,m){q.vibrate();c.multiAddToCart({data:e.data,success:function(c,g,m){200===m.status&&(d.increment(k.ALM_MULTI_ATC_COUNT_SUCCESS),t.refreshCart(e.data.sessionID),b.trigger("multipleAddToCart:success",e.data),h.success(e.data.clientId,e,c),l.handleAddToCart(e.data,c,f));p.removeModal();a.showButtonAndRemoveSpinner(e);n&&n()},error:function(b,c,g){a.showButtonAndRemoveSpinner(e);var l;p.removeModal();b.responseText&&(l=JSON.parse(b.responseText));400===b.status&&l?(d.increment(k.ALM_MULTI_ATC_COUNT_ERROR_MODAL),
p.parseResponseAndShowErrorModal(e,l,f)):403===b.status?location.reload():(d.increment(k.ALM_MULTI_ATC_COUNT_ERROR_UNEXPECTED),p.showGenericErrorModal(e,f));h.error(e.data.clientId,e,b,c,g);m&&m()}})}var k=e.getMetricsForDevice(f),u=k.ATFC_LATENCY_SCOPE+Date.now();b.declarative("alm-multi-add-to-cart","click",function(b){d.increment(k.ALM_MULTI_ATC_COUNT);var c=n.getPreHandler(b.data.clientId);c&&c.preHandle&&(c=c.preHandle(b))&&(b=c);c=b.$currentTarget.find("input");!b.data.items||1>b.data.items.length||
a.shouldDisableButtonClicks()||c.is(":disabled")||(a.hideButtonAndRenderSpinner(b),g(b,u))})}}})});e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","f3-consumables-atc-helper","fresh-atfc-ewc-helper","afx-callbacks-helper","fresh-atfc-error-modal-utils","add-to-cart-common-utils").register("qs-fresh-shared-add-to-cart",function(b,c,a,d,e,h){return{initialize:function(f){function g(a){return"UFG"==a.cartType&&a.response&&a.request&&a.request.additionalInput?!0:!1}function k(b){if(g(b)&&
b.response.rawResponse){var h=b.response.rawResponse,l=h.jqXHR,k=b.request,m=k.triggeringEvent;m.data=k.additionalInput;m.data&&(m.data.isDecreaseQuantityAction=b.isDecreaseQuantityAction);200===l.status&&(a.refreshCart(k.sessionId),d.success(b.clientName,m,h.clientResponseModel),c.handleAddToCart(m.data,h,f));e.removeModal()}}b.on("quantity-slider:add-to-cart-start",function(a){h.vibrate()});b.on("quantity-slider:remove-from-cart-start",function(a){h.vibrate()});b.on("quantity-slider:remove-from-cart-success",
function(a){k(a)});b.on("quantity-slider:add-to-cart-success",function(a){k(a)});b.on("quantity-slider:cart-submit-error",function(a){if(g(a)){var b=a.request.triggeringEvent,c=a.response,h=c.responseText,k;e.removeModal();h&&(k=JSON.parse(h));b.data=a.request.additionalInput;400===c.status&&k?e.showModal(b,k.errorModalHtml,f):403===c.status?location.reload():(e.showGenericErrorModal(b,f),d.error(a.clientName,b,c,"error",c.statusText))}})}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){var b=
{en:{header:"Item was not added to the cart",errorMessage:"We're sorry, there was an error and \x3cb\x3ethis item was not added to your cart.\x3c/b\x3e Please try again.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
es:{header:"Producto no añadido a la cesta",errorMessage:"Se ha producido un error y este producto \x3cb\x3eno se ha añadido a tu cesta.\x3c/b\x3e Inténtalo de nuevo.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eAceptar\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
ar:{header:"لم تتم إضافة السلعة إلى عربة التسوق",errorMessage:"عذرًا، حدث خطأ ولم تتم إضافة هذه السلعة إلى عربة التسوق الخاصة بك. يرجى المحاولة مرة أخرى",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3e\nموافق \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
bn:{header:"কার্টে আইটেম যোগ করা হয়নি",errorMessage:"আমরা দুঃখিত, একটি ত্রুটি ছিল এবং এই আইটেমটি আপনার কার্টে যোগ করা হয় নি। অনুগ্রহ করে পুনরায় চেষ্টা করুন।",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eঠিক আছে\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
cs:{header:"Artikel nicht zum Einkaufswagen hinzufgefügt",errorMessage:"Leider ist ein Fehler aufgetreten und dieser Artikel wurde nicht zu Ihrem Einkaufswagen hinzugefügt. Bitte versuchen Sie es erneut.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
da:{header:"Artikel nicht zum Einkaufswagen hinzufgefügt",errorMessage:"Leider ist ein Fehler aufgetreten und dieser Artikel wurde nicht zu Ihrem Einkaufswagen hinzugefügt. Bitte versuchen Sie es erneut.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
de:{header:"Artikel nicht zum Einkaufswagen hinzufgefügt",errorMessage:"Leider ist ein Fehler aufgetreten und dieser Artikel wurde nicht zu Ihrem Einkaufswagen hinzugefügt. Bitte versuchen Sie es erneut.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
fr:{header:"Article non ajouté au panier",errorMessage:"Nous sommes désolés, il y a eu une erreur et cet article n'a pas été ajouté à votre panier. Veuillez réessayer.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
hi:{header:"आइटम कार्ट से नहीं जोड़ा गया",errorMessage:"हमें खेद है, एक त्रुटि हुई थी और यह आइटम आपके कार्ट में जोड़ा नहीं गया था. कृपया फिर से कोशिश करें।",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eठीक है\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
it:{header:"Articolo non aggiunto al carrello",errorMessage:"Desculpe, ocorreu um erro e este item \x3cb\x3enão foi adicionado ao seu carrinho.\x3c/b\x3e Por favor, tente novamente.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
ja:{header:"商品がカートに追加されていません",errorMessage:"申し訳ございません。エラーが発生したため、\x3cb\x3eこの商品はカートに追加されませんでした。\x3c/b\x3eもう一度お試しください。",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},kn:{header:"ಐಟಂ ಅನ್ನು ಕಾರ್ಟ್‍ಗೆ ಸೇರಿಸಿಲ್ಲ",
errorMessage:"ನಮ್ಮನ್ನು ಕ್ಷಮಿಸಿ, ಇದರಲ್ಲಿ ಒಂದು ದೋಷವಿದೆ ಮತ್ತು ಈ ಐಟಂ ಅನ್ನು ನಿಮ್ಮ ಕಾರ್ಟ್‍ಗೆ ಸೇರಿಸಿಲ್ಲ. ದಯವಿಟ್ಟು ಪುನಃ ಪ್ರಯತ್ನಿಸಿ.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eಸರಿ\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
ml:{header:"ബാസ്കറ്റിൽ ചേർക്കാത്ത ഇനം",errorMessage:"ക്ഷമിക്കണം,ഒരു പിശക് ഉണ്ടായി,നിങ്ങളുടെ കാർട്ടിൽ ഈ ഇനം ചേർത്തിട്ടില്ല. വീണ്ടും ശ്രമിക്കുക.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eശരി\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
mr:{header:"आयटम कार्टला जोडले गेलेले नाही",errorMessage:"आम्ही दिलगीर आहोत, एक चूक झाली आणि हे आयटम आपल्या कार्टमध्ये जोडले गेले नाही. कृपया पुन्हा प्रयत्न करा.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eठीक\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
nl:{header:"Artikel nicht zum Einkaufswagen hinzufgefügt",errorMessage:"Leider ist ein Fehler aufgetreten und dieser Artikel wurde nicht zu Ihrem Einkaufswagen hinzugefügt. Bitte versuchen Sie es erneut.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
pl:{header:"Artikel nicht zum Einkaufswagen hinzufgefügt",errorMessage:"Leider ist ein Fehler aufgetreten und dieser Artikel wurde nicht zu Ihrem Einkaufswagen hinzugefügt. Bitte versuchen Sie es erneut.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
pt:{header:"O item não foi adicionado ao carrinho",errorMessage:"Desculpe, ocorreu um erro e este item \x3cb\x3enão foi adicionado ao seu carrinho.\x3c/b\x3e Por favor, tente novamente.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
ta:{header:"பொருள் கார்ட்டில் சேர்க்கப்படவில்லை",errorMessage:"மன்னிக்கவும், பிழை ஏற்பட்டது, இந்த உருப்படி உங்கள் கார்ட்டில் சேர்க்கப்படவில்லை. மீண்டும் முயற்சிக்கவும்.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eசரி\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
te:{header:"వస్తువుని బాస్కెట్‌లో చేర్చలేదు",errorMessage:"మమ్మల్ని క్షమించండి, అక్కడ ఏదో ఎర్రర్ ఏర్పడింది అందుచేత మీ బాస్కెట్‌లో ఈ వస్తువును జోడించలేదు. దయచేసి మళ్లీ ప్రయత్నించండి.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eసరే\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
tr:{header:"Artikel nicht zum Einkaufswagen hinzufgefügt",errorMessage:"Leider ist ein Fehler aufgetreten und dieser Artikel wurde nicht zu Ihrem Einkaufswagen hinzugefügt. Bitte versuchen Sie es erneut.",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},
zh:{header:"商品未加入购物车",errorMessage:"很抱歉，出现错误，\x3cb\x3e该商品未添加至您的购物车。\x3c/b\x3e请重试。",footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3e好\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'}};d.when("A").register("fresh-atfc-fallback-error-modal-helper",
function(c){return{getFallbackErrorModal:function(){var a=document.querySelector("html[lang]");return a&&(a=a.getAttribute("lang"),a!==p&&(a=a.split("-"),a.length))?b[a[0]]:b.en}}})})});
/* ******** */
(function(f){var g=window.AmazonUIPageJS||window.P,h=g._namespace||g.attributeErrors,b=h?h("GuidedNavigationWidgetAssets",""):g;b.guardFatal?b.guardFatal(f)(b,window):b.execute(function(){f(b,window)})})(function(f,g,h){"use strict";f.when("A","s-url-parameters").register("inscx-guided-navigation-controller",function(b,k){function f(a){var d=[],e;for(e in c)c.hasOwnProperty(e)&&c[e]&&c[e].namespace&&0===c[e].namespace.localeCompare(a)&&d.push(c[e]);return d}function h(a){var d=document.getElementById(a+
"guided-apply");0<f(a).length?b.show(d):b.hide(d)}function q(a,d,e){var b,c="";c=e.map(function(a){return a.key}).join("|");return a.split(",").map(function(a){return(b=a.split(":")[0])&&b===d?b+":"+c:a}).join(",")}function l(a){var d=a.namespace+a.key,e=m(document.getElementById(d));c[d]=a;e.addClass("inscx-guided-search-recommendation-pill-clicked")}function n(a){a=a.namespace+a.key;var d=m(document.getElementById(a));c[a]=null;d.removeClass("inscx-guided-search-recommendation-pill-clicked")}function r(a){c[a.namespace+
a.key]?n(a):l(a)}function p(a){var d=f(a),e=d[d.length-1];if(e){var b=k.parseQueryString(e.searchUrl);if(!0===e.isMultiSelect){var c=k.getParamValue(b,"rh");c=q(c,e.shortId,d);k.setParamValue(b,"rh",c)}}else b=k.parseQueryString(g.location.search);c=k.paramsToString(b,!0);document.getElementById(a+"guided-apply").setAttribute("t_href",encodeURI(c));g.location.search=c}var m=b.$,c={};b.declarative("guided-recommendation-apply","click",function(a){(a=a.data)&&p(a.namespace)});b.declarative("guided-recommendation-click",
"click",function(a){a=a.data;if(a)if(!1===a.isMultiSelect){var b=f(a.namespace);b.forEach(function(a){n(a)});l(a);p(a.namespace)}else r(a),h(a.namespace)})})});
/* ******** */
(function(l){var m=window.AmazonUIPageJS||window.P,n=m._namespace||m.attributeErrors,k=n?n("PostsSharedFeedAssets","PostsSharedFeedAssets"):m;k.guardFatal?k.guardFatal(l)(k,window):k.execute(function(){l(k,window)})})(function(l,m,n){var k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},p=function(){function g(f,e){for(var a=0;a<e.length;a++){var b=
e[a];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(f,b.key,b)}}return function(f,e,a){e&&g(f.prototype,e);a&&g(f,a);return f}}();l.now("posts-sushi-client").execute(function(g){"undefined"===typeof g&&l.register("posts-sushi-client",function(){var f=["messageId","timestamp"];return function(){function e(a,b){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.endpoint=b;this.window=a;this.eventsQueue=[];this.eventsDictionary=
{};this.reverseEventsDictionary={};this.eventSequence=this.lowPriorityTimer=this.highPriorityTimer=this.rejectedEvents=this.dictionaryIndex=this.batchSize=0;this.unloadHandlerCalled=!1;this.highPriorityFlushInterval=1E3;this.lowPriorityFlushInterval=1E4;this.transportationClient=function(b){var f=function(){};b=function(){var b=function(){if(a.XDomainRequest){var d=new a.XDomainRequest;d.onerror=f;d.ontimeout=f;d.onprogress=f;d.onload=f;d.timeout=0;return d}if(a.XMLHttpRequest){d=new a.XMLHttpRequest;
if(!("withCredentials"in d))throw"";return d}return null};return{send:function(a,c){if(c&&a){var h=b();if(!h)throw"";h.open("POST",a,!0);h.setRequestHeader&&h.setRequestHeader("Content-type","text/plain");h.send(c)}},isSupported:!0}}();var e=function(){return{send:function(b,d){if(b&&d&&!a.navigator.sendBeacon(b,d))throw"";},isSupported:!!a.navigator.sendBeacon&&!(a.cordova&&a.cordova.platformId&&"ios"===a.cordova.platformId)}}();return{ajaxClient:b,beaconClient:e}}(this);this.compressor=function(a){var b=
function(d){if(d)switch("undefined"===typeof d?"undefined":k(d)){case "number":return!(d!==d||Infinity===d)&&d.toString().length>a.dictionaryIndex.length;case "boolean":break;case "string":return d.length>a.dictionaryIndex.length;default:return!0}return!1},e=function(d){a.eventsDictionary[d]||(a.eventsDictionary[d]=a.dictionaryIndex++,a.reverseEventsDictionary[a.eventsDictionary[d]]=d);return a.eventsDictionary[d]},g=function(a){if(b(a)){var c=0;a instanceof Array?c=2:a instanceof Function?c=null:
a instanceof Object&&(c=1);switch(c){case 0:return e(a);case 2:for(var h=[],c=0;c<a.length;c++)h[c]=g(a[c]);return h;case 1:c={};for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&(c[e(h)]=-1===f.indexOf(h)?g(a[h]):a[h]);return c}}return a};return{compressData:g,buildPOSTObject:function(){return a.stringify({cs:{dct:a.reverseEventsDictionary},events:a.eventsQueue})}}}(this)}p(e,[{key:"onBeforeUnload",value:function(){!0!==this.unloadHandlerCalled&&(this.flush(this),this.unloadHandlerCalled=!0)}},
{key:"stringify",value:function(a){try{return JSON.stringify(a)}catch(b){console.warn("Fail to stringify data")}return null}},{key:"resetBatch",value:function(){this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.highPriorityTimer=this.lowPriorityTimer=this.batchSize=this.dictionaryIndex=0}},{key:"sendWithClient",value:function(a){if(null==this.endpoint||""==this.endpoint)this.ueCount("SushiClientEndpointMissing");else{if(a.isSupported){var b=this.compressor.buildPOSTObject();
return a.send(this.endpoint,b)}throw"";}}},{key:"sendWithPriority",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];for(a=0;a<b.length;a++){c=b[a];try{return this.sendWithClient(c)}catch(f){}}return null}},{key:"flush",value:function(a){a.eventsQueue.length&&(a.sendWithPriority(a.transportationClient.beaconClient||{},a.transportationClient.ajaxClient||{}),a.resetBatch())}},{key:"startHighPriorityQueueTimer",value:function(){0===this.highPriorityFlushInterval?this.flush(this):
this.highPriorityTimer||(this.highPriorityTimer=this.window.setTimeout(this.flush,this.highPriorityFlushInterval,this))}},{key:"startLowPriorityQueueTimer",value:function(){this.lowPriorityTimer||(this.lowPriorityTimer=this.window.setTimeout(this.flush,this.lowPriorityFlushInterval,this))}},{key:"generateMessageId",value:function(a,b){return a+"-"+b+"-"+this.eventSequence}},{key:"getCurrentISODate",value:function(){var a=new Date,b=function(a){return 10>a?"0"+a:a};return Date.prototype.toISOString?
a.toISOString():a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}},{key:"decorateEvent",value:function(a){a.timestamp=this.getCurrentISODate();a.sequence=this.eventSequence;a.messageId=this.generateMessageId(a.request_id,Date.now?Date.now():(new Date).getTime())}},{key:"startTimers",value:function(a){(a||{}).n?this.startHighPriorityQueueTimer():
this.startLowPriorityQueueTimer()}},{key:"encodeEvent",value:function(a,b,c){b=b.length;(499===this.eventsQueue.length||524288<this.batchSize+b)&&this.flush(this);this.batchSize+=b;a={data:this.compressor.compressData(a)};this.eventsQueue.push(a);this.startTimers(c)}},{key:"addEvent",value:function(a,b){this.decorateEvent(a,b);var c=this.stringify(a);return c?(this.encodeEvent(a,c,b),!0):!1}},{key:"isValidAPIParam",value:function(a,b){return a&&-1<a.constructor.toString().indexOf(b)}},{key:"isMaxCallsReached",
value:function(){this.eventSequence++;5E4<this.eventSequence&&this.ueCount("SushiClientMaxCallsReached");return 5E4<this.eventSequence}},{key:"isValidAPICall",value:function(a,b){return!this.isMaxCallsReached()&&this.isValidAPIParam(a,"Object")}},{key:"ueCount",value:function(a,b){"undefined"!==typeof ue&&ue&&ue.count&&ue.count("ACEPostsMetrics:"+a,0===b?0:b||(ue.count("ACEPostsMetrics:"+a)||0)+1)}},{key:"processEvent",value:function(a,b){var c=this.unloadHandlerCalled=!1;this.options=b||{};this.isValidAPICall(a,
this.options)&&(c=this.addEvent(a,this.options));c?this.ueCount("ClientEventsSuccess:"+a.event_type):(console.error("Invalid JS SushiEel API call"),this.ueCount("ClientEventsFailed:"+a.event_type));return c}}]);return e}()})});"use strict";l.now("posts-clamp").execute(function(g){"undefined"===typeof g&&l.register("posts-clamp",function(){return function(f,e){function a(a,b){m.getComputedStyle||(m.getComputedStyle=function(a){this.el=a;this.getPropertyValue=function(b){var d=/(-([a-z]){1})/g;"float"==
b&&(b="styleFloat");d.test(b)&&(b=b.replace(d,function(a,b,d){return d.toUpperCase()}));return a.currentStyle&&a.currentStyle[b]?a.currentStyle[b]:null};return this});return m.getComputedStyle(a).getPropertyValue(b)}function b(b){var c=a(f,"line-height");"normal"==c&&(c=1.2*parseInt(a(f,"font-size")));return parseInt(c)*b}function c(a){if(a.lastChild.children&&0<a.lastChild.children.length)return c(Array.prototype.slice.call(a.children).pop());if(a.lastChild&&a.lastChild.nodeValue&&""!=a.lastChild.nodeValue&&
a.lastChild.nodeValue!=e.truncationChar)return a.lastChild;a.lastChild.parentNode.removeChild(a.lastChild);return c(f)}function g(a,b){if(b&&!(f.clientHeight<=b))for(;f.clientHeight>b;){var c=a.nodeValue.split("");if(1<c.length){do{c.pop();var e=c.join("");a.nodeValue=e}while(/[\s\n,.]+/.test(c[c.length-1])&&1<c.length)}k&&(f.innerHTML=a.nodeValue+k.innerHTML)}}if(f!==n){e=e||{};var l=e.clamp||2,k;e.truncationHTML&&(k=document.createElement("span"),k.innerHTML=e.truncationHTML);l=b(l);g(c(f),l)}}})})});
/* ******** */
(function(n){var m=window.AmazonUIPageJS||window.P,p=m._namespace||m.attributeErrors,q=p?p("BrandFollowButtonJS",""):m;q.guardFatal?q.guardFatal(n)(q,window):q.execute(function(){n(q,window)})})(function(n,m,p){var q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},z=function(){function g(b,a){for(var e=0;e<a.length;e++){var f=a[e];f.enumerable=
f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,a,e){a&&g(b.prototype,a);e&&g(b,e);return b}}();n.when("A").register("brand-follow-constants",function(){return{PAGE_LOCALE:m.top.document.documentElement.lang,Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR:"span[class*\x3dbrand-follow-button-container]",Brand_FOLLOW_BUTTON_WRAPPER_SELECTOR:"span[class*\x3dbrand-follow-button]",Brand_FOLLOW_BUTTON_SELECTOR:"button[data-bfid]",Brand_FOLLOW_BUTTON_WITH_TOOLTIP_SELECTOR:'button[data-bfid][data-showtooltip\x3d"true"]',
BRAND_FOLLOW_STATUS_MAP:"brand-follow-status",BRAND_FOLLOW_STATUS:{FOLLOWING:"following",NOT_FOLLOWING:"not_following",PENDING:"pending",NOT_SIGNED_IN:"not_signed_in",ERROR:"error"},BRAND_FOLLOW_CSRF_KEY:"brand-follow-csrf",BRAND_FOLLOW_CSRF_DATA_KEY:"csrf",BRAND_FOLLOW_LAST_CLICK_EVENT_MAP:"brand-follow-last-click-event-map",BFID_DATA_KEY:"bfid",REF_DATA_KEY:"ref",FOLLOW_STATUS_DATA_KEY:"followstatus",FOLLOW_TEXT_DATA_KEY:"followtext",FOLLOWING_TEXT_DATA_KEY:"followingtext",REQUEST_ID_DATA_KEY:"requestid",
PLACEMENT_TYPE_DATA_KEY:"placementtype",PLACEMENT_SUB_TYPE_DATA_KEY:"placementsubtype",PLACEMENT_ID_DATA_KEY:"placementid",COMPONENT_TYPE_DATA_KEY:"componenttype",COMPONENT_ID_DATA_KEY:"componentid",ELEMENT_TYPE_DATA_KEY:"elementtype",ELEMENT_ID_DATA_KEY:"elementid",TOOLTIP_TEXT_DATA_KEY:"tooltiptext",BACK_BUTTON_SUPPORT_ENABLED_DATA_KEY:"backbuttonsupportenabled",ARIA_LABEL_KEY:"aria-label",ARIA_LABEL_FOLLOW_DATA_KEY:"arialabelfollow",ARIA_LABEL_FOLLOWING_DATA_KEY:"arialabelfollowing",FOLLOWED_BRAND_TOOLTIP_SIGNAL:"followed_brand_signal",
TOOLTIP_LAST_SEEN_KEY:"tooltip_last_seen",TOOLTIP_LATEST_TEXT_KEY:"tooltip_latest_text",TOOLTIP_SEEN_COUNTER:"tooltip_seen_counter",TOOLTIP_DISPLAY_TIME:5E3,TOOLTIP_STATUS_SHOWN:"SHOWN",TOOLTIP_STATUS_NOT_SHOWN:"NOT_SHOWN",TOOLTIP_STATUS_DISABLED:"DISABLED",FOLLOW_AJAX_TIMEOUT:2E3,FOLLOW_AJAX_RETRIES:2,FOLLOW_ENDPOINT:"/followv2/follow",FOLLOW_ENTITY_TYPE:"brand",FOLLOW_REF_TAG:"bsn_as_follow",FOLLOW_CSM_PREFIX:"BrandFollow",FOLLOW_CSM_SUCCESS:"Success",FOLLOW_CSM_FAIL:"Fail",FOLLOW_CSM_FOLLOW:"Follow",
FOLLOW_CSM_UNFOLLOW:"Unfollow",FOLLOW_CSM_GET_FOLLOW_STATUS:"GetFollowStatus",HTTP_GET:"GET",HTTP_POST:"POST",HTTP_DELETE:"DELETE",SIGN_IN_PORTAL:"/ap/signin",AUTH_PORTAL_ASSOC_HANDLE:{"amazon.com":"usflex","amazon.ca":"caflex","amazon.com.mx":"mxflex","amazon.com.br":"brflex","amazon.com.co":"coflex","amazon.cl":"clflex","amazon.co.uk":"gbflex","amazon.de":"deflex","amazon.es":"esflex","amazon.fr":"frflex","amazon.in":"inflex","amazon.it":"itflex","amazon.ae":"aeflex","amazon.sa":"saflex","amazon.nl":"nlflex",
"amazon.com.be":"beflex","amazon.co.za":"zaflex","amazon.com.ng":"ngflex","amazon.co.jp":"jpflex","amazon.com.au":"auflex","amazon.sg":"sgflex"},BREAKPOINTS:{MOBILE:840},SUSHI_ENDPOINT:{gamma:"https://unagi-na.amazon.com/1/events/com.amazon.eel.BrandFollowButtonMetrics.Gamma.ClientEvents",prod:"https://unagi-na.amazon.com/1/events/com.amazon.eel.BrandFollowButtonMetrics.Prod.ClientEvents"},EVENT_TYPE:{FOLLOW:"Follow",UNFOLLOW:"Unfollow"}}});"use strict";n.when("A","brand-follow-constants").register("brand-follow-auth-portal-link-builder",
function(g,b){return{signin:function(){var a={"openid.ns":"http://specs.openid.net/auth/2.0","openid.claimed_id":"http://specs.openid.net/auth/2.0/identifier_select","openid.identity":"http://specs.openid.net/auth/2.0/identifier_select","openid.mode":"checkid_setup","openid.return_to":m.location.href,"openid.assoc_handle":b.AUTH_PORTAL_ASSOC_HANDLE[m.location.hostname.replace(/.+?(?=amazon)/,"")]};return b.SIGN_IN_PORTAL+"?"+g.$.param(a)}}});"use strict";n.register("brand-follow-csm-helper",function(){return{incrementCSMCounter:function(g,
b){m.ue&&m.ue.count&&m.ue.count(g,(m.ue.count(g)||0)+1,b)},logBodyBegin:function(g){"function"==typeof uet&&uet("bb",g,{wb:1})},sendCsmMetrics:function(g){"function"==typeof uex&&uex("ld",g,{wb:1})}}});"use strict";n.when("A","brand-follow-constants","brand-follow-csm-helper").register("brand-follow-data-storage-helper",function(g,b,a){var e={set:function(a,b,e){var h={};h[b]=e;g.state(a,h)},get:function(a){return g.state(a)},setFollowStatus:function(a,l){e.set(b.BRAND_FOLLOW_STATUS_MAP,a,l)},getFollowStatus:function(a){var l=
e.get(b.BRAND_FOLLOW_STATUS_MAP);return l===p?p:l[a]},setLastClickEvent:function(a,l){e.set(b.BRAND_FOLLOW_LAST_CLICK_EVENT_MAP,a,l)},getLastClickEvent:function(f){var l=b.FOLLOW_CSM_PREFIX+":dataStorageHelper:getLastClickAction";a.incrementCSMCounter(l);var k=e.get(b.BRAND_FOLLOW_LAST_CLICK_EVENT_MAP);if(k===p)return a.incrementCSMCounter(l+":emptyMap"),p;(f=k[f])||a.incrementCSMCounter(l+":notFoundInMap");return f},setCsrf:function(a){e.set(b.BRAND_FOLLOW_CSRF_KEY,b.BRAND_FOLLOW_CSRF_DATA_KEY,a)},
getCsrf:function(){var a=e.get(b.BRAND_FOLLOW_CSRF_KEY);return a===p?p:a[b.BRAND_FOLLOW_CSRF_DATA_KEY]}};return e});"use strict";n.when("A","brand-follow-constants","brand-follow-data-storage-helper","brand-follow-csm-helper").register("brand-follow-afs-helper",function(g,b,a,e){var f={makeCallToAfs:function(a,k,h,d,c,t){var f=b.FOLLOW_CSM_PREFIX+":"+a;e.incrementCSMCounter(f);(function A(u){e.logBodyBegin(t);g.$.ajax({url:k,type:a,headers:{Accept:"application/json","Content-Type":"application/json"},
data:h,dataType:"json",cache:!1,timeout:b.FOLLOW_AJAX_TIMEOUT,success:function(a,c,l){e.incrementCSMCounter(f+":"+b.FOLLOW_CSM_SUCCESS);e.sendCsmMetrics(t);"function"===typeof d&&d(a,c,l)},error:function(d,k,h){if("timeout"===k&&u)e.incrementCSMCounter(f+":timeout"),A(--u);else{var g=f+":"+b.FOLLOW_CSM_FAIL;e.incrementCSMCounter(g);"timeout"===k&&e.incrementCSMCounter(g+":timeout");e.sendCsmMetrics(t);m.ueLogError&&m.ueLogError({logLevel:"WARN",attribution:"BrandFollowKataComponentAssets",message:"AFS "+
a+" call failed with status "+k+", error thrown: "+h+", response text: "+d.responseText});"function"===typeof c&&c(d,k,h)}}})})(b.FOLLOW_AJAX_RETRIES)},getFollowStatusAndInitCsrf:function(e,k,h,d,c){f.makeCallToAfs(b.HTTP_GET,b.FOLLOW_ENDPOINT+"/"+e+"_"+b.FOLLOW_ENTITY_TYPE,{ref:k},function(d,b,e){d.signedIn?(a.setCsrf(d.csrf),"function"===typeof h&&h(d)):"function"===typeof c&&c()},d,b.FOLLOW_CSM_PREFIX+":"+b.FOLLOW_CSM_GET_FOLLOW_STATUS)},follow:function(e,k,h,d,c){var t=b.FOLLOW_CSM_PREFIX+":"+
b.FOLLOW_CSM_FOLLOW,g=function(){f.makeCallToAfs(b.HTTP_POST,b.FOLLOW_ENDPOINT,JSON.stringify({authenticity_token:a.getCsrf(),entity_id:e,category:b.FOLLOW_ENTITY_TYPE,ref:k}),h,d,t)};a.getCsrf()===p?f.getFollowStatusAndInitCsrf(e,k,g,p,c):g()},unfollow:function(e,k,h,d){var c=b.FOLLOW_CSM_PREFIX+":"+b.FOLLOW_CSM_UNFOLLOW,t=function(){f.makeCallToAfs(b.HTTP_DELETE,b.FOLLOW_ENDPOINT+"/"+e+"_"+b.FOLLOW_ENTITY_TYPE+"?"+g.$.param({authenticity_token:a.getCsrf(),ref:k}),p,h,d,c)};a.getCsrf()===p?f.getFollowStatusAndInitCsrf(e,
k,t):t()}};return f});"use strict";n.when("A").register("brand-follow-button-tooltip-factory",function(g){g=g.$;var b=g("\x3cdiv class\x3d'brand-follow-tooltip-root'/\x3e").appendTo("body");return{getOrCreateTooltip:function(){0===b.children().length&&b.append("\x3cdiv role\x3d'tooltip' class\x3d'bf-tooltip' id\x3d'bf-tooltip' aria-hidden\x3d'true' style\x3d'z-index: 299; display: none;'\x3e\x3cdiv class\x3d'bf-tooltip-inner'\x3eFollow to get deals, content, and email updates from this brand.\x3c/div\x3e\x3cdiv class\x3d'bf-arrow-border'\x3e\x3cdiv class\x3d'bf-arrow'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");
return b.children().first()}}});"use strict";n.when("A").register("brand-follow-button-tooltip-position",function(g){function b(){if(1===g.viewport().zoom)return{top:0,left:0};h||(h=k('\x3cspan id\x3d"bf-tooltip-offset-tracker"\x3e\x3c/span\x3e'),k("body").prepend(h));var a;k.withoutRtl(function(){a=h.offset()});return a}function a(a,c){var e=g.viewport(),l=b(),f,h;k.withoutRtl(function(){f=c.offset();h=a.offset()});f.top-=l.top;f.left-=l.left;h.top-=l.top;h.left-=l.left;var m=c.outerWidth(),r=c.outerHeight(),
n=a.outerWidth(!0),p=a.outerHeight(!0);return{windowWidth:e.width,windowHeight:e.height,windowTop:e.scrollTop,windowLeft:e.scrollLeft,windowRight:e.scrollLeft+e.width,windowBottom:e.scrollTop+e.height,zoomTop:l.top,zoomLeft:l.left,triggerWidth:m+1,triggerHeight:r,triggerTop:f.top-1,triggerLeft:f.left-1,triggerRight:f.left+m+1,triggerBottom:f.top+r+1,triggerVerticalCenter:f.top+r/2,triggerHorizontalCenter:f.left+m/2,popoverWidth:n,popoverHeight:p,popoverTop:h.top,popoverLeft:h.left,popoverRight:h.left+
n,popoverBottom:h.top+p,popoverVerticalCenter:h.top+p/2,popoverHorizontalCenter:h.left+n/2}}function e(a){return a.removeClass("a-arrow-top a-arrow-bottom a-arrow-left a-arrow-right")}function f(a){var c={deltaTop:0},e;c.top=a.triggerVerticalCenter-a.popoverHeight/2;c.top<a.windowTop+15?(e=Math.min(a.windowTop+15,a.triggerTop-15),c.deltaTop=c.top-e,c.top=e):c.top+a.popoverHeight>a.windowBottom-15&&(e=Math.min(15,a.windowBottom-a.triggerBottom+15),c.deltaTop=c.top+a.popoverHeight-(a.windowBottom-e),
c.top=a.windowBottom-e-a.popoverHeight);return c}function l(a){var c={deltaLeft:0},e;c.left=a.triggerHorizontalCenter-a.popoverWidth/2;15>c.left?(e=Math.min(15,a.triggerLeft-15),c.deltaLeft=c.left-e,c.left=e):c.left+a.popoverWidth>a.windowRight-15&&(e=Math.min(15,a.windowRight-a.triggerRight+15),c.deltaLeft=c.left+a.popoverWidth-(a.windowRight-e),c.left=a.windowRight-e-a.popoverWidth);return c}var k=g.$;k(m);var h=null;return{windowCenter:function(d){d=a(d.$popover,d.$trigger);var c={};c.top=(d.windowHeight-
d.popoverHeight)/2;c.left=(d.windowWidth-d.popoverWidth)/2;0>c.top&&(c.top=0);return c},windowTop:function(d){d=a(d.$popover,d.$trigger);var c={top:0};c.left=d.windowWidth/2-d.popoverWidth/2;return c},windowFullWidth:function(a){return{top:0,left:0}},triggerRight:function(d,c){var b=d.$popover;d=d.$trigger;c||(c=a(b,d));d=f(c);d.left=c.triggerRight;e(b).addClass("a-arrow-right");b.find(".bf-arrow-border").css("top",c.popoverHeight/2+d.deltaTop);return d},triggerLeft:function(d,c){var b=d.$popover;
d=d.$trigger;c||(c=a(b,d));d=f(c);d.left=c.triggerLeft-c.popoverWidth;d.left=0<d.left?d.left:0;e(b).addClass("a-arrow-left");b.find(".bf-arrow-border").css("top",c.popoverHeight/2+d.deltaTop);return d},triggerTop:function(d,c){var b=d.$popover;d=d.$trigger;c||(c=a(b,d));d=l(c);d.top=c.triggerTop-c.popoverHeight;e(b).addClass("a-arrow-top");b.find(".bf-arrow-border").css("left",c.popoverWidth/2+d.deltaLeft);return d},triggerBottom:function(d,c){var b=d.$popover;d=d.$trigger;c||(c=a(b,d));d=l(c);d.top=
c.triggerBottom;e(b).addClass("a-arrow-bottom");b.find(".bf-arrow-border").css("left",c.popoverWidth/2+d.deltaLeft);return d},triggerHorizontal:function(d,c){var e=d.$popover,b=d.$trigger;c||(c=a(e,b));return c.triggerLeft-c.windowLeft>c.windowRight-c.triggerRight?this.triggerLeft(d,c):this.triggerRight(d,c)},triggerVertical:function(d,c){var e=d.$popover,b=d.$trigger;c=c?c:a(e,b);return c.triggerTop-c.windowTop>c.popoverHeight+15?this.triggerTop(d,c):this.triggerBottom(d,c)},triggerVerticalAlignLeft:function(d,
c){var b=d.$popover;d=d.$trigger;c||(c=a(b,d));d={};var l=0,f=0,h=c.windowBottom-c.triggerBottom;d.left=c.triggerLeft;d.top=h>c.popoverHeight?c.triggerBottom+3:c.triggerTop-c.popoverHeight-3;15>d.left?(f=Math.min(15,c.triggerLeft-15),l=d.left-f,d.left=f):d.left+c.popoverWidth>c.windowRight-15&&(f=Math.min(15,c.windowRight-c.triggerRight+15),l=d.left+c.popoverWidth-(c.windowRight-f),d.left=c.windowRight-f-c.popoverWidth);e(b).addClass(h>c.popoverHeight?"a-arrow-bottom":"a-arrow-top");k.withoutRtl(function(){b.find(".bf-arrow-border").css("left",
c.triggerWidth/2+l)});return d},triggerBottomAlignRight:function(d,c){var b=d.$popover;d=d.$trigger;c||(c=a(b,d));d={};var l=0,f=0,h=c.windowBottom-c.triggerBottom;d.left=c.triggerRight-c.popoverWidth;d.top=c.triggerBottom+3;15>d.left?(f=Math.max(0,d.left),l=f-d.left,d.left=f):d.left+c.popoverWidth>c.windowRight-15&&(f=Math.min(15,c.windowRight-c.triggerRight+15),l=d.left+c.popoverWidth-(c.windowRight-f),d.left=c.windowRight-f-c.popoverWidth);e(b).addClass(h>c.popoverHeight?"a-arrow-bottom":"a-arrow-top");
k.withoutRtl(function(){b.find(".bf-arrow-border").css("right",c.triggerWidth/2+l)});return d},customPosition:function(d,c){return c.call(this,{popover:d,$popover:d.$popover,$trigger:d.$trigger,measure:a})}}});"use strict";n.when("A","brand-follow-button-tooltip-factory","brand-follow-button-tooltip-position","brand-follow-constants").register("brand-follow-button-tooltip",function(g,b,a,e){var f=g.$;return{show:function(l){var k=b.getOrCreateTooltip(),h=f(l);l=h.data(e.TOOLTIP_TEXT_DATA_KEY);h=a.triggerBottomAlignRight({$popover:k,
$trigger:h});l&&k.find(".bf-tooltip-inner").first().text(l);k.css({top:h.top+"px",left:h.left+6+"px"});k.fadeIn(500)},hide:function(){b.getOrCreateTooltip().fadeOut(500)},getText:function(){return b.getOrCreateTooltip().find(".bf-tooltip-inner").first().text()}}});"use strict";n.register("brand-follow-sushi-client",function(){var g=["messageId","timestamp"];return function(){function b(a,e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.endpoint=e;this.window=
a;this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.eventSequence=this.lowPriorityTimer=this.highPriorityTimer=this.rejectedEvents=this.dictionaryIndex=this.batchSize=0;this.unloadHandlerCalled=!1;this.highPriorityFlushInterval=1E3;this.lowPriorityFlushInterval=1E4;this.transportationClient=function(b){var e=function(){};b=function(){var b=function(){if(a.XDomainRequest){var d=new a.XDomainRequest;d.onerror=e;d.ontimeout=e;d.onprogress=e;d.onload=e;d.timeout=0;return d}if(a.XMLHttpRequest){d=
new a.XMLHttpRequest;if(!("withCredentials"in d))throw"";return d}return null};return{send:function(a,c){if(c&&a){var e=b();if(!e)throw"";e.open("POST",a,!0);e.setRequestHeader&&e.setRequestHeader("Content-type","text/plain");e.send(c)}},isSupported:!0}}();var k=function(){return{send:function(b,d){if(b&&d&&!a.navigator.sendBeacon(b,d))throw"";},isSupported:!!a.navigator.sendBeacon&&!(a.cordova&&a.cordova.platformId&&"ios"===a.cordova.platformId)}}();return{ajaxClient:b,beaconClient:k}}(this);this.compressor=
function(a){var b=function(d){if(d)switch("undefined"===typeof d?"undefined":q(d)){case "number":return!(d!==d||Infinity===d)&&d.toString().length>a.dictionaryIndex.length;case "boolean":break;case "string":return d.length>a.dictionaryIndex.length;default:return!0}return!1},e=function(d){a.eventsDictionary[d]||(a.eventsDictionary[d]=a.dictionaryIndex++,a.reverseEventsDictionary[a.eventsDictionary[d]]=d);return a.eventsDictionary[d]},h=function(a){if(b(a)){var c=0;a instanceof Array?c=2:a instanceof
Function?c=null:a instanceof Object&&(c=1);switch(c){case 0:return e(a);case 2:for(var f=[],c=0;c<a.length;c++)f[c]=h(a[c]);return f;case 1:c={};for(f in a)Object.prototype.hasOwnProperty.call(a,f)&&(c[e(f)]=-1===g.indexOf(f)?h(a[f]):a[f]);return c}}return a};return{compressData:h,buildPOSTObject:function(){return a.stringify({cs:{dct:a.reverseEventsDictionary},events:a.eventsQueue})}}}(this)}z(b,[{key:"onBeforeUnload",value:function(){!0!==this.unloadHandlerCalled&&(this.flush(this),this.unloadHandlerCalled=
!0)}},{key:"stringify",value:function(a){try{return JSON.stringify(a)}catch(b){console.warn("Fail to stringify data")}return null}},{key:"resetBatch",value:function(){this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.highPriorityTimer=this.lowPriorityTimer=this.batchSize=this.dictionaryIndex=0}},{key:"sendWithClient",value:function(a){if(null==this.endpoint||""==this.endpoint)this.ueCount("SushiClientEndpointMissing");else{if(a.isSupported){var b=this.compressor.buildPOSTObject();
return a.send(this.endpoint,b)}throw"";}}},{key:"sendWithPriority",value:function(){for(var a=arguments.length,b=Array(a),f=0;f<a;f++)b[f]=arguments[f];for(a=0;a<b.length;a++){f=b[a];try{return this.sendWithClient(f)}catch(l){}}return null}},{key:"flush",value:function(a){a.eventsQueue.length&&(a.sendWithPriority(a.transportationClient.beaconClient||{},a.transportationClient.ajaxClient||{}),a.resetBatch())}},{key:"startHighPriorityQueueTimer",value:function(){0===this.highPriorityFlushInterval?this.flush(this):
this.highPriorityTimer||(this.highPriorityTimer=this.window.setTimeout(this.flush,this.highPriorityFlushInterval,this))}},{key:"startLowPriorityQueueTimer",value:function(){this.lowPriorityTimer||(this.lowPriorityTimer=this.window.setTimeout(this.flush,this.lowPriorityFlushInterval,this))}},{key:"generateMessageId",value:function(a,b){return a+"-"+b+"-"+this.eventSequence}},{key:"getCurrentISODate",value:function(){var a=new Date,b=function(a){return 10>a?"0"+a:a};return Date.prototype.toISOString?
a.toISOString():a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}},{key:"decorateEvent",value:function(a){a.timestamp=this.getCurrentISODate();a.sequence=this.eventSequence;a.messageId=this.generateMessageId(a.request_id,Date.now?Date.now():(new Date).getTime())}},{key:"startTimers",value:function(a){(a||{}).n?this.startHighPriorityQueueTimer():
this.startLowPriorityQueueTimer()}},{key:"encodeEvent",value:function(a,b,f){b=b.length;(499===this.eventsQueue.length||524288<this.batchSize+b)&&this.flush(this);this.batchSize+=b;a={data:this.compressor.compressData(a)};this.eventsQueue.push(a);this.startTimers(f)}},{key:"addEvent",value:function(a,b){this.decorateEvent(a,b);var f=this.stringify(a);return f?(this.encodeEvent(a,f,b),!0):!1}},{key:"isValidAPIParam",value:function(a,b){return a&&-1<a.constructor.toString().indexOf(b)}},{key:"isMaxCallsReached",
value:function(){this.eventSequence++;5E4<this.eventSequence&&this.ueCount("SushiClientMaxCallsReached");return 5E4<this.eventSequence}},{key:"isValidAPICall",value:function(a,b){return!this.isMaxCallsReached()&&this.isValidAPIParam(a,"Object")}},{key:"ueCount",value:function(a,b){"undefined"!==typeof ue&&ue&&ue.count&&ue.count("BrandFollowMetrics:"+a,0===b?0:b||(ue.count("BrandFollowMetrics:"+a)||0)+1)}},{key:"processEvent",value:function(a,b){var f=this.unloadHandlerCalled=!1;this.options=b||{};
this.isValidAPICall(a,this.options)&&(f=this.addEvent(a,this.options));f?this.ueCount("ClientEventsSuccess:"+a.event_type):(console.error("Invalid JS SushiEel API call"),this.ueCount("ClientEventsFailed:"+a.event_type));return f}}]);return b}()});"use strict";n.when("A","brand-follow-sushi-client","brand-follow-constants").register("brand-follow-metrics-client",function(g,b,a){var e=g.$;g=document.domain;g=0===g.indexOf("www.amazon")||0===g.indexOf("smile.amazon");var f=new b(m,a.SUSHI_ENDPOINT[g?
"prod":"gamma"]);return{getAttributeMapFromElement:function(b){var f=e(b).data(a.BFID_DATA_KEY),h=e(b).data(a.REQUEST_ID_DATA_KEY),d=e(b).data(a.PLACEMENT_TYPE_DATA_KEY),c=e(b).data(a.PLACEMENT_SUB_TYPE_DATA_KEY),g=e(b).data(a.PLACEMENT_ID_DATA_KEY),m=e(b).data(a.COMPONENT_TYPE_DATA_KEY),n=e(b).data(a.COMPONENT_ID_DATA_KEY),p=e(b).data(a.ELEMENT_TYPE_DATA_KEY);b=e(b).data(a.ELEMENT_ID_DATA_KEY);return{bfid:f,request_id:h,placement_type:d,placement_sub_type:c,placement_id:g,component_type:m,component_id:n,
element_type:p,element_id:b}},buildFollowButtonClickMetricEvent:function(a,b,e){a=this.getAttributeMapFromElement(a);return{bfid:a.bfid,request_id:a.request_id,placement_type:a.placement_type,placement_sub_type:a.placement_sub_type,placement_id:a.placement_id,component_type:a.component_type,component_id:a.component_id,element_type:a.element_type,element_id:a.element_id,event_type:b,tooltip_status:m.brandFollowTooltipStatus,timestamp:Date.now(),event_source:m.location.href,schema_version:1}},processMetricEvent:function(a,
b){f.processEvent(a,b)}}});"use strict";n.when("A","brand-follow-constants","brand-follow-button-tooltip","brand-follow-data-storage-helper","brand-follow-csm-helper").execute("brand-follow-tooltip-helper",function(g,b,a,e,f){var l=g.$,k;try{localStorage.setItem("brand_follow_localStorage_testing_key","brand_follow_localStorage_testing_key"),localStorage.removeItem("brand_follow_localStorage_testing_key"),k=!0}catch(u){k=!1}g.on("brandFollow:followButton:loaded",function(){var e=b.FOLLOW_CSM_PREFIX+
":tooltip";if(null!==b.PAGE_LOCALE&&b.PAGE_LOCALE!==p&&""!==b.PAGE_LOCALE&&"en"===b.PAGE_LOCALE.slice(0,2)){if(k){var r=localStorage.getItem(b.TOOLTIP_LAST_SEEN_KEY),B=localStorage.getItem(b.TOOLTIP_SEEN_COUNTER),w;if(w=h()){var x;try{x=a.getText()!==localStorage.getItem(b.TOOLTIP_LATEST_TEXT_KEY)}catch(C){x=!1}w=!x}if(w||!h()&&r&&!c(r,B)){m.brandFollowTooltipStatus=b.TOOLTIP_STATUS_NOT_SHOWN;return}}r=l(b.Brand_FOLLOW_BUTTON_WITH_TOOLTIP_SELECTOR);if(r.length)if(g.capabilities.mobile||g.capabilities.tablet||
screen.width<=b.BREAKPOINTS.MOBILE){var v=r.get(0),r=l(v).data(b.BFID_DATA_KEY);!r||d(r)?m.brandFollowTooltipStatus=b.TOOLTIP_STATUS_NOT_SHOWN:(a.show(v),t(),k&&localStorage.setItem(b.TOOLTIP_LATEST_TEXT_KEY,a.getText()),m.brandFollowTooltipStatus=b.TOOLTIP_STATUS_SHOWN,"true"!==m.tooltipSeenOnPage&&(q(),m.tooltipSeenOnPage="true",f.incrementCSMCounter(e+":mobile")),n(v)?y():l(m).scroll(g.throttle(function(){n(v)&&y()},200)))}else l(b.Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR).undelegate(b.Brand_FOLLOW_BUTTON_WITH_TOOLTIP_SELECTOR,
"mouseenter mouseleave"),l(b.Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR).delegate(b.Brand_FOLLOW_BUTTON_WITH_TOOLTIP_SELECTOR,"mouseenter mouseleave",function(c){if("mouseenter"===c.type){var h=l(c.target).data(b.BFID_DATA_KEY);!h||d(h)?m.brandFollowTooltipStatus=b.TOOLTIP_STATUS_NOT_SHOWN:(a.show(c.target),t(),k&&localStorage.setItem(b.TOOLTIP_LATEST_TEXT_KEY,a.getText()),m.brandFollowTooltipStatus=b.TOOLTIP_STATUS_SHOWN,"true"!==m.tooltipSeenOnPage&&(q(),m.tooltipSeenOnPage="true",f.incrementCSMCounter(e+
":desktop")))}else"mouseleave"===c.type&&a.hide()});else m.brandFollowTooltipStatus=b.TOOLTIP_STATUS_DISABLED}});var h=function(){try{return"true"===localStorage.getItem(b.FOLLOWED_BRAND_TOOLTIP_SIGNAL)}catch(a){return!1}},d=function(a){try{return b.BRAND_FOLLOW_STATUS.FOLLOWING===e.getFollowStatus(a)}catch(c){return!1}},c=function(a,b){try{return Date.now()-parseInt(a)>6048E5*Math.pow(2,parseInt(b))}catch(c){return!1}},t=function(){k&&localStorage.setItem(b.TOOLTIP_LAST_SEEN_KEY,Date.now().toString())},
n=function(a){a=a.getBoundingClientRect();return 0<=a.top&&0<=a.left&&a.bottom<=(m.innerHeight||document.documentElement.clientHeight)&&a.right<=(m.innerWidth||document.documentElement.clientWidth)},y=function(){setTimeout(function(){a.hide()},b.TOOLTIP_DISPLAY_TIME)},q=function(){if(k){var a=localStorage.getItem(b.TOOLTIP_SEEN_COUNTER);a?(a=parseInt(a)+1,localStorage.setItem(b.TOOLTIP_SEEN_COUNTER,a.toString())):localStorage.setItem(b.TOOLTIP_SEEN_COUNTER,(1).toString())}}});"use strict";n.when("A",
"brand-follow-data-storage-helper","brand-follow-constants","brand-follow-csm-helper").register("brand-follow-shared-utils",function(g,b,a,e){var f=g.$;m.BrandFollowSharedUtils={getLastClickAction:function(g){var k=a.FOLLOW_CSM_PREFIX+":sharedUtils:getLastClickAction";e.incrementCSMCounter(k);var h;h=a.FOLLOW_CSM_PREFIX+":sharedUtils:getBFID";e.incrementCSMCounter(h);g?"string"===typeof g?h=g:g instanceof Element&&1===g.nodeType?((g=f(g).find(a.Brand_FOLLOW_BUTTON_SELECTOR).andSelf().filter(a.Brand_FOLLOW_BUTTON_SELECTOR).first().data(a.BFID_DATA_KEY))||
e.incrementCSMCounter(h+":notFound"),h=g):(e.incrementCSMCounter(h+":unknownInput"),h=void 0):h=void 0;h||e.incrementCSMCounter(k+":emptyBFID");(h=b.getLastClickEvent(h))||e.incrementCSMCounter(k+":emptyResponse");return h},isFollowing:function(e){return b.getFollowStatus(e)===a.BRAND_FOLLOW_STATUS.FOLLOWING}}});"use strict";n.when("A","brand-follow-data-storage-helper","brand-follow-constants").register("on-brand-follow-status-change",function(g,b,a){var e=g.$;g.state.bind("brand-follow-status",
function(f,g){for(var k in g)g.hasOwnProperty(k)&&g[k]&&(b.getFollowStatus(k)===a.BRAND_FOLLOW_STATUS.FOLLOWING?e("[data-bfid\x3d'"+k+"']").each(function(){e(this).text(e(this).data(a.FOLLOWING_TEXT_DATA_KEY));e(this).attr(a.ARIA_LABEL_KEY,e(this).data(a.ARIA_LABEL_FOLLOWING_DATA_KEY))}):e("[data-bfid\x3d'"+k+"']").each(function(){e(this).text(e(this).data(a.FOLLOW_TEXT_DATA_KEY));e(this).attr(a.ARIA_LABEL_KEY,e(this).data(a.ARIA_LABEL_FOLLOW_DATA_KEY))}))})});"use strict";n.when("A").register("brand-follow-button-event-helper",
function(g){return{triggerFollowButtonLoadedEvent:function(){g.trigger("brandFollow:followButton:loaded")},triggerFollowButtonRedirectionEvent:function(b){g.trigger("brandFollow:followButton:redirectToAuthPortal",b)}}});"use strict";n.when("A","brand-follow-data-storage-helper","brand-follow-constants","brand-follow-afs-helper","brand-follow-auth-portal-link-builder","brand-follow-button-event-helper","brand-follow-metrics-client","brand-follow-csm-helper").register("brand-follow-button-click-handler",
function(g,b,a,e,f,l,k,h){var d=g.$;g.on("brandFollow:followButton:loaded",function(){d(a.Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR).undelegate(a.Brand_FOLLOW_BUTTON_WRAPPER_SELECTOR,"click");d(a.Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR).delegate(a.Brand_FOLLOW_BUTTON_WRAPPER_SELECTOR,"click",function(c){var g=a.FOLLOW_CSM_PREFIX+":clickHandler";h.incrementCSMCounter(g);var n=d(this).find(a.Brand_FOLLOW_BUTTON_SELECTOR).first(),p=n.data(a.BFID_DATA_KEY),q=n.data(a.REF_DATA_KEY)||a.FOLLOW_REF_TAG;if(p){var u=
b.getFollowStatus(p);u||(u=n.data(a.FOLLOW_STATUS_DATA_KEY)?a.BRAND_FOLLOW_STATUS.FOLLOWING:a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING);switch(u){case a.BRAND_FOLLOW_STATUS.FOLLOWING:h.incrementCSMCounter(g+":status:following");b.setFollowStatus(p,a.BRAND_FOLLOW_STATUS.PENDING);b.setLastClickEvent(p,a.EVENT_TYPE.UNFOLLOW);e.unfollow(p,q,function(){b.setFollowStatus(p,a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING);var d=k.buildFollowButtonClickMetricEvent(n,a.EVENT_TYPE.UNFOLLOW,c);k.processMetricEvent(d,{n:1})},function(){b.setFollowStatus(p,
a.BRAND_FOLLOW_STATUS.FOLLOWING)});break;case a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING:h.incrementCSMCounter(g+":status:not_following");b.setFollowStatus(p,a.BRAND_FOLLOW_STATUS.PENDING);b.setLastClickEvent(p,a.EVENT_TYPE.FOLLOW);e.follow(p,q,function(){b.setFollowStatus(p,a.BRAND_FOLLOW_STATUS.FOLLOWING);var d=k.buildFollowButtonClickMetricEvent(n,a.EVENT_TYPE.FOLLOW,c);k.processMetricEvent(d,{n:1});try{localStorage.setItem(a.FOLLOWED_BRAND_TOOLTIP_SIGNAL,"true")}catch(e){}},function(){b.setFollowStatus(p,
a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING)},function(){l.triggerFollowButtonRedirectionEvent(c);var a=f.signin();m.location.assign(a)});break;case a.BRAND_FOLLOW_STATUS.NOT_SIGNED_IN:h.incrementCSMCounter(g+":status:not_signed_in");l.triggerFollowButtonRedirectionEvent(c);g=f.signin();m.location.assign(g);break;case a.BRAND_FOLLOW_STATUS.ERROR:h.incrementCSMCounter(g+":status:error");l.triggerFollowButtonLoadedEvent();break;case a.BRAND_FOLLOW_STATUS.PENDING:return h.incrementCSMCounter(g+":status:pending"),
!1;default:h.incrementCSMCounter(g+":status:unknown")}}else h.incrementCSMCounter(g+":emptyBFID")})})});"use strict";n.when("A","brand-follow-data-storage-helper","brand-follow-constants","brand-follow-afs-helper","brand-follow-button-event-helper","brand-follow-csm-helper","on-brand-follow-status-change","ready").register("brand-follow-button-initializer",function(g,b,a,e,f,l){g.on("brandFollow:followButton:loaded",function(){g.$(a.Brand_FOLLOW_BUTTON_WRAPPER_SELECTOR+" "+a.Brand_FOLLOW_BUTTON_SELECTOR).each(function(){var f=
g.$(this),h=f.data(a.BFID_DATA_KEY),d=f.data(a.REF_DATA_KEY)||a.FOLLOW_REF_TAG;if(h!==p){var c=b.getFollowStatus(h);if(c===p||c===a.BRAND_FOLLOW_STATUS.ERROR){c=f.data(a.FOLLOW_STATUS_DATA_KEY);if(f.data(a.BACK_BUTTON_SUPPORT_ENABLED_DATA_KEY)){var n=m.performance||m.webkitPerformance,n=n&&n.navigation&&2==n.navigation.type;!/bot|crawl|spider/i.test(m.navigator&&m.navigator.userAgent)&&n&&(c="")}if(c!==p&&""!==c)b.setFollowStatus(h,c?a.BRAND_FOLLOW_STATUS.FOLLOWING:a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING);
else{b.setFollowStatus(h,a.BRAND_FOLLOW_STATUS.PENDING);var q=a.FOLLOW_CSM_PREFIX+":FetchFollowStatus";l.incrementCSMCounter(""+q);e.getFollowStatusAndInitCsrf(h,d,function(c){b.setFollowStatus(h,c.isFollowing?a.BRAND_FOLLOW_STATUS.FOLLOWING:a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING);l.incrementCSMCounter(q+":success");f.data(a.FOLLOW_STATUS_DATA_KEY)!==c.isFollowing&&l.incrementCSMCounter(q+":FoundDiff")},function(){l.incrementCSMCounter(q+":error");b.setFollowStatus(h,a.BRAND_FOLLOW_STATUS.ERROR)},function(){l.incrementCSMCounter(q+
":notSignedIn");b.setFollowStatus(h,a.BRAND_FOLLOW_STATUS.NOT_SIGNED_IN)})}}else c===a.BRAND_FOLLOW_STATUS.FOLLOWING?(f.text(f.data(a.FOLLOWING_TEXT_DATA_KEY)),f.attr(a.ARIA_LABEL_KEY,f.data(a.ARIA_LABEL_FOLLOWING_DATA_KEY))):(f.text(f.data(a.FOLLOW_TEXT_DATA_KEY)),f.attr(a.ARIA_LABEL_KEY,f.data(a.ARIA_LABEL_FOLLOW_DATA_KEY)))}})});f.triggerFollowButtonLoadedEvent()});"use strict";n.when("A","brand-follow-constants","brand-follow-button-event-helper","ready").execute("brand-follow-button-mutation-observer",
function(g,b,a){var e=g.$;(function(){var f=m.MutationObserver||m.WebKitMutationObserver||m.MozMutationObserver;f!==p&&(new f(function(f,g){var h;g=!1;for(var d=0;d<f.length;d++){h=f[d];if("childList"!==h.type)break;h=h.addedNodes;for(var c,m=0;m<h.length;m++)if(c=h[m],0!==e(c).find(b.Brand_FOLLOW_BUTTON_SELECTOR).length){g=!0;break}if(g){a.triggerFollowButtonLoadedEvent();break}}})).observe(document,{childList:!0,subtree:!0})})()})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("BrandFollowKataComponentAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(k){var h=window.AmazonUIPageJS||window.P,n=h._namespace||h.attributeErrors,f=n?n("PostsSearchWidgetAssets",""):h;f.guardFatal?f.guardFatal(k)(f,window):f.execute(function(){k(f,window)})})(function(k,h,n){k.when("A","rush-framework","related-posts-search-metrics-client","related-posts-carousel-view","af","ready").register("related-posts-search-widget",function(f,h,m,c){h.registerComponent("related-posts-search-widget","related-posts-search-widget",function(b){var e=f.$(b.elem());b={sushiEndpoint:b.prop("sushiEndpoint"),
requestId:b.prop("requestId"),pageType:b.prop("pageType"),pageId:b.prop("pageId"),appMode:b.prop("appMode"),platform:b.prop("platform"),mShopBuild:b.prop("mShopBuild"),carouselName:b.prop("carouselName")||"posts-feed-preview-carousel",placementProductId:b.prop("placementProductId"),instanceId:b.prop("instanceId"),weblabName:b.prop("weblabName"),widgetModelType:b.prop("widgetModelType"),marketplaceId:b.prop("marketplaceId")};var e=new c(e),a=new m(e,b);e.initEvents(b.carouselName,a);e.$carouselContainer.length||
a.emitCsmCounter("PostsCarouselWidgetExpectedButNotLoaded")})});"use strict";k.when("A","a-carousel-framework","posts-carousel-linkto","af","ready").register("related-posts-carousel-view",function(f,k,m){function c(a){this.$carouselContainer=a.find(".posts-feed-preview-wrapper")}function b(a,l){var b=a.getAttr("pageNumber");a=a.getAttr("totalPages");var e=l.find(".a-carousel-goto-prevpage");l=l.find(".a-carousel-goto-nextpage");if(e.length||l.length)e.toggleClass("aok-hidden",1===b),l.toggleClass("aok-hidden",
b===a)}var e=f.$,a={};c.prototype.getCarouselElement=function(){return this.$carouselContainer};c.prototype.initEvents=function(d,l){var c=this;k.onInit(d,function(g){a[d]?l.emitCsmCounter("PostsCarouselWidgetAlreadyInitialized"):g?(l.emitCsmCounter("PostsCarouselWidgetInitialized"),c.auiCarousel=g,b(g,c.$carouselContainer),f.on(f.constants.BROWSER_EVENTS.SCROLL,function(){l.handleUserScroll()}),g.onChange("px",function(){b(g,c.$carouselContainer);l.handleUserScroll()}),g.onChange("pageSize",function(){l.handleCarouselResize()}),
c.$carouselContainer.find(".posts-feed-preview-card").click(function(a){l.handleUserClick(a)}),h.addEventListener("beforeunload",function(){l.handleUnload()}),h.addEventListener("pagehide",function(){l.handleUnload()}),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&l.handleUnload();"visible"===document.visibilityState&&l.handlePageLoad()}),c.$carouselContainer.delegate("[data-target-href]","click",function(a){var d=a.target,l=c.$carouselContainer.get(0),
b=e(a.target).attr("data-target-href");if(null===b||b===n)b=e(a.target).closest("[data-target-href]").attr("data-target-href");for(;d&&d!==l;){if(d.hasAttribute("ignore-data-target-href"))return!1;d=d.parentNode}if("string"===typeof b&&b.length)return m.execute(b),!1}),c.$carouselContainer.delegate(".posts-feed-preview-link","mousedown keydown",function(a){switch(a.type){case "mousedown":e(a.target).addClass("posts-feed-preview-link-remove-outline");break;case "keydown":e(a.target).removeClass("posts-feed-preview-link-remove-outline")}}),
a[d]=!0,l.initialize(),l.handlePageLoad()):l.emitCsmCounter("PostsCarouselWidgetCarouselNotFound")})};return c});"use strict";k.when("A","posts-sushi-client","related-posts-measure","af","ready").register("related-posts-search-metrics-client",function(f,k,m){function c(a,d){this.carouselView=a;this.metricConfig=d;this.state={postVisibilityEventStates:{},postImpressionMetadata:{},carouselOnScreen:!1,unloadHandled:!1};this.sushiClient=new k(h,this.metricConfig.sushiEndpoint)}var b={PostImpression:2,
PostPartialImpression:1,CarouselOffScreen:1,PostClick:1,PostView:2,PostOffScreen:1,PageEgress:1},e=f.$;c.prototype.initialize=function(){this.isCarouselOutOfViewPort()||this.checkPostsClientSideMetrics()};c.prototype.handlePageLoad=function(){this.carouselInstance=this.generateInstanceId();this.requestInstance=this.generateInstanceId()};c.prototype.generateInstanceId=function(){return Math.round(Math.floor(999999*Math.random())+1)};c.prototype.emitCsmCounter=function(a){this.sushiClient.ueCount(a)};
c.prototype.decorateMetricPayload=function(a){a.request_id=this.metricConfig.requestId;a.request_instance=this.requestInstance;a.carousel_instance=this.carouselInstance;a.page_type=this.metricConfig.pageType;a.page_id=this.metricConfig.pageId;a.app_mode=this.metricConfig.appMode;a.app_build="1.0";a.platform=this.metricConfig.platform;a.placement_product_id=this.metricConfig.placementProductId;a.instance_id=this.metricConfig.instanceId;a.widget_model_type=this.metricConfig.widgetModelType;a.marketplace_id=
this.metricConfig.marketplaceId;this.metricConfig.mShopBuild&&(a.mshop_build=this.metricConfig.mShopBuild);this.metricConfig.weblabName&&(a.weblab_name=this.metricConfig.weblabName);a.event_version=b[a.event_type];return a};c.prototype.handleUserScroll=function(){this.checkPostsClientSideMetrics()};c.prototype.handleCarouselResize=function(){this.checkPostsClientSideMetrics()};c.prototype.getOriginPx=function(a){a=e("#"+a);var d=a.offset();return a.length?d.left+","+d.top:"-1,-1"};c.prototype.getPosts=
function(){return this.carouselView.getCarouselElement().find(".posts-feed-preview-card")};c.prototype.postOriginsAreInvalid=function(){for(var a=this.carouselView.getCarouselElement(),d=this.getPosts(),b=null,c=!1,g=-1,a=a.is(":visible"),f=0;f<d.length;f++){var h=e(d[f]),k=h.attr("id");if(h=h.is(":visible")){-1===g&&(g=f);k=this.getOriginPx(k);if(b){if(d=k===b)this.emitCsmCounter("PostsCarouselInvalidOrigins:LastVisible:"+(c?"true":"false")),this.emitCsmCounter("PostsCarouselInvalidOrigins:CurVisible:"+
(h?"true":"false")),this.emitCsmCounter("PostsCarouselInvalidOrigins:CarouselVisible:"+(a?"true":"false")),this.emitCsmCounter("PostsCarouselInvalidOrigins:FirstVisibleIndex:"+g);return d}b=k;c=h}}this.emitCsmCounter("PostsCarouselInvalidOrigins:NoCardsVisible:"+(b?"false":"true"));this.emitCsmCounter("PostsCarouselInvalidOrigins:CardsInvis:CarouselVisible:"+(a?"true":"false"));return!0};c.prototype.checkPostsClientSideMetrics=function(){if(this.postOriginsAreInvalid()){this.emitCsmCounter("PostsCarouselInvalidOrigins");
var a=!this.isCarouselOutOfViewPort();this.emitCsmCounter("PostsCarouselInvalidOrigins:OnScreen:"+(a?"true":"false"))}else this.checkPostImpressionMetrics(),this.checkPostCarouselOffScreenMetric()};c.prototype.checkPostImpressionMetrics=function(){for(var a=this.getPosts(),d=0;d<a.length;d++){var b=e(a[d]),c=b.attr("id"),g=b.attr("data-post-rank");this.checkPostViewMetric(c,g);this.checkPostOffScreenMetric(c,g);b.is(":visible")&&(this.checkPostPartialImpressionMetric(c,g),this.checkPostImpressionMetric(c,
g))}};c.prototype.postEventEmittedSinceComingOnScreen=function(a,d){return this.state.postVisibilityEventStates[d]?this.state.postVisibilityEventStates[d][a]||!1:!1};c.prototype.shouldEmitMetrics=function(a,d){return!this.postEventEmittedSinceComingOnScreen(a,d)};c.prototype.checkPostCarouselOffScreenMetric=function(){if(this.state.carouselOnScreen&&this.isCarouselOutOfViewPort()){this.state.carouselOnScreen=!1;var a=this.decorateMetricPayload({event_type:"CarouselOffScreen"});this.sushiClient.processEvent(a,
{n:1});this.carouselInstance=this.generateInstanceId()}};c.prototype.checkPostPartialImpressionMetric=function(a,d){this.shouldEmitMetrics("PostPartialImpression",a)&&this.isPartialImpression(a)&&(this.state.carouselOnScreen=!0,d=this.buildPostEvent("PostPartialImpression",a,d),this.sushiClient.processEvent(d,{n:1}),this.updateImpressionState(a,"PostPartialImpression"))};c.prototype.isPartialImpression=function(a){a=m.getElementViewportExtents(a);return(a.isTopInViewport||a.isBottomInViewport)&&(a.isLeftInViewport||
a.isRightInViewport)};c.prototype.checkPostViewMetric=function(a,d){if(this.shouldEmitMetrics("PostView",a)&&this.isView(a)){d=this.buildPostEvent("PostView",a,d);var b=f.now()-this.state.postVisibilityEventStates[a].PostImpression;0<b&&36E5>b&&(d.dwell_time_ms=Math.round(b));this.sushiClient.processEvent(d,{n:1});this.updateImpressionState(a,"PostView")}};c.prototype.isView=function(a){if(this.postEventEmittedSinceComingOnScreen("PostImpression",a))return a=m.getElementViewportAreas(a),a.viewportArea<
.5*a.totalArea};c.prototype.checkPostImpressionMetric=function(a,d){this.shouldEmitMetrics("PostImpression",a)&&this.isImpression(a)&&(d=this.buildPostEvent("PostImpression",a,d),this.sushiClient.processEvent(d,{n:1}),this.updateImpressionState(a,"PostImpression",f.now()))};c.prototype.isImpression=function(a){a=m.getElementViewportAreas(a);return a.viewportArea>=.5*a.totalArea};c.prototype.checkPostOffScreenMetric=function(a,d){this.isPostOutOfViewPort(a)&&this.postEventEmittedSinceComingOnScreen("PostPartialImpression",
a)&&(d=this.buildPostEvent("PostOffScreen",a,d),this.sushiClient.processEvent(d,{n:1}),this.state.postVisibilityEventStates[a].PostImpression=!1,this.state.postVisibilityEventStates[a].PostPartialImpression=!1,this.state.postVisibilityEventStates[a].PostView=!1)};c.prototype.isPostOutOfViewPort=function(a){return!f.onScreen(e("#"+a),0)};c.prototype.isCarouselOutOfViewPort=function(){return!f.onScreen(this.carouselView.getCarouselElement(),0)};c.prototype.buildPostEvent=function(a,d,b){return this.decorateMetricPayload({event_type:a,
post_id:d.split("Posts-")[1],rank:parseInt(b,10),origin_px:this.getOriginPx(d)})};c.prototype.updateImpressionState=function(a,d,b){var c=this.state.postVisibilityEventStates[a]||{};c[d]="undefined"===typeof b?!0:b;this.state.postVisibilityEventStates[a]=c};c.prototype.handleUserClick=function(a){var b=e(a.target),c=b.attr("data-post-id"),f=b.attr("data-post-rank"),g=b.attr("data-click-target");if(null===c||null===f||c===n||f===n)f=b.closest(".posts-feed-preview-card"),c=f.attr("id"),f=f.attr("data-post-rank");
if(null===g||g===n)g=b.closest("[data-click-target]"),g=null!==g&&g!==n?g.attr("data-click-target"):"UNKNOWN";var k=this.buildPostEvent("PostClick",c,f);k.click_target=g;"FollowButton"===g&&h.BrandFollowSharedUtils&&e.isFunction(h.BrandFollowSharedUtils.getLastClickAction)&&(k.click_action=h.BrandFollowSharedUtils.getLastClickAction(a.target));this.sushiClient.processEvent(k,{n:1});a=b.closest("[data-click-action]");null!==a&&a!==n&&"Egress"===a.attr("data-click-action")&&"FollowButton"!==g&&(a=a.attr("data-target-destination")||
"NONE",this.emitPageEgressMetric(c,f,a,g))};c.prototype.emitPageEgressMetric=function(a,b,c,e){a=this.buildPostEvent("PageEgress",a,b);a.destination_type=c;a.click_target=e;this.sushiClient.processEvent(a,{n:1})};c.prototype.handleUnload=function(){if(!this.state.unloadHandled){this.state.unloadHandled=!0;for(var a=this.getPosts(),b=0;b<a.length;b++){var c=e(a[b]),h=c.attr("id"),c=c.attr("data-post-rank");if(this.postEventEmittedSinceComingOnScreen("PostImpression",h)&&this.shouldEmitMetrics("PostView",
h)){var c=this.buildPostEvent("PostView",h,c),g=f.now()-this.state.postVisibilityEventStates[h].PostImpression;0<g&&36E5>g&&(c.dwell_time_ms=Math.round(g));this.sushiClient.processEvent(c,{n:1});this.updateImpressionState(h,"PostView")}}this.state.carouselOnScreen&&(a=this.decorateMetricPayload({event_type:"CarouselOffScreen"}),this.sushiClient.processEvent(a,{n:1}),this.state.carouselOnScreen=!1);this.state.carouselInstance=this.generateInstanceId();this.sushiClient.onBeforeUnload()}};return c});
"use strict";k.when("A","af","ready").register("related-posts-measure",function(f){function k(){var b=c(h),e=b.scrollTop(),a=b.scrollLeft(),d=h.innerHeight||b.height(),b=h.innerWidth||b.width();return{top:e,left:a,height:d,width:b,bottom:e+d,right:a+b}}function m(b){var c=b.offset(),a=c.top,c=c.left,d=b.height();b=b.width();return{top:a,left:c,height:d,width:b,bottom:a+d,right:c+b}}var c=f.$;return{getElementViewportAreas:function(b){b=c("#"+b);var e=k(),a=e.width*e.height,d=m(b),h=d.width*d.height,
e=Math.max(Math.min(d.right,e.right)-Math.max(d.left,e.left),0)*Math.max(Math.min(d.bottom,e.bottom)-Math.max(d.top,e.top),0);return b.length&&f.onScreen(b,0)?{totalArea:h,viewportArea:e,totalViewportArea:a}:{totalArea:1,viewportArea:0,totalViewportArea:a}},getElementViewportExtents:function(b){b=c("#"+b);var e=k(),a=m(b);return b.length&&f.onScreen(b,0)?{isTopInViewport:a.top>=e.top&&a.top<e.bottom,isBottomInViewport:a.bottom>=e.top&&a.bottom<e.bottom,isLeftInViewport:a.left>=e.left&&a.left<e.right,
isRightInViewport:a.right>=e.left&&a.right<e.right}:{isTopInViewport:!1,isBottomInViewport:!1,isLeftInViewport:!1,isRightInViewport:!1}},getViewportCoordinates:k,getElementLocation:m}});k.when("af","ready").register("posts-carousel-linkto",function(){return{execute:function(f){h.location.href=f}}})});
/* ******** */
(function(e){var d=window.AmazonUIPageJS||window.P,f=d._namespace||d.attributeErrors,c=f?f("SearchFollowButtonAssets",""):d;c.guardFatal?c.guardFatal(e)(c,window):c.execute(function(){e(c,window)})})(function(e,d,f){e.when("jQuery","rush-framework","af").register("rdx-follow-button",function(c,e){function k(a){d.ue&&d.ue.tag&&d.ue.count&&(d.ue.tag(a,"searchEntityFollow"),d.ue.count(a+"Count",1))}function l(a){a.removeClass("aok-hidden")}e.registerComponent("rdx-follow-button","rdx-follow-button",
function(a){function e(a){b.removeClass("rdx-follow-button-is-following");b.find("button .rdx-follow-button-text").text(g);b.find(".rdx-follow-button-button").attr("aria-label",t);b.find("button .rdx-follow-button-icon").removeClass("rdx-follow-button-following-icon").addClass("rdx-follow-button-follow-icon");b.unbind().click(function(){p(a)});l(b)}function m(a){b.addClass("rdx-follow-button-is-following");b.find("button .rdx-follow-button-text").text(n);b.find(".rdx-follow-button-button").attr("aria-label",
u);b.find("button .rdx-follow-button-icon").removeClass("rdx-follow-button-follow-icon").addClass("rdx-follow-button-following-icon");b.unbind().click(function(){v(a)});l(b)}function w(){b.removeClass("rdx-follow-button-is-following");b.find("button .rdx-follow-button-text").text(g);b.find("button .rdx-follow-button-icon").removeClass("rdx-follow-button-following-icon").addClass("rdx-follow-button-follow-icon");b.unbind().click(function(){"undefined"!==typeof sessionStorage&&(sessionStorage.followKey=
h);d.location.href=x});l(b)}function p(a){c.ajax({type:"POST",contentType:"application/json; charset\x3dutf-8",url:y,data:JSON.stringify({authenticity_token:a,entity_id:h,category:q,ref:z}),success:function(){m(a)},error:function(){e();r.removeClass("aok-hidden");k("EntityFollowError")}})}function v(a){c.ajax({type:"DELETE",url:A+"\x26"+c.param({authenticity_token:a}),data:{},success:function(){e(a)},error:function(){m(a);r.removeClass("aok-hidden");k("EntityUnfollowError")}})}function B(){c.ajax({type:"GET",
url:C,data:{},success:function(a){if(a.isFollowable)if(a.signedIn)if(a.isFollowing)m(a.csrf);else{var b;b=h;var c;c=/rdx-entity-follow=([^#&]+)/.exec(d.location.search);(c&&2===c.length?c[1]:f)!==b||"undefined"===typeof sessionStorage?b=!1:(c=sessionStorage.followKey,sessionStorage.removeItem("followKey"),b=c===b);b?p(a.csrf):e(a.csrf)}else w()},error:function(){k("EntityFollowStatusError")}})}var b=c(a.elem()).find(".rdx-follow-button"),r=c(a.elem()).find(".rdx-follow-button-alert"),h=a.prop("entityID"),
q=a.prop("entityType"),C=a.prop("followStatusUrl"),y=a.prop("followUrl"),A=a.prop("unfollowUrl"),x=a.prop("flexSignInUrl"),g=a.prop("followText"),n=a.prop("followingText"),t=a.prop("followARIALabel"),u=a.prop("followingARIALabel"),z=a.prop("followReftag");"undefined"!==typeof h&&"undefined"!==typeof q&&("undefined"===typeof g&&(g="Follow"),"undefined"===typeof n&&(n="Following"),B())})})});
/* ******** */
(function(d){var e=window.AmazonUIPageJS||window.P,f=e._namespace||e.attributeErrors,b=f?f("SearchEntityWidgetAssets",""):e;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,e,f){d.when("jQuery","a-truncate").register("rdx-entity-paragraph-common",function(b,c){return{rdxEntityLineHeightOverride:function(a){b(a.elem()).find(".rdx-entity-paragraph").each(function(a,c){a=b(c);c=a.attr("data-a-max-rows");a.css({"line-height":"1.5em","max-height":1.5*c+"em"})})},rdxEntityParagraphARIATruncate:function(a){a=
b(a.elem());a.find(".a-truncate-full").attr("aria-hidden","true");a.find(".a-truncate-cut").attr("aria-hidden","false")},rdxEntityUpdateParagraphTruncate:function(a){a=b(a.elem()).find(".a-truncate");c.get(a).update()}}});"use strict";d.when("rush-framework","rdx-entity-paragraph-common").register("rdx-entity-paragraph-truncate",function(b,c){b.registerComponent("rdx-entity-paragraph-truncate","rdx-entity-paragraph-truncate",function(a){c.rdxEntityLineHeightOverride(a);c.rdxEntityParagraphARIATruncate(a);
c.rdxEntityUpdateParagraphTruncate(a)})});"use strict";d.when("jQuery","rush-framework").register("enable-keyboard-navigation-outline",function(b){b=b("#entity-widget-carousel");if(0<b.length){b=b[0].getElementsByClassName("a-carousel-card");for(var c=0;c<b.length;c++){var a=b[c].getElementsByClassName("a-link-normal");a&&0<a.length&&(a[0].classList.remove("s-no-outline"),0<a[0].children.length&&0<a[0].children[0].children.length&&(a=a[0].children[0].children[0],a.width===a.height&&(a.style.width=
"95%")))}}})});
/* ******** */
(function(m){var k=window.AmazonUIPageJS||window.P,x=k._namespace||k.attributeErrors,f=x?x("SearchWebAskAndAssistWidgetAssets",""):k;f.guardFatal?f.guardFatal(m)(f,window):f.execute(function(){m(f,window)})})(function(m,k,x){m.when("A","rush-framework","s-ana-widget-tracking-utils","s-ana-url-utils","ready").register("s-ana-widget",function(f,r,b,d){function t(a,c){var n=h.extend({},a);c&&c.forEach(function(c){delete n[c]});return n}function e(a,c,n){n=h.extend({},n);var g;n.n="n:"+a.join(",n:");
for(g in c)c.hasOwnProperty(g)&&(n[g]=c[g].join("|"));return d.buildSearchQueryString(n)}function a(a,c,n){var g={};g.ref=c.refMaker;g.rh=n;g.k=a.k;g.dm="true";g.dc="true";return g}function q(q,c,n,g){var b=d.getQueryParameters(k.location.href),y=d.getSearchParametersMap(b);g=t(y,g);q=e(c,q,g);return location.origin+"/s"+n.percolateParameters+"\x26"+h.param(a(b,n,q))}function u(a,c,q){for(var g=0,d={},b,h,p,u=[],g=0;g<c.length;g++)for(p in h=q[g],b=c[g],b=a[b],b=b.answersList,h=b[h],h=h.refinements,
h)d.hasOwnProperty(p)?(u=d[p].concat(h[p]),d[p]=u.filter(function(c,a){return u.indexOf(c)===a})):d[p]=h[p];return d}function l(a,c,n,g,t){return function(e){e=h(e.currentTarget);var f=c.currentQuestionId,p;p=e.data("answer-index");var l=g[f].answersList[p].nextQuestionId;b.updateClientSideMetricCounter("CE_GN_AnA_SelectAnswer");c.questionPath.push(f);c.answerIndexList.push(p);p=b.incrementAndFetchQuestionIndex(c);b.updateSelectedAnswer(a,e);if(!l){e=c.questions;f=c.metadata;b.updateClientSideMetricCounter("CE_GN_AnA_SelectAnswerSuccess");
b.updateClientSideMetricCounter("CE_GN_AnA_PageRefresh");b.updateClientSideMetricCounter("CE_GN_AnA_SelectedAnswerCount",p);p=u(e,c.questionPath,c.answerIndexList);var l=c.questionPath,w=c.answerIndexList,k=f.scopedNodeList,r,m,v;for(r=0;r<l.length;r++)v=l[r],m=w[r],v=e[v],m=v.answersList[m].additionalScope,k=k.concat(m);e=q(p,k,f,t);c.questionPath.pop();c.answerIndexList.pop();b.decrementAndFetchQuestionIndex(c);d.navigateTo(e);return e}c.currentQuestionId=l;b.renderNextQuestion(a,p,n,g,f,l);b.updateClientSideMetricCounter("CE_GN_AnA_SelectAnswerSuccess")}}
function w(a,c,d,q){return function(){var h=c.currentQuestionId,e=c.questionPath.pop(),f=a.find(".s-ana-answer-button-list[data-question-id\x3d"+e+"]"),l=c.answerIndexList.pop(),f=f.children(".s-ana-answer[data-answer-index\x3d"+l+"]");b.updateClientSideMetricCounter("CE_GN_AnA_ClickBack");l=b.decrementAndFetchQuestionIndex(c);b.renderNextQuestion(a,l,d,q,h,e);c.currentQuestionId=e;b.updateSelectedAnswer(a,f);b.updateClientSideMetricCounter("CE_GN_AnA_ClickBackSuccess")}}var h=f.$;r.registerComponent("s-ana-widget",
"s-ana-widget",function(a){a=h(a.elem());var c=a.data("widget-data")||{},d=c.metadata,q=c.questions;b.updateClientSideMetricCounter("CE_GN_AnA_WidgetLoad");c.currentIndex=c.currentIndex?c.currentIndex:0;c.currentQuestionId=d.firstQuestionId;c.questionPath=c.questionPath?c.questionPath:[];c.answerIndexList=c.answerIndexList?c.answerIndexList:[];d&&0<a.find(".s-ana-answer").length&&(a.find(".s-ana-answer").click(l(a,c,d,q,d.refinementBinList)),a.find(".s-ana-back-button").click(w(a,c,d,q)));b.createDesktopLearnMoreClickHandlers(a,
q);b.updateClientSideMetricCounter("CE_GN_AnA_WidgetLoadSuccess")});return{cleanUpSearchParameterMap:t,buildSearchQueryString:e,buildQueryParameters:a,createAnswerClickHandler:l,createBackButtonHandler:w,buildUrl:q}});m.when("R","rush-router-pattern-parser","s-ana-widget-tracking-utils").register("s-ana-url-utils",function(f,k,b){return{getQueryParameters:function(d){d=(d||"").split("?");d=1<d.length?d.slice(1).join("?"):d[0];return k.parseQueryString(d)},getSearchParametersMap:function(d){var b=
{},e,a;if(d&&d.rh)for(d=d.rh.split(","),a=0;a<d.length;a++)e=d[a].split(":"),b[e[0]]=e[1];return b},buildSearchQueryString:function(d){var b,e=[];for(b in d)"n"===b?e.push(d[b]):e.push(b+":"+d[b]);return e.join(",")},navigateTo:function(d){var k={};k.url=d;b.updateClientSideMetricCounter("HCXEffortlessShoppingANAPageRefreshSuccess");f.to(k)}}});m.when("A","a-modal","ready").register("s-ana-widget-tracking-utils",function(f,m){function b(a,d,b){b=b?"aok-hidden":"s-ana-back-button-hidden";0===d?a.find(".s-ana-back-button").addClass(b):
a.find(".s-ana-back-button").removeClass(b)}function d(a,b,d,e){a.find(".s-ana-question").addClass("s-ana-hidden-element");a.find(".s-ana-question-index").text(b.indexList[d]);a.find(".s-ana-question-text").text(e.questionString);a.find(".s-ana-question").removeClass("s-ana-hidden-element")}function t(a,b,d){var l=a.find("#s-ana-learn-more-link-"+b);a=a.find("#s-ana-learn-more-link-"+d);l&&l.addClass("aok-hidden");a&&a.removeClass("aok-hidden");f.each(e(".s-ana-learn-more-content"),function(a){var h=
a.getAttribute("data-question-id");h===b?e(a).addClass("aok-hidden"):h===d&&e(a).removeClass("aok-hidden")})}var e=f.$;return{updateSelectedAnswer:function(a,b){a.find(".s-ana-answer").removeClass("s-ana-answer-button-selected");b.addClass("s-ana-answer-button-selected")},renderNextQuestion:function(a,e,k,l,m,h){var r=a.find(".s-ana-answer-button-list[data-question-id\x3d"+m+"]");l=l[h];var c=a.find(".s-ana-answer-button-list[data-question-id\x3d"+h+"]"),n=a.find(".s-ana-footer");r.addClass("s-ana-hidden-element");
d(a,k,e,l);b(a,e,k.balanced);t(a,m,h);c.removeClass("s-ana-hidden-element");f.fadeOut(n,"0","ease-in",function(){f.fadeIn(n,"500","ease-in",function(){})})},updateClientSideMetricCounter:function(a,b){b=b?b:1;k.ue&&k.ue.count&&k.ue.count(a,(k.ue.count(a)||0)+b)},incrementAndFetchQuestionIndex:function(a){var b=a.currentIndex;b++;return a.currentIndex=b},decrementAndFetchQuestionIndex:function(a){var b=a.currentIndex;b--;return a.currentIndex=b},createDesktopLearnMoreClickHandlers:function(a,b){f.each(b,
function(b,d){if(a.find(".s-ana-learn-more-modal-trigger-"+d)&&b.educationalContent){var f={header:b.educationalContent.contentHeaderString,dataStrategy:"preload",name:"learnMoreContent"};e(document).delegate(".s-ana-learn-more-modal-trigger-"+d,"click",function(a){a.preventDefault();m.get("learnMoreContent")?a=m.get("learnMoreContent").update(f):(a=e(".s-ana-learn-more-modal-trigger-"+d),a=m.create(a,f));a.show()})}})}}})});
/* ******** */
(function(f){var n=window.AmazonUIPageJS||window.P,l=n._namespace||n.attributeErrors,e=l?l("SearchWebKnowledgeWidgetAssets",""):n;e.guardFatal?e.guardFatal(f)(e,window):e.execute(function(){f(e,window)})})(function(f,n,l){f.when("A","s-web-application-controller","rush-util","tab-nav-util").register("tab-nav-ajax",function(e,d,f,p){return{ajaxTabClick:function(e){var a=e.selectedTab.$tab;e=a.attr("id");var v=a.attr("data-ajaxUrl"),b=a.attr("data-asinIdToMetadata"),h=a.closest("[data-widgetId]").attr("data-widgetId"),
a=a.closest("[data-uuid]").attr("data-uuid"),c="",k=!1,m={};f.isNullOrUndefined(h)||2!==h.split(":").length||(c=h.split(":")[0]);h={uuid:a,ajaxUrl:v};(k=p.checkCriticalDataMissing(h))?p.logMissingCriticalData(h,c):(m.suffix=":"+a+":"+e,"undefined"!==typeof b&&(m.asinIdToMetadata=b),p.logMetric("tab_navigation:"+c),d.requestPartialContent(v,m)["catch"](function(){p.logMetric("tab_navigation:"+c+":ajax_call_failure")}))}}});f.when("A","jQuery","rush-framework","s-actions","rush-util","tab-nav-util",
"tab-nav-ajax","a-carousel-framework").register("know-tab-nav",function(e,d,f,p,q,a,v,b){f.registerComponent("s-tab-navigation-component","s-tab-navigation-component",function(h){var c=h.elem(),k=d(c),c=k.closest("[data-uuid]").attr("data-uuid"),m=k.closest("[data-widgetId]").attr("data-widgetId"),g=a.getMatchingElement(k,".a-carousel-container"),f=k.closest(".a-tab-content"),n=a.getActiveTabHeight(k),t=a.getMatchingElement(k,"[id*\x3dtab-navigation-tab-spinner]"),l="",x=!1,u=f.attr("id"),w=f.closest(".a-tab-container").find(".know-tab-nav-tabs-set").find("li.know-tab-nav-tab-header#"+
a.escapeSpecialHashCharacter(u)),r=a.getMatchingElement(g,"[id*\x3dtab-navigation-asin-header]");q.isNullOrUndefined(m)||2!==m.split(":").length||(l=m.split(":")[0]);m={uuid:c,carousel:g,tabContent:f,initialActiveTabHeight:n};(x=a.checkCriticalComponentDataInvalid(m))?(a.logMissingCriticalData(m,l),a.logCounter("tab-navigation-missing-widget-data",!1)):(h.on(p.LOAD_SEARCH_PAGE+":"+c+":"+u,function(){t=a.getMatchingElement(k,"[id*\x3dtab-navigation-tab-spinner]");!f.is(".a-hidden")&&0<t.length&&(g.addClass("aok-hidden"),
t.height(n),t.html('\x3cdiv class\x3d"a-spinner-wrapper know-tab-nav-spinner"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium"\x3e\x3c/span\x3e\x3c/div\x3e'))}),h.on(p.RESULT_ITEM_READY+":"+c+":"+u,function(c){var e=f.attr("id"),d=document.createElement("div");q.isNullOrUndefined(c)||q.isBlank(e)?(a.logMetric("tab_navigation:"+l+":ajax_asin_invalid"),a.logCounter("tab-navigation-invalid-payload",!1)):(c=c.item.html,d.innerHTML=c,d=d.firstElementChild.getAttribute("data-asin"),q.isNotBlank(d)&&!f.is(".a-hidden")&&
(d="#tab-navigation-replace-"+a.escapeSpecialHashCharacter(e)+"-"+d,d=k.find(d)[0],q.isNullOrUndefined(d)||(c=a.getAsinContent(c),0<c.length&&(h.replace(d,c[0].innerHTML),q.isNullOrUndefined(t)||0!==f.find("[id*\x3dtab-navigation-replace]").length?a.logCounter("tab-navigation-asins-not-matching",!0):(t.remove(),g.removeClass("aok-hidden"),a.forceTextTruncation(k.find(".know-tab-nav-asin-header, .know-tab-nav-asin-header-intro")),0<r.length&&a.setElementHeight(a.getMatchingElement(g,"#tab-navigation-tab-link-top-space-"+
a.escapeSpecialHashCharacter(e)),r.outerHeight(!0)),a.setElementHeight(a.getMatchingElement(g,"#tab-navigation-tab-link-"+a.escapeSpecialHashCharacter(e)),0<r.length?g.height()-r.outerHeight(!0):g.height()),b.createAll(),b.initializeAll(),a.logCounter("tab-navigation-carousel-successfully-initialized",!0))))))}),0<r.length&&a.setElementHeight(a.getMatchingElement(g,"#tab-navigation-tab-link-top-space-"+a.escapeSpecialHashCharacter(u)),r.outerHeight(!0)),a.setElementHeight(a.getMatchingElement(g,"#tab-navigation-tab-link-"+
a.escapeSpecialHashCharacter(u)),0<r.length?g.height()-r.outerHeight(!0):g.height()),a.setLineClampClass(a.getMatchingElement(g,"#tab-navigation-tab-link-line-clamp-"+a.escapeSpecialHashCharacter(u))),e.on("a:tabs:"+c+":"+f.data("a-name")+":select",v.ajaxTabClick),w.removeClass("know-tab-nav-disable-tab"),w.addClass("know-tab-nav-enable-tab"))})});f.when("jQuery","rush-util","a-truncate").register("tab-nav-util",function(e,d,f){function p(b,a){var c=e(b),d;a.forEach(function(b){d=c.find(b);0<d.length&&
(c=d)});return c}function q(b){return(b.match(/(\s|^)s-line-clamp-\d+(?!\S)\b/g)||[]).map(e.trim)}function a(b){e(b).removeClass(function(b,a){return q(a).join(" ")}).addClass("s-line-clamp-2")}function l(b){var a=n.ue;a&&a.tag&&a.tag(b)}return{getAsinContent:function(b){b=p(b,[".template\\\x3dSEARCH_RESULTS",".s-latency-cf-section",".s-card-container"]);b.find(".a-spacing-medium").removeClass("a-spacing-medium");b.find('[class*\x3d"status-badge"]').remove();a(b.find("[class*\x3ds-line-clamp]"));
return b},findLineClampClass:q,getActiveTabHeight:function(b){b=e(b).closest(".a-tab-container").find(".a-tab-content").not(".a-hidden").height();return d.isNullOrUndefined(b)?400:b},escapeSpecialHashCharacter:function(b){return d.isBlank(b)?b:b.replace(/#/g,"\\#")},logMetric:l,logCounter:function(b,a){var c=n.ue;c&&c.count&&(c.count(b,1),c.count("tab-navigation-error-rate",a?0:1))},checkCriticalDataMissing:function(b){for(var a in b)if(d.isNullOrUndefined(b[a])||d.isBlank(b[a]))return!0;return!1},
checkCriticalComponentDataInvalid:function(b){return d.isNullOrUndefined(b.uuid)||d.isBlank(b.uuid)||0>=e(b.carousel).length||0>=e(b.tabContent).length||!d.isNumber(b.initialActiveTabHeight)?!0:!1},logMissingCriticalData:function(b,a){for(var c in b)(d.isNullOrUndefined(b[c])||d.isBlank(b[c]))&&l("tab-navigation:"+a+":"+c)},getMatchingElement:function(a,d){return e(a).find(d)},setElementHeight:function(a,d){e(a).height(d)},setLineClampClass:a,setCSSPropertyForObject:function(a,e,c){d.isNullOrUndefined(c)||
a.css(e,c)},forceTextTruncation:function(a){return a.filter(".a-truncate").add(a.find(".a-truncate")).filter(":visible").filter(function(a,b){f.get(b).update();return!0})}}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SearchWebSpecBasedShoppingWidgetAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SearchWebTileWidgetAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var d=window.AmazonUIPageJS||window.P,v=d._namespace||d.attributeErrors,a=v?v("HuddlesChatboxJS",""):d;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,d,v){c.when("A","huddles-core","ready").register("huddles-chatbox-interaction-2.0",function(a,b){function e(){if(p.width()&&p.offset()){var a=p.width();return a+p.offset().left-c.width()>.9*a?h.css("right",f):h.css("right",f+a)}a=parseInt(x.css("padding-right"),10);return h.css("right",f+a)}function k(){if(0!==
r.length&&null!==r.position()){var a=c.height(),b=Math.max(0,r.position().top+r.height()-c.scrollTop());300>a-b?n.height(0):n.height(Math.min(500,a-b)-u.outerHeight())}}function m(){k();e()}var c=a.$(d),x=a.$("body"),r=a.$("#navbar, #navWrapper, .header-contents-container").first(),p=a.$("#nav-flyout-ewc"),h=a.$(".huddles-chatbox"),n=a.$(".huddles-chatbox__content"),u=a.$(".huddles-chatbox__toolbar"),t=a.$(".huddles-chatbox__toolbar-minimize"),f=parseInt(h.css("right"),10);setInterval(e,3E3);c.resize(a.debounce(m,
100));c.scroll(a.debounce(k,100));return{minimizeChatbox:function(b){h.show();b?(n.hide(),t.addClass("huddles-chatbox__vertical-flip")):a.slideUp(n,200,"ease-out",function(){t.addClass("huddles-chatbox__vertical-flip")})},maximizeChatbox:function(){},restoreChatbox:function(b){n.show();m();b?(h.show(),t.removeClass("huddles-chatbox__vertical-flip")):a.slideDown(h,200,"ease-out",function(){t.removeClass("huddles-chatbox__vertical-flip")})},closeChatbox:function(){a.slideUp(h,200,"ease-out")}}});"use strict";
c.when("A","ready").register("huddles-chatbox-storage-2.0",function(a){function b(){try{return k&&"sessionStorage"in d&&null!==d.sessionStorage&&sessionStorage}catch(m){return!1}}var e="huddle-chatbox"+d.location.pathname,k=!1;return{enableSessionStorage:function(){k=!0},getChatboxState:function(){if(b())return JSON.parse(sessionStorage.getItem(e))||{};k&&c.log("sessionStorage not available","WARN");return{}},setChatboxState:function(a){b()&&sessionStorage.setItem(e,JSON.stringify(a))},DISPLAY_CODE:{MINIMIZED:"MINIMIZED",
MAXIMIZED:"MAXIMIZED",NORMAL:"NORMAL"}}});"use strict";c.when("A","ready").register("huddles-chatbox-metrics-2.0",function(a){return{logCounter:function(a,c){d.ue&&d.ue.count&&(a="HuddlesChatbox."+a,d.ue.count(a,(d.ue.count(a)||0)+(c||1)))}}});"use strict";c.register("huddles-chatbox-feature-config-2.0",function(){return{chatbox:!0}});"use strict";c.when("A","huddles-chatbox-feature-config-2.0","ready").register("huddles-init-2.0",function(a,b){function e(a){var b=d.ue.sn||d.ue_sn;return b&&b.substring(b.length-
a.length,b.length)===a}return{initialize:function(){if(!d.ue||"PackageProgressTracker"!==d.ue_pty||e("amazon.com"))d.HuddlesChatboxConfig?c.log("Chatbox config already registered","WARN"):b.chatbox&&(d.HuddlesChatboxConfig={},a.get("/conversations/chatbox-config",{params:{originalUrl:encodeURIComponent(d.location.href),pty:d.ue_pty},timeout:4E4,success:function(b){if(b.chatboxSupported){if(a.objectIsEmpty(b.endpointConfig)||a.objectIsEmpty(b.startupArgs)){c.log("Invalid Huddles chatbox config","ERROR");
d.HuddlesChatboxConfig=null;return}var e={chatboxSupported:!0,chatboxEndpointConfig:b.endpointConfig,chatboxStartupArgs:a.$.extend({},b.startupArgs,{renderContext:{isRemote:!0}}),enableSessionStorage:b.enableSessionStorage}}else e={chatboxSupported:!1},c.log("Chatbox functionality suppressed","WARN");c.declare("huddles-chatbox-config-2.0",e);d.HuddlesChatboxConfig=e;b.chatboxContainer&&a.$(b.chatboxContainer).appendTo("body")},error:function(a,b,e){d.HuddlesChatboxConfig=null;c.log("Failed to get Huddles chatbox config. "+
b+": "+e,"ERROR")}}))}}});c.when("A","huddles-core","huddles-chatbox-interaction-2.0","huddles-chatbox-storage-2.0","huddles-chatbox-metrics-2.0","huddles-chatbox-config-2.0","ready").register("huddles-chatbox-2.0",function(a,b,e,d,m,w){function k(a){f[l||"INBOX"]=a;d.setChatboxState(f)}function r(g){var d=g.displayCode||q.NORMAL,c=a.$.extend({},n,g);g.showEmbedded&&g.container?(g.container instanceof a.$&&(g.container=g.container.get(0)),b.startHuddleApp(g.container,u,c),m.logCounter("Rendered.Embedded")):
(d===q.MINIMIZED?e.minimizeChatbox(!0):(g=document.querySelector(".huddles-chatbox__content"),b.startHuddleApp(g,u,c),d===q.MAXIMIZED?(e.restoreChatbox(!0),e.maximizeChatbox()):e.restoreChatbox()),f={},k(d),m.logCounter("Rendered."+d))}function p(a){l=null;r(a||{})}function h(a){if(!a||!a.huddleId)return c.log("Required render parameter huddleId missing for renderHuddleChat","FATAL"),!1;l=a.huddleId;r(a)}var n=w.chatboxStartupArgs,u=w.chatboxEndpointConfig,t=[];w.enableSessionStorage&&d.enableSessionStorage();
(function(){b.subscribeToHuddlesStore&&b.subscribeToHuddlesStore(function(a,b){function d(a,b){if(a&&a.messages&&a.messages.get(b)&&a.messages.get(b).displayMessages)return a.messages.get(b).displayMessages}function g(a,b){return b.filter(function(b){return a.filters.messageFilter?a.filters.messageFilter(b):a.filters.slotFilter(b.slot)})}var c;b&&b.huddle&&b.huddle.get(l)&&b.huddle.get(l).jid&&(c=b.huddle.get(l).jid);b=d(b,c);var e=d(a,c),f=[];b&&0<b.size&&e===v?f=b:b&&e&&b.size>e.size&&(f=b.filter(function(a){return!e.has(a.ID)}));
(f=f.filter(function(a){return a&&a.campfireMessage&&!a.campfireMessage.wasSentByUs}))&&0<f.size&&t.forEach(function(a){var b=Object.keys(a.filters||{}).length?g(a,f):f;0<b.size&&a.handler(b.size)})})})();var f=d.getChatboxState(),q=d.DISPLAY_CODE,l;a.objectIsEmpty(f)||a.each(f,function(a,b){"INBOX"===b?p({showEmbedded:!1,displayCode:a}):h({huddleId:b,showEmbedded:!1,displayCode:a})});return{renderInbox:p,renderHuddleChat:h,restoreChatbox:function(){if(!l||!f[l]||f[l]===q.MINIMIZED){var d={};l&&(d.huddleId=
l);d=a.$.extend({},n,d);var c=document.querySelector(".huddles-chatbox__content");b.startHuddleApp(c,u,d)}e.restoreChatbox();k(q.NORMAL);m.logCounter("Restored")},closeChatbox:function(c){c?(c instanceof a.$&&(c=c.get(0)),b.closeHuddleApp(c),m.logCounter("Closed.Embedded")):(e.closeChatbox(),c=document.querySelector(".huddles-chatbox__content"),b.closeHuddleApp(c),f={},d.setChatboxState(f),m.logCounter("Closed"))},minimizeChatbox:function(){e.minimizeChatbox();var a=document.querySelector(".huddles-chatbox__content");
b.closeHuddleApp(a);k(q.MINIMIZED);m.logCounter("Minimized")},maximizeChatbox:function(){e.maximizeChatbox();k(q.MINIMIZED);m.logCounter("Maximized")},subscribeToMessageReceived:function(a){t.push(a)},setPersonaName:b.setPersonaName,deprecated_watchPartyEvent:b.deprecated_watchPartyEvent}});"use strict";c.when("A","huddles-chatbox-2.0","ready").execute(function(a,b){a.declarative("minimizeChatbox","click",function(c){a.$(".huddles-chatbox__content").is(":visible")?b.minimizeChatbox():b.restoreChatbox()});
a.declarative("closeChatbox","click",function(a){b.closeChatbox()})})});
/* ******** */
(function(e){var f=window.AmazonUIPageJS||window.P,q=f._namespace||f.attributeErrors,b=q?q("FloatingActionButtonWidgetAssetsCommon",""):f;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,f,q){e.register("s-fab-unread-badging-flag",function(){return{enabled:1}});e.register("s-fab-hover-hint-flag",function(){return{enabled:1}});e.when("A","ready").register("s-fab-controller",function(){var b=null,a=null;return{registerComponent:function(g){b=g;a&&a()},setOnComponentRegistered:function(g){a=
g;b&&a()},registerOnOpenHandler:function(a){b.registerOnOpenHandler(a)},registerOnCloseHandler:function(a){b.registerOnCloseHandler(a)},registerOnControlCloseHandler:function(a){b.registerOnControlCloseHandler(a)},registerHoverHandler:function(){b.registerHoverHandler()},isOpen:function(){return b.isOpen()},isVisible:function(){return b.isVisible()},setUnreadMessageCount:function(a){return b.setUnreadMessageCount(a)},expandContentPane:function(){b.expandContentPane()},minimizeContentPane:function(){b.minimizeContentPane()},
showComponent:function(){b.showComponent()},hoverHintEnabled:function(){return b.hoverHintEnabled()},showHoverHint:function(){b.showHoverHint()},getElements:function(){return b.elements}}});e.when("A","s-fab-constants","s-fab-utilities","s-fab-controller","ready").register("s-fab-component-registration",function(b,a,g,c){var e=b.$;return{setup:function(b,f,v){function h(){d.$floatingActionButtonContent.width(Math.ceil(d.$floatingActionButton[0].getBoundingClientRect().width))}function w(b){b===a.CONTENT_VISIBLE?
d.$floatingActionButtonHoverHintContainer.removeClass(a.AUI_HIDDEN_CLASS):d.$floatingActionButtonHoverHintContainer.addClass(a.AUI_HIDDEN_CLASS)}function t(){return v.hoverHintEnabled&&d.$floatingActionButtonHoverHintContainer.length}function r(){d.$floatingActionButtonHoverHintClose.unbind("click");d.$floatingActionButtonHoverHintClose.click(function(){k.hoverHintHasBeenClosed=!0;w(a.CONTENT_HIDDEN)})}function u(b){b===a.CONTENT_VISIBLE?d.$floatingActionButtonContentWrapper.removeClass(a.AUI_HIDDEN_CLASS):
d.$floatingActionButtonContentWrapper.addClass(a.AUI_HIDDEN_CLASS)}function m(b){d.$floatingActionButtonInteractionIcon=l.find(a.FAB_INTERACTION_ICON);d.$floatingActionButtonInteractionIcon.removeClass(a.OPEN_IMAGE_CLASS);d.$floatingActionButtonInteractionIcon.removeClass(a.CLOSE_IMAGE_CLASS);d.$floatingActionButtonInteractionIcon.addClass(b);try{var c=g.extractContentURL(d.$floatingActionButtonInteractionIcon.css("content"));d.$floatingActionButtonInteractionIcon.attr("src",c)}catch(C){g.metrics.addOne(a.METRICS.COUNTERS.IMAGE_SRC_SET_FAILURE)}}
function n(b){d.$floatingActionButtonInputArea=l.find(a.FAB_INPUT_AREA_CONTAINER);b?d.$floatingActionButtonInputArea.addClass("aok-hidden"):d.$floatingActionButtonInputArea.removeClass("aok-hidden")}function A(){a.CONTAINER_OPEN===a.CONTAINER_OPEN&&h();u(a.CONTENT_VISIBLE);w(a.CONTENT_HIDDEN);m(a.CLOSE_IMAGE_CLASS);n(!0)}function x(){a.CONTAINER_CLOSED===a.CONTAINER_OPEN&&h();u(a.CONTENT_HIDDEN);m(a.OPEN_IMAGE_CLASS);n(!1)}function p(){return!d.$floatingActionButtonContentWrapper.hasClass(a.AUI_HIDDEN_CLASS)}
function B(){d.$floatingActionButtonHoverHintContainer.width(d.$floatingActionButton[0].getBoundingClientRect().width);w(a.CONTENT_VISIBLE)}function y(){k.hasBeenClicked||g.metrics.addOne(a.METRICS.COUNTERS.INITIAL_FAB_CLICK);k.hasBeenClicked=!0;if(k.onOpenHandler)k.onOpenHandler();A()}var l=e(b.elem()).parent(),d={$floatingActionButton:l.find(a.FAB_BUTTON_SELECTOR),$floatingActionButtonMain:l.find(a.FAB_BUTTON_MAIN_SELECTOR),$floatingActionButtonSecondaryMainContent:l.find(a.FAB_BUTTON_SECONDARY_MAIN_CONTENT_SELECTOR),
$floatingActionButtonContainer:l.find(f),$floatingActionButtonControl:l.find(a.FAB_BUTTON_CONTROL_SELECTOR),$floatingActionButtonContent:l.find(a.FAB_CONTENT_SELECTOR),$floatingActionButtonContentWrapper:l.find(a.FAB_CONTENT_WRAPPER_SELECTOR),$floatingActionButtonInteractionIcon:l.find(a.FAB_INTERACTION_ICON),$floatingActionButtonUnreadMessagesBadge:l.find(a.FAB_UNREAD_MESSAGES_BADGE),$floatingActionButtonUnreadMessagesCount:l.find(a.FAB_UNREAD_MESSAGES_VALUE),$floatingActionButtonHoverHintContainer:l.find(a.FAB_HOVER_HINT_CONTAINER),
$floatingActionButtonHoverHintClose:l.find(a.FAB_HOVER_HINT_CLOSE_BUTTON),$floatingActionButtonWrapper:l.find(a.FAB_WRAPPER_SELECTOR),$rightCol:e(a.RIGHT_COL_SELECTOR),$floatingActionButtonInputArea:l.find(a.FAB_INPUT_AREA_CONTAINER)},k={maxUnreadMessagesCount:99,onOpenHandler:null,onCloseHandler:null,onControlCloseHandler:null,hasBeenClicked:!1,hoverHintHasBeenClosed:!1};g.metrics.addOne(a.METRICS.COUNTERS.FAB_COMPONENT_REGISTRATION);d.$floatingActionButtonControl.unbind("click");d.$floatingActionButtonControl.click(function(){if(!p())y();
else if(k.onControlCloseHandler)k.onControlCloseHandler()});d.$floatingActionButtonMain.unbind("click");d.$floatingActionButtonMain.click(function(){if(p()){if(x(),k.onCloseHandler)k.onCloseHandler()}else y()});d.$floatingActionButtonSecondaryMainContent.unbind("click");d.$floatingActionButtonSecondaryMainContent.click(function(){if(p()){if(x(),k.onCloseHandler)k.onCloseHandler()}else y()});t()&&r();d.$rightCol.length&&d.$floatingActionButtonWrapper.css("margin-right",Math.ceil(d.$rightCol[0].getBoundingClientRect().width));
c.registerComponent({registerOnOpenHandler:function(a){k.onOpenHandler=a;if(p())k.onOpenHandler()},registerOnCloseHandler:function(a){k.onCloseHandler=a;if(!p())k.onCloseHandler()},registerOnControlCloseHandler:function(a){k.onControlCloseHandler=a},registerHoverHandler:function(){d.$floatingActionButtonContainer.mouseenter(function(){p()||k.hoverHintHasBeenClosed||k.hasBeenClicked||B()}).mouseleave(function(){w(a.CONTENT_HIDDEN)})},isOpen:p,isVisible:function(){return!d.$floatingActionButtonContainer.hasClass(a.AUI_HIDDEN_CLASS)},
setUnreadMessageCount:function(a){a&&0<a?(d.$floatingActionButtonUnreadMessagesCount.text(Math.min(k.maxUnreadMessagesCount,a)),d.$floatingActionButtonUnreadMessagesBadge.css("opacity","1")):d.$floatingActionButtonUnreadMessagesBadge.css("opacity","0")},expandContentPane:A,minimizeContentPane:x,showComponent:function(){d.$floatingActionButtonContainer.removeClass(a.AUI_HIDDEN_CLASS);h()},hoverHintEnabled:t,showHoverHint:B,elements:{$button:d.$floatingActionButton,$container:d.$floatingActionButtonContainer,
$contentContainer:d.$floatingActionButtonContent}})}}});e.when("ready").register("s-fab-constants",function(){return{COMPONENT_NAME:"s-floating-action-button",CLOSE_IMAGE_CLASS:"s-floating-action-button-close-image",OPEN_IMAGE_CLASS:"s-floating-action-button-open-image",FAB_CONTAINER_SELECTOR:"#s-fab-container",FAB_BUTTON_SELECTOR:".s-fab-button",FAB_BUTTON_MAIN_SELECTOR:".s-fab-button-content-main-container",FAB_BUTTON_SECONDARY_MAIN_CONTENT_SELECTOR:".s-fab-button-secondary-content-main-container",
FAB_BUTTON_CONTROL_SELECTOR:".s-fab-button-content-control-container",FAB_CONTENT_SELECTOR:".s-floating-action-button-content",FAB_CONTENT_WRAPPER_SELECTOR:".s-floating-action-button-content-wrapper",FAB_EMPTY_SELECTOR:"#s-fab-empty",FAB_INTERACTION_ICON:".s-fab-button-image-right",FAB_USE_CASE_SELECTOR:"#fab_useCase",FAB_WRAPPER_SELECTOR:".s-fab-sticky-wrapper",CONTAINER_OPEN:"CONTAINER_OPEN",CONTAINER_CLOSED:"CONTAINER_CLOSED",FAB_UNREAD_MESSAGES_BADGE:".s-fab-button-badge-right-container",FAB_UNREAD_MESSAGES_VALUE:".s-fab-button-badge-right-value",
FAB_INPUT_AREA_CONTAINER:".s-fab-button-input-area-container",FAB_HOVER_HINT_CONTAINER:".s-fab-hover-hint",FAB_HOVER_HINT_CLOSE_BUTTON:".s-fab-hover-hint-close-image",TEST_DIV_OUTSIDE_FAB:".test-div-outside-fab",RIGHT_COL_SELECTOR:"#rightCol",CONTENT_VISIBLE:"CONTENT_VISIBLE",CONTENT_HIDDEN:"CONTENT_HIDDEN",AUI_HIDDEN_CLASS:"aok-hidden",METRICS:{COUNTERS:{INITIAL_FAB_CLICK:"s-fab-ifc",IMAGE_SRC_SET_FAILURE:"s-fab-issf",FAB_COMPONENT_REGISTRATION:"s-fab-fcr",FAB_RENDER_FAILURE:"s-fab-frf"}}}});e.when("ready").register("fab-page-type",
function(){return f.ue_pty});e.when("ready").register("s-fab-utilities",function(){return{buildQueryString:function(b){var a,g=[];for(a in b)g.push(encodeURIComponent(a)+"\x3d"+encodeURIComponent(b[a]));return"?"+g.join("\x26")},buildSignInURL:function(){var b={"openid.assoc_handle":{"amazon.com":"usflex","amazon.co.uk":"gbflex","amazon.de":"deflex","amazon.fr":"frflex","amazon.es":"esflex","amazon.in":"inflex","amazon.it":"itflex","amazon.co.jp":"jpflex","amazon.ca":"caflex"}[f.location.hostname.replace(/.+?(?=amazon)/,
"")],"openid.claimed_id":"http://specs.openid.net/auth/2.0/identifier_select","openid.identity":"http://specs.openid.net/auth/2.0/identifier_select","openid.mode":"checkid_setup","openid.ns":"http://specs.openid.net/auth/2.0","openid.pape.max_auth_age":0,"openid.return_to":f.location.href};return"/ap/signin"+this.buildQueryString(b)},extractContentURL:function(b){var a=/url\("(.*)"\)/mg.exec(b);try{return a[1]}catch(g){throw Error("Failed to parse url from content ("+b+").");}},metrics:{timer:function(b,
a){f.ue&&f.ue.count&&f.ue.count(b,new Date-a)},addOne:function(b){f.ue&&f.ue.count&&f.ue.count(b,1)}}}});e.when("ready").register("s-live-chat-constants",function(){return{COMPONENT_NAME:"s-fab-component-livechatsupport",FAB_CONTAINER_SELECTOR:"#s-fab-container-livechatsupport",UNAUTHORIZED_ERROR:401,NOT_FOUND_ERROR:404,HUDDLE_ID_GET_OR_CREATE_FETCH_ENDPOINT:"/prepurchase/chat",HUDDLE_ID_GET_EXISTING_FETCH_ENDPOINT:"/prepurchase/chat/existing",RESOLVE_CHAT_ENDPOINT:"/prepurchase/chat/resolve",NEW_HUDDLE:"NEW_HUDDLE",
EXISTING_HUDDLE:"EXISTING_HUDDLE",HUDDLES_THEME:{chat_view__background:"#f5ffff",chat_view__gradient:"#e2e9e9",chat_header__background:"#1196AB",message__background__outgoing:"#007185",my_component__border:"#555555",announcement__background:"unset",announcement__align_items:"flex-start"},QUERY_PARAMETERS:{ASIN:"asin",PRIME:"isPrime",POSTAL_CODE:"postalCode",SEARCH_QUERY:"searchQuery",TITLE:"title",REFERRING_PAGE:"referringPage",CETECH_LIVE_CHAT_PREQUALIFIERS_443376:"CETECH_LIVE_CHAT_PREQUALIFIERS_443376"},
SELECTORS:{ASIN:"#fab_asin",IS_PRIME:"#fab_isPrimeCustomer",POSTAL_CODE:"#fab_customerZipCode",SEARCH_QUERY:"#fab_searchQuery",TITLE:"#fab_title"},METRICS:{TIMERS:{FETCH_HUDDLE_FETCH_TIME:"s-fab-lcs-ft"},COUNTERS:{FAB_RENDER_FAILURE:"s-fab-lcs-frf",FETCH_HUDDLE_ID_NOT_OK:"s-fab-lcs-fin",FETCH_HUDDLE_ID_NOT_FOUND:"s-fab-lcs-finf",FETCH_HUDDLE_ID_OK:"s-fab-lcs-fio",FETCH_HUDDLE_ID_NOT_AUTHORIZED:"s-fab-lcs-fina",FETCH_HUDDLE_ID_THROTTLED:"s-fab-lcs-fit",FETCH_HUDDLE_ID_THROTTLED_WHILE_VISIBLE:"s-fab-lcs-fitv",
RESOLVE_OK:"s-fab-lcs-frok",RESOLVE_NOT_OK:"s-fab-lcs-frnok"}}}});e.declare("s-fab-live-chat-flags",{hoverHintEnabled:!0,statusBadgeEnabled:!0});e.when("huddles-init-2.0","s-fab-component-livechatsupport","load").execute(function(b){b.initialize();e.when("A","s-fab-controller","s-live-chat-constants","s-fab-live-chat-flags","s-fab-utilities","huddles-chatbox-2.0","s-live-chat-weblabs","load","ready").register("s-prepurchase-chat",function(a,b,c,e,h,r,q){var g=0;b.setOnComponentRegistered(function(){function v(){g=
0;b.setUnreadMessageCount(g)}function t(e){var g=e.onError,f=e.onSuccess,n=e.onComplete;e=e.type===c.NEW_HUDDLE?c.HUDDLE_ID_GET_OR_CREATE_FETCH_ENDPOINT:c.HUDDLE_ID_GET_EXISTING_FETCH_ENDPOINT;z=new Date;a.ajax(e+u,{method:"get",success:function(a){var e=a.huddle_id;h.metrics.timer(c.METRICS.TIMERS.FETCH_HUDDLE_FETCH_TIME,z);e?(h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_OK),r.renderHuddleChat({huddleId:e,showEmbedded:!0,container:b.getElements().$contentContainer,theme:c.HUDDLES_THEME}),
f&&f(a),n&&n()):b.isVisible()?(h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_THROTTLED_WHILE_VISIBLE),g&&g()):h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_THROTTLED)},error:function(a){a.http.status===c.UNAUTHORIZED_ERROR?h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_AUTHORIZED):a.http.status===c.NOT_FOUND_ERROR?h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_FOUND):h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_OK);g&&g(a.http.status);n&&n()}})}var z,u="",
m={};r.subscribeToMessageReceived&&r.subscribeToMessageReceived({handler:function(a){!b.isOpen()&&e.statusBadgeEnabled&&(g+=a,b.setUnreadMessageCount(g))},filters:{slotFilter:function(a){return"MESSAGE"===a}}});m[c.QUERY_PARAMETERS.ASIN]=a.$(c.SELECTORS.ASIN).val()||"";m[c.QUERY_PARAMETERS.PRIME]=a.$(c.SELECTORS.IS_PRIME).val()||"";m[c.QUERY_PARAMETERS.POSTAL_CODE]=a.$(c.SELECTORS.POSTAL_CODE).val()||"";m[c.QUERY_PARAMETERS.SEARCH_QUERY]=a.$(c.SELECTORS.SEARCH_QUERY).val()||"";m[c.QUERY_PARAMETERS.TITLE]=
a.$(c.SELECTORS.TITLE).val()||"";m[c.QUERY_PARAMETERS.REFERRING_PAGE]=btoa(document.referrer);m[c.QUERY_PARAMETERS.CETECH_LIVE_CHAT_PREQUALIFIERS_443376]=q.CETECH_LIVE_CHAT_PREQUALIFIERS_443376_TREATMENT;try{r.closeChatbox()}catch(n){}u=h.buildQueryString(m);t({type:c.EXISTING_HUDDLE,onSuccess:function(a){a.engaged&&b.expandContentPane();b.registerOnOpenHandler(v)},onError:function(){b.registerOnOpenHandler(function(){t({type:c.NEW_HUDDLE,onSuccess:function(){b.registerOnOpenHandler(v);f.ue&&ue.trigger&&
ue.trigger(c.QUERY_PARAMETERS.CETECH_LIVE_CHAT_PREQUALIFIERS_443376,q.CETECH_LIVE_CHAT_PREQUALIFIERS_443376_TREATMENT)},onError:function(a){a&&a===c.UNAUTHORIZED_ERROR&&(a=h.buildSignInURL(),f.location.href=a)}})})},onComplete:function(){b.showComponent();b.hoverHintEnabled()&&!b.isOpen()&&b.showHoverHint()}});b.registerOnControlCloseHandler(function(){a.ajax(c.RESOLVE_CHAT_ENDPOINT,{method:"get",success:function(){h.metrics.addOne(c.METRICS.COUNTERS.RESOLVE_OK)},error:function(a){a.http.status===
c.NOT_FOUND_ERROR?b.minimizeContentPane():h.metrics.addOne(c.METRICS.COUNTERS.RESOLVE_NOT_OK)}})})})})});e.when("A","s-fab-component-registration","s-fab-live-chat-flags","fab-page-type","ready").register("s-fab-register-component-for-selector",function(b,a,g,c){return function(f){var h=function(){a.setup({elem:function(){return f}},f,g)};"Detail"===c&&(h(),e.register("s-fab-component-livechatsupport"),b.on("a:pageUpdate",b.debounce(function(){h()},750)))}});e.when("A","s-fab-register-component-for-selector",
"s-fab-constants","s-fab-utilities").register("s-fab-validate-and-register-component",function(b,a,g,c){return function(f,h){b.$(f).length&&(b.$(g.FAB_EMPTY_SELECTOR).length?(c.metrics.addOne(h.COUNTERS.FAB_RENDER_FAILURE),e.register("s-fab-component-render-failure")):a(f))}});e.when("s-fab-validate-and-register-component","s-live-chat-constants").execute(function(b,a){b(a.FAB_CONTAINER_SELECTOR,a.METRICS)});e.when("s-fab-validate-and-register-component","s-fab-constants").execute(function(b,a){b(a.FAB_CONTAINER_SELECTOR,
a.METRICS)});e.when("ready").register("s-live-chat-weblabs",function(){return{CETECH_LIVE_CHAT_PREQUALIFIERS_443376_TREATMENT:"C"}})});
/* ******** */
(function(c){var m=window.AmazonUIPageJS||window.P,n=m._namespace||m.attributeErrors,d=n?n("FloatingActionButtonWidgetAssets",""):m;d.guardFatal?d.guardFatal(c)(d,window):d.execute(function(){c(d,window)})})(function(c,m,n){c.when("ready").register("s-fab-dynamic-comparison-constants",function(){return{COMPONENT_NAME:"s-fab-component-dynamiccomparison",FAB_CONTAINER_SELECTOR:"#s-fab-container-dynamiccomparison",SELECTORS:{ITEM_COUNT:"#fab_itemCount"},METRICS:{COUNTERS:{FAB_RENDER_FAILURE:"s-fab-dc-frf"}}}});
c.declare("s-fab-dynamic-comparison-flags",{hoverHintEnabled:!1,statusBadgeEnabled:!0});c.when("A","s-fab-controller","s-fab-dynamic-comparison-constants","s-fab-component-dynamiccomparison","load","ready").register("s-fab-dynamic-comparison",function(c,a,b){var e=0;a.setOnComponentRegistered(function(){a.registerOnOpenHandler(function(){a.getElements().$button.removeClass("s-fab-dc-button-closed");a.getElements().$button.addClass("s-fab-dc-button-open")});a.registerOnCloseHandler(function(){a.getElements().$button.removeClass("s-fab-dc-button-open");
a.getElements().$button.addClass("s-fab-dc-button-closed")});e=c.$(b.SELECTORS.ITEM_COUNT).val()||0;a.setUnreadMessageCount(e);a.showComponent()})});c.when("A","rush-framework","s-fab-dynamic-comparison-constants","s-fab-constants","s-fab-utilities","s-fab-component-registration","s-fab-dynamic-comparison-flags","ready").execute(function(d,a,b,e,l,f,k){d.$(b.FAB_CONTAINER_SELECTOR).length&&(d.$(e.FAB_EMPTY_SELECTOR).length?(l.metrics.addOne(b.METRICS.COUNTERS.FAB_RENDER_FAILURE),c.register("s-fab-component-render-failure")):
(a.registerComponent(b.COMPONENT_NAME,b.COMPONENT_NAME,function(a){f.setup(a,b.FAB_CONTAINER_SELECTOR,k)}),c.register("s-fab-component-dynamiccomparison")))});c.when("A","rush-framework","s-live-chat-constants","s-fab-constants","s-fab-utilities","s-fab-component-registration","s-fab-live-chat-flags","ready").execute(function(d,a,b,e,l,f,k){d.$(b.FAB_CONTAINER_SELECTOR).length&&!d.$(e.FAB_EMPTY_SELECTOR).length&&(a.registerComponent(b.COMPONENT_NAME,b.COMPONENT_NAME,function(a){f.setup(a,b.FAB_CONTAINER_SELECTOR,
k)}),c.register("s-fab-component-livechatsupport"))});c.when("ready").register("s-jeeves-chat-constants",function(){return{COMPONENT_NAME:"s-fab-component-jeeveschatsupport",FAB_CONTAINER_SELECTOR:"#s-fab-container-jeeveschatsupport",JEEVES_FAB_TOGGLE_ICON_CLASS:"jeeves-fab-toggle-button-image",JEEVES_FAB_HOVER_HINT_CLOSE_IMAGE_CLASS:"jeeves-fab-hover-hint-close-image",JEEVES_FAB_CHAT_BUTTON_IMAGE_CLASS:"jeeves-fab-chat-button-image",UNAUTHORIZED_ERROR:401,NOT_FOUND_ERROR:404,STATUS_OK:200,CREATE_HUDDLE_FROM_INGRESS_FETCH_ENDPOINT:"/huddles-api/v1/huddles/JEEVES/new",
HUDDLES_THEME:{message__background__outgoing:"#dcdcdc",message__foreground__incoming:"#232f3e",message__foreground__outgoing:"#232f3e"},SELECTORS:{SEARCH_QUERY:"#fab_searchQuery",PRODUCT_CATEGORY:"#fab_productCategory"},METRICS:{TIMERS:{FETCH_HUDDLE_FETCH_TIME:"s-fab-jcs-ft"},COUNTERS:{FETCH_HUDDLE_ID_NOT_OK:"s-fab-jcs-fin",FETCH_HUDDLE_ID_NOT_FOUND:"s-fab-jcs-finf",FETCH_HUDDLE_ID_OK:"s-fab-jcs-fio",FETCH_HUDDLE_ID_NOT_AUTHORIZED:"s-fab-jcs-fina",FAB_RENDER_FAILURE:"s-fab-jcs-frf"}}}});c.declare("s-fab-jeeves-chat-flags",
{hoverHintEnabled:!0,statusBadgeEnabled:!0});c.when("huddles-init-2.0","s-fab-component-jeeveschatsupport").execute(function(d){d.initialize();c.when("A","s-fab-controller","s-jeeves-chat-constants","s-fab-utilities","huddles-chatbox-2.0","s-fab-unread-badging-flag","s-fab-constants","ready").register("s-jeeves-chat",function(a,b,c,d,f,k,u){var e=0;b.setOnComponentRegistered(function(){function l(a,c,b){a.subscribeToMessageReceived({handler:function(a){!c.isOpen()&&b.enabled&&(e+=a,c.setUnreadMessageCount(e))},
filters:{messageFilter:function(a){return"MESSAGE"===a.slot&&a.timestamp>x}}})}function n(b){var e=b.onError,g=b.onSuccess,f=b.onComplete,k=new Date;a.ajax(c.CREATE_HUDDLE_FROM_INGRESS_FETCH_ENDPOINT,{method:"post",params:b.huddleData,contentType:"application/json; charset\x3dutf-8",paramsFormat:"json",success:function(a){d.metrics.timer(c.METRICS.TIMERS.FETCH_HUDDLE_FETCH_TIME,k);g&&g(a);f&&f()},error:function(a){e&&e(a.http.status);f&&f()}})}function v(){var a=document.getElementsByClassName("jeeves-error-fallback")[0];
a&&a.classList.add("aok-hidden")}function p(){r&&clearTimeout(r);r=a.delay(function(){h=null},150);h?b.isOpen()&&500<=Date.now()-h&&(b.minimizeContentPane(),a.off(a.constants.BROWSER_EVENTS.SCROLL,p),a.$(document).unbind("click",q),h=null):h=Date.now()}function q(c){document.querySelector(u.FAB_WRAPPER_SELECTOR)&&!document.querySelector(u.FAB_WRAPPER_SELECTOR).contains(c.target)&&(b.minimizeContentPane(),a.off(a.constants.BROWSER_EVENTS.SCROLL,p),a.$(document).unbind("click",q))}var y=a.$(c.SELECTORS.SEARCH_QUERY).val()||
"",z=a.$(c.SELECTORS.PRODUCT_CATEGORY).val()||"",w,t=!1,x=(new Date).getTime(),h=null,r=null;try{f.closeChatbox()}catch(g){}b.showComponent();b.registerOnOpenHandler(function(){var g=document.getElementsByClassName("jeeves-spinner ")[0],h=document.getElementsByClassName("jeeves-error-fallback")[0];e=0;b.setUnreadMessageCount(e);a.on(a.constants.BROWSER_EVENTS.SCROLL,p);a.$(document).click(q);t||(h&&h.classList.add("aok-hidden"),g&&g.classList.remove("aok-hidden"),w={ingressContext:JSON.stringify({searchQuery:y,
productCategory:z})},n({huddleData:w,onSuccess:function(a){a=a.id;t=!0;d.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_OK);f.renderHuddleChat({huddleId:a,showEmbedded:!0,container:b.getElements().$contentContainer,skin:"BEACON",theme:c.HUDDLES_THEME,chatPlatformType:"HYBRID_CHATBOT_AMAZON_CONNECT"});l(f,b,k)},onError:function(a){a&&a===c.UNAUTHORIZED_ERROR?(d.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_AUTHORIZED),a=d.buildSignInURL(),m.location.href=a):(a===c.NOT_FOUND_ERROR?d.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_FOUND):
d.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_OK),h&&(g&&g.classList.add("aok-hidden"),h.classList.remove("aok-hidden")))},onComplete:function(){t&&g&&g.classList.add("aok-hidden")}}))});b.registerOnCloseHandler(function(){v();a.off(a.constants.BROWSER_EVENTS.SCROLL,p);a.$(document).unbind("click",q)});b.registerOnControlCloseHandler(function(){v();b.minimizeContentPane();a.off(a.constants.BROWSER_EVENTS.SCROLL,p);a.$(document).unbind("click",q)})})})});c.when("A","rush-framework","s-jeeves-chat-constants",
"s-fab-constants","s-fab-utilities","s-fab-component-registration","s-fab-jeeves-chat-flags","ready").execute(function(d,a,b,e,l,f,k){d.$(b.FAB_CONTAINER_SELECTOR).length&&(d.$(e.FAB_EMPTY_SELECTOR).length?(l.metrics.addOne(b.METRICS.COUNTERS.FAB_RENDER_FAILURE),c.register("s-fab-component-render-failure")):(a.registerComponent(b.COMPONENT_NAME,b.COMPONENT_NAME,function(a){f.setup(a,b.FAB_CONTAINER_SELECTOR,k)}),c.register("s-fab-component-jeeveschatsupport")))})});
/* ******** */
(function(f){var g=window.AmazonUIPageJS||window.P,h=g._namespace||g.attributeErrors,a=h?h("SearchCartProgressIndicatorWidgetAssets",""):g;a.guardFatal?a.guardFatal(f)(a,window):a.execute(function(){f(a,window)})})(function(f,g,h){"use strict";f.when("A","rush-framework","search-cpi","search-cpi-toggle","search-cpi-utilities").register("s-cpi-component",function(a,d,b,c,e){d.registerComponent("s-cpi-component","s-cpi-component",function(){c&&(b.init(),e.addProgressBarSeparators())})});"use strict";
f.when("A","search-cpi-placement").register("search-cpi-event-handler",function(a,d){function b(e,a,b){if(!(e instanceof d))throw Error("cpiPlacement");if(!c.isFunction(a))throw Error("event handler must provide callback function");this._cpiPlacement=e;this.callBackFn=a;this.cpi=b}var c=a.$;b.prototype={getCpiPlacement:function(){return this._cpiPlacement},getCallBackFn:function(){return this.callBackFn},getCpi:function(){return this.cpi}};return b.prototype.constructor=b});"use strict";f.when("A",
"cpi-cart-update-event","search-cpi-event-handler").register("search-cpi-event-handler-registry",function(a,d,b){var c={};return{addEventHandler:function(e,a,d){try{c[e.getCpiUrl()]=new b(e,a,d)}catch(f){console.log(f,"cpi-event-handler-registry","could not register event handler "+e.getCpiUrl())}},getEventHandler:function(e){return c[e]},removeEventHandler:function(e){delete c[e]},notifyEventHandler:function(e){var a,b;if(e instanceof d)for(a in c)b=c[a].getCallBackFn(),b(e)}}});"use strict";f.when("A").register("search-cpi-constants",
function(){return{CPI_URL:"/psx/cpi/",cti:{CATEGORY:"Website",TYPE:"S2X",ITEM:"BCS"},store:{STRX:"strx"},page:{SEARCH:"search",EWC:"ewc"},slot:{BOTTOM:"bottomAtc"},actions:{ATC_RECEIVE:"atc-receive"},actionSources:{SEARCH_ATC_CLICK:"search-atc-click"},logLevels:{ERROR:"ERROR",FATAL:"FATAL",WARN:"WARN"},logging:{METRIC_PREFIX:"SEARCH.CPI."}}});"use strict";f.when("A","search-cpi-constants").register("search-cpi-utilities",function(a,d){var b,c;return{isNonEmptyString:function(e){return!("string"!==
typeof e||!a.trim(e).length)},logCount:function(a,c){b=d.logging.METRIC_PREFIX+a;g.ue&&g.ue.count&&g.ue.count(b,(g.ue.count(b)||0)+c)},logError:function(a,b,d,f){g.ueLogError&&(c={logLevel:a,attribution:d,message:f},g.ueLogError(b,c))},logLatencyMetric:function(a,b){g.uet.isFunction()&&g.uex.isFunction()&&("ld"===a?g.uex(a,b,{wb:1}):g.uet(a,b,{wb:1}))},addProgressBarSeparators:function(){var b=Number(a.$("#s-cpi-widget-threshold-value").text()),c=100/b+"%",d=100/(b-1)-.5+"%",b=100/(b-1)+"%";a.$(".s-cpi-widget-bmsm-progress").attr("style",
"--thresholdPercentage:"+c+";--separatorBeginningPercentage:"+d+";--separatorEndPercentage:"+b+";--separatorColor:#999")}}});"use strict";f.when("A","search-cpi-constants").register("search-cpi-placement",function(a,d){function b(a,b,d){this._store=a;this._page=b;this._slot=d}b.prototype={getCpiUrl:function(){return d.CPI_URL+this._store+"/"+this._page+"/"+this._slot+"?responseType\x3djson"}};return b.prototype.constructor=b});"use strict";f.when("A","search-cpi-event-handler-registry","search-cpi-placement",
"search-cpi-constants","cpi-cart-update-event","search-cpi-utilities").register("search-cpi",function(a,d,b,c,e,f){function g(){}var k,h=new b(c.store.STRX,c.page.SEARCH,c.slot.BOTTOM);g.prototype={updateCPI:function(){var b=a.$,d=h.getCpiUrl(),e;a.ajax(d,{method:"POST",cache:!1,success:function(a){a&&a.searchCpiInfo&&(e=a.searchCpiInfo,b("*[id\x3ds-cpi-widget-header]").get().forEach(function(a){b(a).find("*:not(:has(*)):visible").text(e.title)}),b("*[id\x3ds-cpi-widget-messaging]").get().forEach(function(a){b(a).contents().filter(function(a,
b){return b.nodeType===Node.TEXT_NODE}).first().replaceWith(e.eligibleProgressMessage+" "+e.remainingProgressMessage)}),b("*[id\x3ds-cpi-widget-progress-bar]").get().forEach(function(a){b(a).find(".a-meter-bar").css("width",e.fillPercentage+"%")}),f.addProgressBarSeparators())},error:function(a){f.logError(c.logLevels.ERROR,a,"search-cpi","ajax call to refresh search CPI failed")}})},onCartUpdateEvent:function(a){if(a instanceof e)switch(a.getPage()){case c.page.SEARCH:case c.page.EWC:this.updateCPI()}}};
k=new g;return{init:function(){d.addEventHandler(h,k.onCartUpdateEvent.bind(k),k)}}});"use strict";f.when("A").register("cpi-cart-update-event",function(){function a(a){this._page=a}a.prototype={getPage:function(){return this._page}};return a.prototype.constructor=a});"use strict";f.when("A","search-cpi-event-handler-registry","search-cpi-constants","cpi-cart-update-event").execute("search-atc",function(a,d,b,c){a.on("search:add_to_cart:request-completed",function(){d.notifyEventHandler(new c(b.page.SEARCH))})});
"use strict";f.when("search-cpi-event-handler-registry","search-cpi-constants","cpi-cart-update-event","rush-dispatcher").execute("search-cpi-atc",function(a,d,b,c){c.on("s-add-to-cart-controller:submit-success",function(){a.notifyEventHandler(new b(d.page.SEARCH))})});"use strict";f.when("A","search-cpi-event-handler-registry","search-cpi-constants","cpi-cart-update-event").execute("search-rfc",function(a,d,b,c){a.on("search:remove_from_cart:request-completed",function(){d.notifyEventHandler(new c(b.page.SEARCH))})});
"use strict";f.when("A","search-cpi-event-handler-registry","search-cpi-constants","cpi-cart-update-event").execute("cpi-ewc-atc",function(a,d,b,c){a.on("ewc:cartUpdate:success",function(){d.notifyEventHandler(new c(b.page.EWC))})})});
/* ******** */
(function(c){var a=window.AmazonUIPageJS||window.P,d=a._namespace||a.attributeErrors,b=d?d("VerticalAsinListWidgetAssets",""):a;b.guardFatal?b.guardFatal(c)(b,window):b.execute(function(){c(b,window)})})(function(c,a,d){c.register("vertical-asin-list-utils",function(){return{logCsmCounter:function(b,c){a.ue&&a.ue.count&&a.ue.count(b,c)}}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("NileInlineCustomerExperienceWidgetAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(e){var f=window.AmazonUIPageJS||window.P,m=f._namespace||f.attributeErrors,c=m?m("APEAdaptiveSkyscraperWidgetAssets",""):f;c.guardFatal?c.guardFatal(e)(c,window):c.execute(function(){e(c,window)})})(function(e,f,m){"use strict";e.when("Rush","s-web-application-controller","ape-adaptive-skyscraper-constants","ape-adaptive-skyscraper-execute","ape-adaptive-skyscraper-metrics","s-skyscraper-slot","af").execute("ape-adaptive-skyscraper",function(c,f,e,u,B){function v(){try{u.execute()}catch(b){B.incrementMetric(e.METRIC_ERROR)}}
c.on(f.ACTIONS.LOAD_SEARCH_PAGE_COMPLETE,function(){setTimeout(v,e.PAGINATION_EXECUTE_TIMEOUT)});v()});"use strict";e.register("ape-adaptive-skyscraper-constants",function(){return{RESEND_ACTIVATE_EVENT_TIMEOUT:600,PAGINATION_EXECUTE_TIMEOUT:600,METRIC_DONE:"adplacements:adaptive-skyscraper:done",METRIC_ERROR:"adplacements:adaptive-skyscraper:error",METRIC_NO_ADAP_SKYS:"adplacements:adaptive-skyscraper:no-adaptive-skyscrapers",METRIC_NO_BLOCKING:"adplacements:adaptive-skyscraper:no-blocking-elements",
METRIC_NO_SPACE:"adplacements:adaptive-skyscraper:no-space"}});"use strict";e.when("ape-adaptive-skyscraper-constants","ape-adaptive-skyscraper-metrics","A").register("ape-adaptive-skyscraper-execute",function(c,e,m){function u(e){function f(){var b=e.querySelector("iframe");b&&b.contentWindow&&b.contentWindow.postMessage&&m.$.isFunction(b.contentWindow.postMessage)&&b.contentWindow.postMessage(JSON.stringify({action:"TRIGGER",eventName:"adaptiveSkyReady"}),"*")}f();setTimeout(f,c.RESEND_ACTIVATE_EVENT_TIMEOUT)}
return{execute:function(){function m(){function a(a){a=q[String(a)].querySelector("div");a.style.display="none";a.style.marginTop=""}function d(a,d){a=q[String(a)].querySelector("div");a.style.display="block";a.style.marginTop=String(d)+"px"}var h,l;h=1;for(l=0;h<n&&l<r.length;h++)"active"!==t[h]?a(h):(d(h,r[l]),l++);for(;h<n;h++)a(h)}function v(a){var d;if(a.data){try{d=JSON.parse(a.data)}catch(h){d={}}d&&d.frameId&&d.action&&"COLLAPSE"===d.action&&(a=x[d.frameId],"number"===typeof a&&0!==a&&(t[a]=
"inactive",m()))}}var b,q={},y,r=[],z,x={},n=0,A=f.innerHeight,w=[],t={};b={tops:[],bottoms:[]};b=function(){var a={},d,h,l,p={},b=0,g={},k=document.getElementsByClassName("slot\x3dSKYSCRAPER template\x3dSAFE_FRAME");0>=k.length&&(k=document.getElementsByClassName("slot\x3dLEFT template\x3dSAFE_FRAME"));for(l=0;l<k.length;l++)d=k[l].children[0],h=d.getElementsByTagName("iframe")[0].getAttribute("data-frame-id"),a[b]=d,p[h]=b,g[b]="active",b++;return{cachedFrameContainers:a,numByFrameId:p,numSkyscrapers:b,
skyscraperStates:g}}();q=b.cachedFrameContainers;x=b.numByFrameId;n=b.numSkyscrapers;t=b.skyscraperStates;1>=n?function(a,d){e.incrementMetric(c.METRIC_NO_ADAP_SKYS);d&&u(a["0"])}(q,1===n):(z=Math.ceil(q["0"].offsetTop+619+A),y=function(){var a=document.getElementsByClassName("s-result-list");if(0>=a.length)return 0;a=a[a.length-1];return Math.ceil(a.offsetTop+a.offsetHeight)}(),b=document.getElementsByClassName?document.getElementsByClassName("AdHolder"):document.querySelector(".AdHolder"),(!b||
b.length&&0>=b.length)&&e.incrementMetric(c.METRIC_NO_BLOCKING),b=function(a,d,h){var b=[h],p=[d],e={},g={},k,c,f;if(0>=a.length)return{tops:b,bottoms:p};for(k=0;k<a.length;k++)c=Math.floor(a[k].offsetTop),f=Math.ceil(c+a[k].offsetHeight),c>d&&c<h&&!e[c]&&(b.push(c),e[c]=!0),f>=d&&f<h&&!g[f]&&(p.push(f),g[f]=!0);[b,p].forEach(function(a){a.sort(function(a,d){return a-d})});return{tops:b,bottoms:p}}(b,z,y),w=function(a,d){for(var h=[],b=0,c=0,f=0,g=a.length+d.length,k,e;f<g&&c<d.length&&b<a.length;)f++,
k=d[c],e=a[b],k>=e?b++:c<d.length-2&&d[c+1]<e?c++:619>e-k?c++:(h.push([k,e]),c++,b++);return w=h}(b.tops,b.bottoms),r=function(a,d,b,c){var e=[];d=d.reverse();var f=1;a=Number(a.offsetTop);var g,k;if(0>=d.length)return e;for(g=d.pop();f<b&&g;)g[0]<a&&(g[0]=a),g[0]>g[1]||619>g[1]-g[0]?((k=d.pop())&&g[0]>k[0]&&(k[0]=g[0]),g=k):(e.push(g[0]-a-619),f++,a=g[0],g[0]+=619+c);return e}(q["0"],w,n,A),function(a,d){var b;if(!(a.length>=d||(a=d-a.length-1,0>=a)))for(b=0;b<a;b++)t[d-b-1]="inactive"}(r,n),0>=
r.length&&e.incrementMetric(c.METRIC_NO_SPACE),function(a,b,c,e){function f(a){return function(b){try{a(b)}catch(d){}}}a.addEventListener?a.addEventListener(b,f(c),!0===e):a.attachEvent&&a.attachEvent("on"+b,f(c))}(f,"message",v),m(),function(a,b){var c;for(c=0;c<a;c++)"active"===b[c]&&u(q[String(c)])}(n,t),e.incrementMetric(c.METRIC_DONE))}}});"use strict";e.register("ape-adaptive-skyscraper-metrics",function(){return{incrementMetric:function(c){f.ue&&f.ue.count&&c&&f.ue.count(c,(f.ue.count(c)||
0)+1)}}})});
/* ******** */
(function(t){var u=window.AmazonUIPageJS||window.P,q=u._namespace||u.attributeErrors,f=q?q("SponsoredBrandsVideoAssets",""):u;f.guardFatal?f.guardFatal(t)(f,window):f.execute(function(){t(f,window)})})(function(t,u,q){t.when("A","rush-framework","sbv-single-product","sbv-slideshow-product-mixin").register("sbv-slideshow-single-product",function(f,p,h,g){var c=function(){this.attribution=this.name="sbv-slideshow-single-product"};f.mixin(c.prototype,g);var e=new c;p.registerComponent(e.name,e.attribution,
function(b){var c=f.$(b.elem()),a=c.find(".sbv-product:first"),a=0===a.length?c.children().get(-1):a.get(0);e.setup(e.attribution,c,a,b,h)})});"use strict";t.when("A","rush-framework","sbv-single-product","sbv-multi-brand-video-mixin").register("sbv-multi-brand-video",function(f,p,h,g){var c=function(){this.attribution=this.name="sbv-multi-brand-video"};f.mixin(c.prototype,g);var e=new c;p.registerComponent(e.name,e.attribution,function(b){var c=f.$(b.elem());e.setup(e.attribution,c,null,null,b,h,
null)})});t.when("A","base-mixin","sbv-multi-brand-video-carousel").register("sbv-multi-brand-video-mixin",function(f,p,h){return{setup:function(g,c,e,b,k,a,d){e=c.find(".sbv-mbv-carousel-container");c=p.setup(g,c,k).build();c.reportAceVideoResponseReceived();h.initialize(e,c,g,k.prop("instrumentationPixelUrl"))}}});"use strict";t.when("A","rush-framework","sbv-video-single-mixin","sbv-single-product","sbv-store-ingress").register("sbv-video-single-product",function(f,p,h,g,c){var e=function(){this.attribution=
this.name="sbv-video-single-product"};f.mixin(e.prototype,h);var b=new e;p.registerComponent(b.name,b.attribution,function(e){var a=f.$(e.elem()),d=a.find(".sbv-product:first").get(0),m=a.find(".sbv-store-ingress:first").get(0);b.setup(b.attribution,a,d,m,e,g,c)})});"use strict";t.when("A","rush-framework","sbv-single-link","sbv-video-single-mixin").register("sbv-video-single-link",function(f,p,h,g){var c=function(){this.attribution=this.name="sbv-video-single-link"};f.mixin(c.prototype,g);var e=
new c;p.registerComponent(e.name,e.attribution,function(b){var c=f.$(b.elem()),a=c.find(".sbv-link:first").get(0);e.setup(e.attribution,c,a,null,b,h,null)})});t.when("A","base-mixin","sbv-video").register("sbv-video-single-mixin",function(f,p,h){return{dupeCheck:function(g,c){var e=g.prop("widgetGroupId")||"";c=0;if("1"===(g.prop("pageNumber")||"")){if("loom-mobile-inline-slot"===e||"loom-desktop-inline-slot"===e)return"NO_DUPE_INLINE";if("loom-mobile-bottom-slot"===e||"loom-desktop-bottom-slot"===
e){g=document.getElementsByClassName("sbv-video-single-product");for(var e=g.length,b="",k="",a=0;a<e;a++){var d=g[a].getAttribute("data-component-props"),d=JSON.parse(d);if("1"===d.pageNumber)if(c++,""===b)b=d.advertiserId||"",k=d.campaignId||"";else if(d.advertiserId===b&&d.campaignId===k)return"DUPE_BOTTOM"}}}return 1<c?"NO_DUPE_BOTTOM_MULTI":"NO_DUPE_BOTTOM_SINGLE"},init:function(g,c,e,b,k,a,d){var m=c.find(".sbv-video:first"),l=p.setup(g,c,k).withVideoPreviewImageSrc(k.prop("videoPreviewImageSrc")).withContentHash(k.prop("contentHash")||
"").withVideoSrc(k.prop("videoSrc")).withHasAudio("true"===k.prop("hasAudio")).withStoreName(k.prop("storeName")||"").withStoreUrl(k.prop("storeUrl")||"").withStoreCta(k.prop("storeCta")||"").withVideoType(k.prop("videoType")||"").build();c.hasClass("aok-hidden")&&c.hasClass("sbv-abd")||"none"==c.css("display")?l.reportAdRenderSuppressed():(l.reportAceVideoResponseReceivedWithDupeInfo(this.dupeCheck(k,l)),g=h.initialize(g,m.get(0),l,k.prop("instrumentationPixelUrl")),a.initialize(e,l,g),d&&b&&d.initialize(b,
l,g))},setup:function(g,c,e,b,k,a,d){this.init(g,c,e,b,k,a,d)}}});t.when("A").register("sbv-video-single-content-mixin",function(f){return{loadAdFeedback:function(p,h,g,c){try{if(c){var e=f.$(c).attr("data-cid"),b=f.$(c).attr("data-aid"),k=f.$(c).data("slotname"),a=f.$(c).data("searchkeywords"),d=f.$(c).data("keywordEncodingFailed"),m=f.$(c).data("selectionsignals"),l=f.$(c).data("advertiseridns");"true"===d&&p.reportAdFeedbackKeywordEncodingFailure();var n=JSON.stringify({adPlacementMetaData:{adElementId:h,
pageType:"Search",slotName:k,pageUrl:"",searchTerms:a},adCreativeMetaData:{adNetwork:"aax",adProgramId:1010,adImpressionId:"",adId:b,adCreativeDetails:[{campaignId:e,advertiserIdNS:""===l?null:l,selectionSignals:""===m?null:m}]}}),q=u.location.protocol+"//"+u.location.hostname+"/af/feedback-link?pl\x3d"+encodeURIComponent(n),y=new XMLHttpRequest;y.onreadystatechange=function(){if(4===y.readyState&&200===y.status){var a=JSON.parse(y.responseText);if(a&&"ok"===a.status){"html"in a&&a.html&&(g.addClass("aok-hidden"),
c.innerHTML=a.html,f.$(c).removeClass("aok-hidden"),p.reportAdFeedbackLoadSucceeded(y.status));if("script"in a&&a.script){var b=document.createElement("script");b.type="text/javascript";b.innerHTML=a.script;c.appendChild(b)}f.$(c).find("a").click(function(){p.reportAdFeedbackPopoverOpened()})}else p.reportAdFeedbackLoadFailed(y.status)}};y.open("GET",q,!0);y.send()}}catch(v){h=4E3<v.message.length?v.message.substring(0,3997)+"...":v.message,p.reportAdFeedbackLoadFailedFromErr(h)}}}});t.when("A","sbv-metrics-manager",
"sbv-automated-test-metrics-client","sbv-platform-compatibility","sbv-latency-event-handler").register("base-mixin",function(f,p,h,g){return{setup:function(c,e,b){g.setAppVersion(b.prop("appVersion"));return p.builder().withAttribution(c).withMetricsIdentifier(b.prop("metricsIdentifier")).withAdvertiserId(b.prop("advertiserId")).withCampaignId(b.prop("campaignId")).withSlotId(b.prop("slotId")).withSearchQuery(b.prop("searchQuery")).withWidgetIndex(b.prop("widgetIndex")).withDeviceEnv(b.prop("deviceEnv")||
"").withDeviceOs(b.prop("deviceOs")||"").withDeviceType(b.prop("deviceType")||"").withDevicePlatformVersion(b.prop("devicePlatformVersion")||"").withDeviceModel(b.prop("deviceModel")||"").withDeviceMake(b.prop("deviceMake")||"").withAppVersion(b.prop("appVersion")||"").withStage(b.prop("stage")).withClientId(b.prop("clientId")).withWeblabs(b.prop("weblabs")).withLanguage(b.prop("language")).withMarketplaceId(b.prop("marketplaceId")).withWidgetType(b.prop("widgetType")).withWidgetGroupId(b.prop("widgetGroupId")).withPageType(b.prop("pageType")).withPageNumber(b.prop("pageNumber")).withSushiSourceGroupEndpoint(b.prop("sushiSourceGroupEndpoint"))}}});
t.when("base-mixin","sbv-slideshow").register("sbv-slideshow-product-mixin",function(f,p){return{setup:function(h,g,c,e,b){var k=g.find(".sbv-slideshow-view-container:first").get(0);h=f.setup(h,g,e).build();h.reportSlideshowWidgetResponseReceived();k=p.initialize(k,h);(g=g.find(".sbv-slideshow-timer:first").get(0))&&g.dataset&&g.dataset.jsploadedtime&&(g=Date.now()-g.dataset.jsploadedtime,h.reportTimeWaitingForScriptToExecute(g));b.initialize(c,h,k)}}});t.when("A","3p-promise").register("sbv-adblock-detector",
function(f,p){var h={method:"HEAD",mode:"no-cors",headers:{"Content-Type":"plain/text"}};return{timeoutWrapper:function(g){return new p(function(c,e){var b=setTimeout(function(){clearTimeout(b);c()},g)})},fetchWrapper:function(g,c,e){e=this.timeoutWrapper(e);g=u.fetch(g,c);return p.race([g,e])},init:function(){if(f.$(".sbv-video-single-product").find(".sbv-compliant-abd").length){var g=this.fetchWrapper("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?_\x3d1607460946161",h,2E3);return new p(function(c,
e){g.then(function(b){e(b)}).catch(function(b){c(b)})})}}}});t.when("af","ready").register("sbv-latency-event-handler");t.when("A","sbv-video-single-content-mixin").register("sbv-single-link",function(f,p){var h=function(){this.init=function(g,c,e){f.$(g).find("a").click(function(){c.reportLinkClicked(e&&e.getVideoCurrentTimeMs())});f.$(g).find(".sbv-link-cta-container").click(function(){c.reportCallToActionClicked(e&&e.getVideoCurrentTimeMs())});f.$(g).find(".sbv-link-img-container").click(function(){c.reportImageClicked(e&&
e.getVideoCurrentTimeMs())});f.$(g).find(".sbv-link-small-img-container").click(function(){c.reportImageClicked(e&&e.getVideoCurrentTimeMs())});f.$(g).find(".sbv-link-headline").click(function(){c.reportHeadlineClicked(e&&e.getVideoCurrentTimeMs())})}};f.mixin(h.prototype,p);return{initialize:function(g,c,e){var b=new h,k=f.$(g).find(".sbv-link-sponsored-label"),a=f.$(g).find(".sbv-link-ad-feedback").get(0);b.init(g,c,e);b.loadAdFeedback(c,"video-single-link",k,a)}}});"use strict";t.when("A","sbv-sushi-client").register("sbv-metrics-manager",
function(f,p){function h(a,d){function m(a,d){var m=l(e.VM_POST_FAILURE);m[b.VIEW_METRICS_FAILURE]=a;m[b.ERROR_MESSAGE]=d;n(m)}function l(a){var l=f.$.extend({},v);l[b.EVENT_TYPE]=a;l[b.METRICS_SEQUENCE_NUMBER]=g++;l[b.NETWORK_TYPE]=navigator&&navigator.connection&&navigator.connection.type||"Unknown";return l}function n(a,b){h&&h.processEvent(a,k);x&&x.processEvent(a)}var g=0,h=p.newClient(a,u,d,"AceVisClientMetrics"),v=null,x=null;this.setSushiClient=function(a){h=a};this.setDefaultEventAttributes=
function(a){v=f.$.extend({},a);v[b.USER_AGENT]=navigator.userAgent};this.setAutomatedTestMetricsClient=function(a){x=a};this.reportAceVideoResponseReceived=function(){var a=l(e.ACE_VIDEO_RESPONSE_RECEIVED);n(a)};this.reportAceVideoResponseReceivedWithDupeInfo=function(a){var d=l(e.ACE_VIDEO_RESPONSE_RECEIVED);d[b.DEBUG_INFO_CONTENT]=a;n(d)};this.reportDupe=function(a,d){var m=l(e.DUPE);m[b.LOGIC]=a;m[b.REASON]=d;n(m)};this.reportDupeByCampaignAndAdvertiserId=function(){var a=l(e.DUPE_BY_ADVID_CAMPAIGNID);
n(a)};this.reportDupeByContentHash=function(){var a=l(e.DUPE_BY_CONTENT_HASH);n(a)};this.reportAdBlockDetected=function(){var a=l(e.AD_BLOCK_DETECTED);n(a)};this.reportTimeWaitingForScriptToExecute=function(a){var d=l(e.TIME_WAITING_FOR_SCRIPT_TO_EXECUTE);d[b.LOAD_TIME_MS]=a;n(d)};this.reportAdRenderSuppressed=function(){var a=l(e.AD_RENDER_SUPPRESSED);n(a)};this.reportSlideshowWidgetResponseReceived=function(){var a=l(e.SLIDESHOW_WIDGET_RESPONSE_RECEIVED);n(a)};this.reportSlideshowClicked=function(a,
d){var m=l(e.SLIDESHOW_CLICKED);m[b.SLIDESHOW_TOTAL_SLIDES]=a;m[b.SLIDESHOW_CURRENT_INDEX]=d;n(m)};this.reportSlideshowSwiped=function(a){var d=l(e.SLIDESHOW_SWIPED);d[b.SLIDESHOW_TOTAL_SLIDES]=a;n(d)};this.reportSlideshowOnScreen=function(a){var d=l(e.SLIDESHOW_ON_SCREEN);d[b.SLIDESHOW_TOTAL_SLIDES]=a;n(d)};this.reportSlideshowOffScreen=function(a,d){var m=l(e.SLIDESHOW_OFF_SCREEN);m[b.SLIDESHOW_TOTAL_SLIDES]=a;m[b.TIME_ON_SCREEN_MS]=d;n(m)};this.reportSlideshowLoop=function(a,d){var m=l(e.SLIDESHOW_LOOP);
m[b.SLIDESHOW_TOTAL_SLIDES]=a;m[b.SLIDESHOW_LOOP_COUNT]=d;n(m)};this.reportSlideshowLoadFailed=function(a,d){var m=l(e.SLIDESHOW_LOAD_FAILED);m[b.SLIDESHOW_TOTAL_SLIDES]=a;m[b.ERROR_MESSAGE]=d;n(m)};this.reportSlideshowLoadCompleted=function(a){var d=l(e.SLIDESHOW_LOAD_COMPLETED);d[b.SLIDESHOW_TOTAL_SLIDES]=a;n(d)};this.reportAdFeedbackLoadFailed=function(a){var d=l(e.AD_FEEDBACK_LOAD_FAILED);d[b.STATUS_CODE]=a;n(d)};this.reportAdFeedbackLoadFailedFromErr=function(a){var d=l(e.AD_FEEDBACK_LOAD_FAILED_FROM_ERR);
d[b.ERROR_MESSAGE]=a;n(d)};this.reportAdFeedbackLoadSucceeded=function(a){var d=l(e.AD_FEEDBACK_LOAD_SUCCEEDED);d[b.STATUS_CODE]=a;n(d)};this.reportAdFeedbackKeywordEncodingFailure=function(){var a=l(e.AD_FEEDBACK_KEYWORD_ENCODING_FAILURE);n(a)};this.reportAdFeedbackPopoverOpened=function(){var a=l(e.AD_FEEDBACK_POPOVER_OPENED);n(a)};this.reportMissingVideoFunction=function(a){var d=l(e.MISSING_VIDEO_FUNCTION);d[b.ERROR_MESSAGE]=a;n(d)};this.reportPreviewImageLoadSuccess=function(a,d){var m=l(e.PREVIEW_IMAGE_LOAD_SUCCESS);
m[b.LOAD_TIME_MS]=a;m[b.RETRY_COUNT]=d;n(m)};this.reportPreviewImageLoadFailure=function(a,d){var m=l(e.PREVIEW_IMAGE_LOAD_FAILURE);m[b.LOAD_TIME_MS]=a;m[b.STATUS_CODE]=d;n(m)};this.reportVideoDomainVerificationFailure=function(a){var d=l(e.VIDEO_DOMAIN_VERIFICATION_FAILURE);d[b.ERROR_MESSAGE]=a;n(d)};this.reportVideoReadyForPlayback=function(a,d,m,c,g,k){var f=l(e.VIDEO_READY_FOR_PLAYBACK);f[b.LOAD_TIME_MS]=a;f[b.RETRY_COUNT]=d;f[b.PERCENT_DOWNLOADED]=m;f[b.VIDEO_TOTAL_LENGTH_MS]=c;f[b.START_TIME_MS]=
g;f[b.END_TIME_MS]=k;n(f)};this.reportVideoPlaybackInitiated=function(a){var d=l(e.VIDEO_PLAYBACK_INITIATED);d[b.VIDEO_CURRENT_TIME_MS]=a;n(d)};this.reportVideoPlaybackStarted=function(a,d,m){var c=l(e.VIDEO_PLAYBACK_STARTED);c[b.VIDEO_CURRENT_TIME_MS]=a;c[b.PERCENT_DOWNLOADED]=d;c[b.DROPPED_FRAMES]=m;n(c)};this.reportTimeToFirstFrame=function(a,d,m,c,g){var f=l(e.TIME_TO_FIRST_FRAME);f[b.LOAD_TIME_MS]=a;f[b.PERCENT_DOWNLOADED]=d;f[b.DROPPED_FRAMES]=m;f[b.START_TIME_MS]=c;f[b.END_TIME_MS]=g;n(f)};
this.reportVideoBufferingStarted=function(a,d,m){var c=l(e.VIDEO_BUFFERING_STARTED);c[b.VIDEO_CURRENT_TIME_MS]=a;c[b.PERCENT_DOWNLOADED]=d;c[b.DROPPED_FRAMES]=m;n(c)};this.reportVideoBufferingEnded=function(a,d,m){var c=l(e.VIDEO_BUFFERING_ENDED);c[b.VIDEO_CURRENT_TIME_MS]=a;c[b.PERCENT_DOWNLOADED]=d;c[b.DROPPED_FRAMES]=m;n(c)};this.reportVideoPlaybackFailure=function(a,d,m){var c=l(e.VIDEO_PLAYBACK_FAILURE);c[b.VIDEO_CURRENT_TIME_MS]=a;c[b.ERROR_MESSAGE]=d;c[b.ERROR_CODE]=m;n(c)};this.reportVideoDurationPlayed=
function(a,d,m){var c=l(e.VIDEO_DURATION_PLAYED);c[b.VIDEO_BOUNDRY_CROSSED_TIME_MS]=a;c[b.PERCENT_DOWNLOADED]=d;c[b.DROPPED_FRAMES]=m;n(c)};this.reportPlaybackCompleted=function(a,d){var m=l(e.PLAYBACK_COMPLETED);m[b.VIDEO_CURRENT_TIME_MS]=a;m[b.DROPPED_FRAMES]=d;n(m)};this.reportVideoOnScreen=function(a){var d=l(e.VIDEO_ON_SCREEN);d[b.PERCENT_DOWNLOADED]=a;n(d)};this.reportVideoOffScreen=function(a,d,m){var c=l(e.VIDEO_OFF_SCREEN);c[b.TIME_ON_SCREEN_MS]=a;c[b.WAS_BUFFERING]=d;c[b.VIDEO_CURRENT_TIME_MS]=
m;n(c)};this.reportVideoView=function(a,d){var m=l(e.VIDEO_VIEW);m[b.CONTINUOUS_PLAYBACK_DURATION_MS]=a;n(m);d&&h&&h.flush(h,!0)};this.reportVideoPauseInitiated=function(a){var d=l(e.VIDEO_PAUSED_INITIATED);d[b.VIDEO_CURRENT_TIME_MS]=a;n(d)};this.reportVideoClearedOnHiddenBrowser=function(){var a=l(e.VIDEO_CLEARED_ON_HIDDEN_BROWSER);n(a)};this.reportVideoLoadedOnVisibleBrowser=function(){var a=l(e.VIDEO_LOADED_ON_VISIBLE_BROWSER);n(a)};this.reportVideoPaused=function(a,d,m){var c=l(e.VIDEO_PAUSED);
c[b.VIDEO_CURRENT_TIME_MS]=a;c[b.PERCENT_DOWNLOADED]=d;c[b.DROPPED_FRAMES]=m;n(c)};this.reportVideoSoundOn=function(a,d){var m=l(e.VIDEO_SOUND_ON);m[b.VIDEO_CURRENT_TIME_MS]=a;m[b.SOUND_TOGGLE_METHOD]=d;n(m)};this.reportVideoSoundOff=function(a,d){var m=l(e.VIDEO_SOUND_OFF);m[b.VIDEO_CURRENT_TIME_MS]=a;m[b.SOUND_TOGGLE_METHOD]=d;n(m)};this.reportVideoClicked=function(a){var d=l(e.VIDEO_CLICKED);d[b.VIDEO_CURRENT_TIME_MS]=a;n(d)};this.reportProductClicked=function(a){var d=l(e.PRODUCT_CLICKED);a!==
q&&(d[b.VIDEO_CURRENT_TIME_MS]=a);n(d)};this.reportProductTitleClicked=function(){var a=l(e.PRODUCT_TITLE_CLICKED);n(a)};this.reportProductReviewCountClicked=function(){var a=l(e.PRODUCT_REVIEW_COUNT_CLICKED);n(a)};this.reportProductPriceClicked=function(){var a=l(e.PRODUCT_PRICE_CLICKED);n(a)};this.reportLinkClicked=function(a){var d=l(e.LINK_CLICKED);d[b.VIDEO_CURRENT_TIME_MS]=a;n(d)};this.reportCallToActionClicked=function(a){var d=l(e.CALL_TO_ACTION_CLICKED);d[b.VIDEO_CURRENT_TIME_MS]=a;n(d)};
this.reportHeadlineClicked=function(a){var d=l(e.HEADLINE_CLICKED);d[b.VIDEO_CURRENT_TIME_MS]=a;n(d)};this.reportImageClicked=function(a){var d=l(e.IMAGE_CLICKED);d[b.VIDEO_CURRENT_TIME_MS]=a;n(d)};this.reportStoreIngressClicked=function(a){var d=l(e.STORE_INGRESS_CLICKED);d[b.VIDEO_CURRENT_TIME_MS]=a;n(d)};this.reportBlankScreenLoadFailure=function(){var a=l(e.BLANK_SCREEN_LOAD_FAILURE);n(a)};this.reportPlaybackFailedToStartAfterPlay=function(){var a=l(e.PLAYBACK_FAILED_TO_START_AFTER_PLAY);n(a)};
this.reportAudioToggleIconDisplayed=function(){var a=l(e.AUDIO_TOGGLE_ICON_DISPLAYED);n(a)};this.reportPlayButtonShown=function(){var a=l(e.PLAY_BUTTON_SHOWN);n(a)};this.reportPlayButtonClicked=function(a){var d=l(e.PLAY_BUTTON_CLICKED);d[b.VIDEO_CURRENT_TIME_MS]=a;n(d)};this.reportDurationTickerDisplayed=function(a){var d=l(e.VIDEO_DURATION_TICKER_SHOWN);d[b.VIDEO_CURRENT_TIME_MS]=a;n(d)};this.reportVideoAborted=function(a){var d=l(e.VIDEO_ABORTED);d[b.VIDEO_CURRENT_TIME_MS]=a;n(d)};this.reportVideoSuspended=
function(a){var d=l(e.VIDEO_SUSPENDED);d[b.VIDEO_CURRENT_TIME_MS]=a;n(d)};this.reportVideoPlayPromiseRejected=function(a){var d=l(e.VIDEO_PLAY_PROMISE_REJECTED);d[b.ERROR_MESSAGE]=a;n(d)};this.reportVideoPlayPromiseNotSupported=function(){var a=l(e.VIDEO_PLAY_PROMISE_NOT_SUPPORTED);n(a)};this.reportDebugInfoCopiedSuccess=function(a){var d=l(e.DEBUG_INFO_COPIED_SUCCESS);d[b.DEBUG_INFO_CONTENT]=a;n(d)};this.reportDebugInfoCopiedFailure=function(a){var d=l(e.DEBUG_INFO_COPIED_FAILURE);d[b.ERROR_MESSAGE]=
a;n(d)};this.reportDebugInfoCopiedMessageShown=function(){var a=l(e.DEBUG_INFO_COPIED_MESSAGE_SHOWN);n(a)};this.reportDebugInfoCopiedMessageHidden=function(){var a=l(e.DEBUG_INFO_COPIED_MESSAGE_HIDDEN);n(a)};this.reportViewMetricsPostRequestFailure=m;this.reportViewMetricsVideoViewed=function(a,d,m){var b=l(e.VM_VIDEO_VIEWED);n(b);this.emitViewMetrics(a,c.VIEWED,d,m)};this.reportViewMetricsVideoProgressFiveSeconds=function(a){var d=l(e.VM_VIDEO_PROGRESS_FIVE_SECONDS);n(d);this.emitViewMetrics(a,c.PROGRESS_FIVE_SECONDS)};
this.reportViewMetricsVideoFirstQuartile=function(a){var d=l(e.VM_VIDEO_FIRST_QUARTILE);n(d);this.emitViewMetrics(a,c.FIRST_QUARTILE)};this.reportViewMetricsVideoMidpoint=function(a){var d=l(e.VM_VIDEO_MIDPOINT);n(d);this.emitViewMetrics(a,c.MIDPOINT)};this.reportViewMetricsVideoThirdQuartile=function(a){var d=l(e.VM_VIDEO_THIRD_QUARTILE);n(d);this.emitViewMetrics(a,c.THIRD_QUARTILE)};this.reportViewMetricsVideoComplete=function(a){var d=l(e.VM_VIDEO_COMPLETE);n(d);this.emitViewMetrics(a,c.COMPLETE)};
this.reportViewMetricsVideoUnmute=function(a){var d=l(e.VM_VIDEO_UNMUTE);n(d);this.emitViewMetrics(a,c.UNMUTE)};this.emitViewMetrics=function(a,d,b,l){a===q?m(d,"instrumentationPixelUrl is undefined"):(b=l!==q&&null!==l&&b!==q&&null!==b?JSON.stringify({v:{p:Math.round(100*b),v:l/1E3,def:"iab",event:d}}):JSON.stringify({v:{def:"iab",event:d}}),a="/"===a.substr(-1)?a+"v/":a+"/v/",fetch(a+encodeURI(b),{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:b}).then(function(a){if(!a.ok&&
0!==a.status)throw Error(a.status+" "+a.statusText);}).catch(function(a){m(d,a.message)}))};this.getDebugMetricAttributes=function(){var a=v[b.SEARCH_QUERY],m=v[b.ADVERTISER_ID],l=v[b.CAMPAIGN_ID],c=v[b.CONTENT_HASH],e=v[b.METRICS_IDENTIFIER],n=v[b.CLIENT_ID],g;a:{if(d&&(g=d.split("-")[1])){g=g.split(".")[0].toUpperCase();break a}g="UNKNOWN"}return{searchQuery:a,advertiserId:m,campaignId:l,contentHash:c,metricsIdentifier:e,clientId:n,region:g,stage:v[b.STAGE]}}}function g(){function a(){var a=[];
a[b.METRICS_IDENTIFIER]=m;a[b.ADVERTISER_ID]=l;a[b.CAMPAIGN_ID]=c;a[b.CONTENT_HASH]=e;a[b.WIDGET_INDEX]=k;a[b.DEVICE_ENV]=p;a[b.DEVICE_OS]=u;a[b.DEVICE_TYPE]=G;a[b.DEVICE_PLATFORM_VERSION]=t;a[b.DEVICE_MODEL]=D;a[b.DEVICE_MAKE]=H;a[b.APP_VERSION]=I;a[b.STAGE]=J;a[b.SLOT_ID]=g;a[b.SEARCH_QUERY]=f;a[b.CLIENT_ID]=z;a[b.WEBLABS]=A;a[b.LANGUAGE]=K;a[b.VIDEO_PREVIEW_IMAGE_SRC]=L;a[b.VIDEO_SRC]=M;a[b.VIDEO_TYPE]=E;a[b.HAS_AUDIO]=r;a[b.STORE_NAME]=w;a[b.STORE_URL]=B;a[b.STORE_CTA]=Q;a[b.MARKETPLACE_ID]=R;
a[b.WIDGET_TYPE]=S;a[b.WIDGET_GROUP_ID]=T;a[b.PAGE_TYPE]=U;a[b.PAGE_NUMBER]=O;return a}var d="sbv-search-widget",m=q,l=q,c=q,e=q,g=q,f=q,k=q,p=q,u=q,G=q,t=q,D=q,H=q,I=q,J=q,z=q,A=q,K=q,L=q,M=q,E=q,r=q,w=q,B=q,Q=q,R=q,V="https://unagi-na.amazon.com/1/events/com.amazon.eel.sbv.client.prod.events",P=q,S=q,T=q,U=q,O=q,N=q;this.withAttribution=function(a){d=a||"sbv-search-widget";return this};this.withSearchQuery=function(a){f=a;return this};this.withMetricsIdentifier=function(a){m=a;return this};this.withAdvertiserId=
function(a){l=a;return this};this.withCampaignId=function(a){c=a;return this};this.withContentHash=function(a){e=a;return this};this.withSlotId=function(a){g=a;return this};this.withWidgetIndex=function(a){k=a;return this};this.withDeviceEnv=function(a){p=a;return this};this.withDeviceOs=function(a){u=a;return this};this.withDeviceType=function(a){G=a;return this};this.withDevicePlatformVersion=function(a){t=a;return this};this.withDeviceModel=function(a){D=a;return this};this.withDeviceMake=function(a){H=
a;return this};this.withAppVersion=function(a){I=a;return this};this.withStage=function(a){J=a;return this};this.withClientId=function(a){z=a;return this};this.withWeblabs=function(a){A=a;return this};this.withLanguage=function(a){K=a;return this};this.withVideoPreviewImageSrc=function(a){L=a;return this};this.withVideoSrc=function(a){M=a;return this};this.withVideoType=function(a){E=a;return this};this.withHasAudio=function(a){r=a;return this};this.withStoreName=function(a){w=a;return this};this.withStoreUrl=
function(a){B=a;return this};this.withStoreCta=function(a){Q=a;return this};this.withMarketplaceId=function(a){R=a;return this};this.withSushiSourceGroupEndpoint=function(a){V=a||"https://unagi-na.amazon.com/1/events/com.amazon.eel.sbv.client.prod.events";return this};this.withAutomatedTestMetricsClient=function(a){P=a;return this};this.withWidgetType=function(a){S=a;return this};this.withWidgetGroupId=function(a){T=a;return this};this.withPageType=function(a){U=a;return this};this.withPageNumber=
function(a){if(a){var d=parseInt(a,10);if(!isNaN(d))return O=d,this}O=a;return this};this.build=function(){N=new h(d,V);P!==q&&N.setAutomatedTestMetricsClient(P);N.setDefaultEventAttributes(a());return N}}var c={VIEWED:"VIEWED",PROGRESS_FIVE_SECONDS:"PROGRESS_5_SEC",FIRST_QUARTILE:"FIRST_QUARTILE",MIDPOINT:"MIDPOINT",THIRD_QUARTILE:"THIRD_QUARTILE",COMPLETE:"COMPLETE",UNMUTE:"UNMUTE"},e={ACE_VIDEO_RESPONSE_RECEIVED:"AceVideoResponseReceived",AD_BLOCK_DETECTED:"AdBlockDetected",AD_RENDER_SUPPRESSED:"AdRenderSuppressed",
AUDIO_TOGGLE_ICON_DISPLAYED:"AudioToggleIconDisplayed",BLANK_SCREEN_LOAD_FAILURE:"BlankScreenLoadFailure",CALL_TO_ACTION_CLICKED:"CallToActionClicked",AD_FEEDBACK_KEYWORD_ENCODING_FAILURE:"AdFeedbackKeywordEncodingFailure",AD_FEEDBACK_LOAD_FAILED:"AdFeedbackLoadFailed",AD_FEEDBACK_LOAD_FAILED_FROM_ERR:"AdFeedbackLoadFailedFromErr",AD_FEEDBACK_LOAD_SUCCEEDED:"AdFeedbackLoadSucceeded",AD_FEEDBACK_POPOVER_OPENED:"AdFeedbackPopoverOpened",DUPE:"Dupe",DUPE_BY_CONTENT_HASH:"DupeByContentHash",DUPE_BY_ADVID_CAMPAIGNID:"DupeByAdvIdCampaignId",
DEBUG_INFO_COPIED_SUCCESS:"DebugInfoCopiedSuccess",DEBUG_INFO_COPIED_FAILURE:"DebugInfoCopiedFailure",DEBUG_INFO_COPIED_MESSAGE_SHOWN:"DebugInfoCopiedMessageShown",DEBUG_INFO_COPIED_MESSAGE_HIDDEN:"DebugInfoCopiedMessageHidden",HEADLINE_CLICKED:"HeadlineClicked",IMAGE_CLICKED:"ImageClicked",LINK_CLICKED:"LinkClicked",MISSING_VIDEO_FUNCTION:"MissingVideoFunction",NO_VIDEO_SRC_ON_ELEMENT:"NoVideoSrcOnElement",PLAY_BUTTON_CLICKED:"PlayButtonClicked",PLAY_BUTTON_SHOWN:"PlayButtonShown",PLAYBACK_COMPLETED:"PlaybackCompleted",
PREVIEW_IMAGE_LOAD_FAILURE:"PreviewImageLoadFailure",PREVIEW_IMAGE_LOAD_SUCCESS:"PreviewImageLoadSuccess",PRODUCT_CLICKED:"ProductClicked",PRODUCT_TITLE_CLICKED:"ProductTitleClicked",PRODUCT_REVIEW_COUNT_CLICKED:"ProductReviewCountClicked",PRODUCT_PRICE_CLICKED:"ProductPriceClicked",STORE_INGRESS_CLICKED:"StoreIngressClicked",TIME_TO_FIRST_FRAME:"TimeToFirstFrame",VIDEO_BUFFERING_ENDED:"VideoBufferingEnded",VIDEO_BUFFERING_STARTED:"VideoBufferingStarted",VIDEO_CLEARED_ON_HIDDEN_BROWSER:"VideoClearedOnHiddenBrowser",
VIDEO_CLICKED:"VideoClicked",VIDEO_DOMAIN_VERIFICATION_FAILURE:"VideoDomainVerificationFailure",VIDEO_DURATION_PLAYED:"VideoDurationPlayed",VIDEO_DURATION_TICKER_SHOWN:"VideoDurationTickerShown",VIDEO_LOADED_ON_VISIBLE_BROWSER:"VideoLoadedOnVisibleBrowser",VIDEO_OFF_SCREEN:"VideoOffScreen",VIDEO_ON_SCREEN:"VideoOnScreen",VIDEO_PAUSED:"VideoPaused",VIDEO_PAUSED_INITIATED:"VideoPausedInitiated",VIDEO_PLAYBACK_FAILURE:"VideoPlaybackFailure",VIDEO_PLAYBACK_INITIATED:"VideoPlaybackInitiated",VIDEO_PLAYBACK_STARTED:"VideoPlaybackStarted",
VIDEO_READY_FOR_PLAYBACK:"VideoReadyForPlayback",VIDEO_SOUND_OFF:"VideoSoundOff",VIDEO_SOUND_ON:"VideoSoundOn",VIDEO_VIEW:"VideoView",PLAYBACK_FAILED_TO_START_AFTER_PLAY:"PlaybackFailedToStartAfterPlay",VIDEO_ABORTED:"VideoAborted",VIDEO_SUSPENDED:"VideoSuspended",VIDEO_PLAY_PROMISE_REJECTED:"VideoPlayPromiseRejected",VIDEO_PLAY_PROMISE_NOT_SUPPORTED:"VideoPlayPromiseNotSupported",SLIDESHOW_WIDGET_RESPONSE_RECEIVED:"SlideshowWidgetResponseReceived",SLIDESHOW_CLICKED:"SlideshowClicked",SLIDESHOW_SWIPED:"SlideshowSwiped",
SLIDESHOW_ON_SCREEN:"SlideshowOnScreen",SLIDESHOW_OFF_SCREEN:"SlideshowOffScreen",SLIDESHOW_LOOP:"SlideshowLoop",SLIDESHOW_LOAD_COMPLETED:"SlideshowLoadCompleted",SLIDESHOW_LOAD_FAILED:"SlideshowLoadFailed",SLIDESHOW_IMAGE_LOAD_ERROR:"SlideshowImageLoadError",SLIDESHOW_IMAGE_LOAD_SUCCESS:"SlideshowImageLoadSuccess",VM_VIDEO_VIEWED:"ViewMetricsVideoViewed",VM_VIDEO_PROGRESS_FIVE_SECONDS:"ViewMetricsVideoProgressFiveSeconds",VM_VIDEO_FIRST_QUARTILE:"ViewMetricsVideoFirstQuartile",VM_VIDEO_MIDPOINT:"ViewMetricsVideoMidpoint",
VM_VIDEO_THIRD_QUARTILE:"ViewMetricsVideoThirdQuartile",VM_VIDEO_COMPLETE:"ViewMetricsVideoComplete",VM_VIDEO_UNMUTE:"ViewMetricsVideoUnmute",VM_POST_FAILURE:"ViewMetricsPostFailure"},b={APP_VERSION:"appVersion",CLIENT_ID:"clientId",SEARCH_QUERY:"searchQuery",CONTINUOUS_PLAYBACK_DURATION_MS:"continuousPlaybackDurationMs",DEVICE_MAKE:"deviceMake",DEVICE_MODEL:"deviceModel",DEVICE_ENV:"deviceEnv",DEVICE_OS:"deviceOs",DEVICE_TYPE:"deviceType",DEVICE_PLATFORM_VERSION:"devicePlatformVersion",DEBUG_INFO_CONTENT:"debugInfoContent",
DROPPED_FRAMES:"droppedFrames",LOGIC:"logic",REASON:"reason",ERROR_MESSAGE:"errorMessage",ERROR_CODE:"errorCode",EVENT_TYPE:"eventType",HAS_AUDIO:"hasAudio",LOAD_TIME_MS:"loadTimeMs",START_TIME_MS:"startTimeMs",END_TIME_MS:"endTimeMs",MARKETPLACE_ID:"marketplaceId",METRICS_SEQUENCE_NUMBER:"metricsSequenceNumber",METRICS_IDENTIFIER:"metricsIdentifier",ADVERTISER_ID:"advertiserId",CAMPAIGN_ID:"campaignId",CONTENT_HASH:"contentHash",NETWORK_TYPE:"networkType",PAGE_TYPE:"pageType",PAGE_NUMBER:"pageNumber",
PERCENT_DOWNLOADED:"percentDownloaded",RETRY_COUNT:"retryCount",LANGUAGE:"language",SLOT_ID:"slotId",SOUND_TOGGLE_METHOD:"soundToggleMethod",STAGE:"stage",STATUS_CODE:"statusCode",STORE_CTA:"storeCta",STORE_NAME:"storeName",STORE_URL:"storeUrl",TIME_ON_SCREEN_MS:"timeOnScreenMs",USER_AGENT:"userAgent",VIDEO_BOUNDRY_CROSSED_TIME_MS:"videoBoundaryCrossedTimeMs",VIDEO_CURRENT_TIME_MS:"videoCurrentTimeMs",VIDEO_SRC:"videoSrc",VIDEO_PREVIEW_IMAGE_SRC:"videoPreviewImageSrc",VIDEO_TOTAL_LENGTH_MS:"videoTotalLengthMs",
VIDEO_TYPE:"videoType",WAS_BUFFERING:"wasBuffering",WIDGET_INDEX:"widgetIndex",WEBLABS:"weblabs",WIDGET_TYPE:"widgetType",WIDGET_GROUP_ID:"widgetGroupId",SLIDESHOW_LOOP_COUNT:"slideshowLoopCount",SLIDESHOW_CURRENT_INDEX:"slideshowCurrentIndex",SLIDESHOW_TOTAL_SLIDES:"slideshowTotalSlides",VIEW_METRICS_FAILURE:"viewMetricsFailure"},k={n:1};return{DUPE_LOGIC:{SINGLE_PAGE:"SINGLE_PAGE",CROSS_PAGE:"CROSS_PAGE"},DUPE_REASON:{CONTENT_HASH:"CONTENT_HASH",CAMPAIGN_AND_ADV_ID:"CAMPAIGN_AND_ADV_ID"},EVENT_TYPES:e,
SOUND_TOGGLE_OFF_CAUSE:{ICON_TAP:"IconTap",VIDEO_OFF_SCREEN:"VideoOffScreen"},SOUND_TOGGLE_ON_CAUSE:{ICON_TAP:"IconTap"},DEFAULT_SUSHI_SOURCE_GROUP_ENDPOINT:"https://unagi-na.amazon.com/1/events/com.amazon.eel.sbv.client.prod.events",builder:function(){return new g}}});t.register("sbv-transportation-client",function(){var f=function(){},p=function(){function g(){if(u.XDomainRequest){var c=new u.XDomainRequest;c.onerror=f;c.ontimeout=f;c.onprogress=f;c.onload=f;c.timeout=0;return c}if(u.XMLHttpRequest){c=
new u.XMLHttpRequest;if(!("withCredentials"in c))throw"";return c}return null}return{send:function(c,e){if(e&&c){var b=g();if(!b)throw"";b.open("POST",c,!0);b.setRequestHeader&&b.setRequestHeader("Content-type","text/plain");b.send(e)}},isSupported:!0}}(),h=function(){return{send:function(g,c){if(g&&c&&!u.navigator.sendBeacon(g,c))throw"";},isSupported:!!u.navigator.sendBeacon}}();return{ajaxClient:p,beaconClient:h}});t.when("sbv-transportation-client","sbv-event-manager").register("sbv-sushi-client",
function(f,p){function h(c,e,b,k){this.endpoint=b;this.window=e;this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.eventSequence=this.lowPriorityTimer=this.highPriorityTimer=this.dictionaryIndex=this.batchSize=0;this.unloadHandlerCalled=!1;this.highPriorityFlushInterval=1E3;this.lowPriorityFlushInterval=1E4;this.transportationClient=f;var a=this;this.compressor=function(a){function d(b){if(b)switch(typeof b){case "number":return!(isNaN(b)||Infinity===b)&&b.toString().length>
a.dictionaryIndex.length;case "boolean":break;case "string":return b.length>a.dictionaryIndex.length;default:return!0}return!1}function b(d){a.eventsDictionary[d]="#"+a.dictionaryIndex++;a.reverseEventsDictionary[a.eventsDictionary[d]]=d;return a.eventsDictionary[d]}function c(e){if(d(e)){var f=0;e instanceof Array?f=2:e instanceof Function?f=null:e instanceof Object&&(f=1);switch(f){case 0:return a.eventsDictionary[e]?a.eventsDictionary[e]:b(e);case 2:for(var k=[],f=0;f<e.length;f++)k[f]=c(e[f]);
return k;case 1:f={};for(k in e)Object.prototype.hasOwnProperty.call(e,k)&&(f[a.eventsDictionary[k]?a.eventsDictionary[k]:b(k)]=-1===g.indexOf(k)?c(e[k]):e[k]);return f}}return e}return{compressData:c,buildPOSTObject:function(){return a.stringify({cs:{dct:a.reverseEventsDictionary},events:a.eventsQueue})}}}(this);this.onBeforeUnload=function(){!0!==a.unloadHandlerCalled&&(a.flush(a,!0),a.unloadHandlerCalled=!0)};this.stringify=function(a){try{return JSON.stringify(a)}catch(d){}return null};this.resetBatch=
function(){this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.highPriorityTimer=this.lowPriorityTimer=this.batchSize=this.dictionaryIndex=0};this.sendWithClient=function(a){if(null==this.endpoint||""===this.endpoint)this.ueCount("SushiClientEndpointMissing");else{if(a.isSupported){var d=this.compressor.buildPOSTObject();return a.send(this.endpoint,d)}throw"";}};this.sendWithPriority=function(){for(var a=0;a<arguments.length;a++){var d=arguments[a];try{return this.sendWithClient(d)}catch(b){}}return null};
this.flush=function(a,d){a.eventsQueue.length&&(d||!1!==a.window.navigator.onLine)&&(d=a.eventsQueue.length,a.sendWithPriority(a.transportationClient.beaconClient,a.transportationClient.ajaxClient),a.resetBatch(),a.ueCount("EventsSent",d))};this.startHighPriorityQueueTimer=function(){0===this.highPriorityFlushInterval?this.flush(this,!1):this.highPriorityTimer||(this.highPriorityTimer=setTimeout(this.flush,this.highPriorityFlushInterval,this,!1))};this.startLowPriorityQueueTimer=function(){this.lowPriorityTimer||
(this.lowPriorityTimer=setTimeout(this.flush,this.lowPriorityFlushInterval,this,!1))};this.generateMessageId=function(a,d){return a+"-"+d+"-"+this.eventSequence};this.getCurrentISODate=function(){var a=new Date,d=function(a){return 10>a?"0"+a:a};return Date.prototype.toISOString?a.toISOString():a.getUTCFullYear()+"-"+d(a.getUTCMonth()+1)+"-"+d(a.getUTCDate())+"T"+d(a.getUTCHours())+":"+d(a.getUTCMinutes())+":"+d(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"};
this.decorateEvent=function(a){a.timestamp=this.getCurrentISODate();a.sequence=this.eventSequence;a.messageId=this.generateMessageId(a.request_id,Date.now?Date.now():(new Date).getTime())};this.startTimers=function(a){a.n?this.startHighPriorityQueueTimer():this.startLowPriorityQueueTimer()};this.encodeEvent=function(a,d,b){d=d.length;(499===this.eventsQueue.length||524288<this.batchSize+d)&&this.flush(this,!0);this.batchSize+=d;a={data:this.compressor.compressData(a)};this.eventsQueue.push(a);this.startTimers(b)};
this.addEvent=function(a,d){this.decorateEvent(a,d);var b=this.stringify(a);return b?(this.encodeEvent(a,b,d),!0):!1};this.isValidAPIParam=function(a,d){return a&&-1<a.constructor.toString().indexOf(d)};this.isMaxCallsReached=function(){this.eventSequence++;1E3<this.eventSequence&&this.ueCount("SushiClientMaxCallsReached");return 1E3<this.eventSequence};this.isValidAPICall=function(a){return!this.isMaxCallsReached()&&this.isValidAPIParam(a,"Object")};this.ueCount=function(a,d){if("undefined"!==typeof ue&&
ue&&ue.count)return d=0===d?0:d||(ue.count(k+":"+a)||0)+1,ue.count(k+":"+a,d),d};this.processEvent=function(a,d){var b=this.unloadHandlerCalled=!1;this.options=d||{};this.isValidAPICall(a)&&(b=this.addEvent(a,this.options));b?this.ueCount("ClientEventsSuccess"):this.ueCount("ClientEventsFailed");return b};p.addEventListener(c,u,"beforeunload",100,this.onBeforeUnload);p.addEventListener(c,document,"visibilitychange",100,this.onBeforeUnload);p.addEventListener(c,u,"blur",100,this.onBeforeUnload);p.addEventListener(c,
u,"pagehide",100,this.onBeforeUnload);u.app||(u.app={});var d=u.app.willDisappear;u.app.willDisappear=function(){d&&d();a.onBeforeUnload()}}var g=["messageId","timestamp"];return{newClient:function(c,e,b,g){return new h(c,e,b,g)}}});t.when("A").register("sbv-automated-test-metrics-client",function(f){function p(f){this.videoSingleProduct=f;this.processEvent=function(g){var c=this.videoSingleProduct.data("AUTOMATED_TEST_METRICS_ATTR");c===q&&(c=[]);c.push(g);this.videoSingleProduct.data("AUTOMATED_TEST_METRICS_ATTR",
c)}}return{newClient:function(f){return new p(f)}}});t.when("A").register("sbv-platform-compatibility",function(f){function p(){return f.capabilities.isAmazonApp&&f.capabilities.ios}var h=null,g=navigator;return{isIOS:function(){return f.capabilities.ios},isIOSWebView:p,canUseViewWillDisappearToReportMetrics:function(){if(!p()||!h)return!1;var c=h.split(".");if(2>c.length)return!1;var e=parseInt(c[0]),c=parseInt(c[1]);return 13<e||13===e&&18<=c},setAppVersion:function(c){h=c},isSafari:function(){return!(!g.vendor||
!g.vendor.match(/apple/i))},isWebView:function(){return f.capabilities.isAmazonApp},_setNavigator:function(c){g=c}}});t.when("A").register("sbv-platform-placement",function(f){function p(c){return"loom-mobile-top-slot"===c||"loom-desktop-top-slot"===c}function h(c){return"loom-mobile-inline-slot"===c||"loom-desktop-inline-slot"===c}function g(c){return"loom-mobile-bottom-slot"===c||"loom-desktop-bottom-slot"===c}return{getAllUpperPlacementSbvAdsProps:function(c,e){var b=h(c),k=g(c);return[].slice.call(f.$(".sb-video-creative")).map(function(a){return JSON.parse(a.getAttribute("data-component-props"))}).filter(function(a){var d=
a.widgetGroupId;if(e===a.pageNumber){if(b)return p(d);if(k)return p(d)||h(d)}return!1})},isTop:p,isInline:h,isBottom:g}});t.when("A","sbv-video-single-content-mixin").register("sbv-single-product",function(f,p){var h=function(){this.init=function(g,c,e){f.$(g).find("a:not(.sbv-store-ingress-link)").click(function(){var b=e&&e.getVideoCurrentTimeMs&&e.getVideoCurrentTimeMs();c.reportProductClicked(b)});var b=f.$(g).find(".sbv-product-img");b.data("imgsrc")&&b.attr("src",b.data("imgsrc"));b=f.$(g).find(".faceout-product-title");
f.$(b).find("a").click(function(){c.reportProductTitleClicked()});b=f.$(g).find(".faceout-product-review");f.$(b).find("a").click(function(){c.reportProductReviewCountClicked()});g=f.$(g).find(".faceout-product-price");f.$(g).find("a").click(function(){c.reportProductPriceClicked()})}};f.mixin(h.prototype,p);return{initialize:function(g,c,e){var b=new h,k=f.$(g).find(".sbv-sponsored-label"),a=f.$(g).find(".sbv-ad-feedback").get(0);b.init(g,c,e);b.loadAdFeedback(c,"video-single-product",k,a);return b}}});
t.when("A").register("sbv-store-ingress",function(f){function p(){this.init=function(h,g,c){f.$(h).find("a").click(function(){g.reportStoreIngressClicked(c&&c.getVideoCurrentTimeMs())})}}return{initialize:function(f,g,c){(new p).init(f,g,c)}}});t.register("sbv-retryable",function(){return function(f,p,h,g){function c(){0<k?(k--,e()):(a.cancel(),b())}var e=f,b=g,k=p,a=this;this._init=function(){e();this._intervalID=setInterval(c,h)};this.cancel=function(){clearInterval(this._intervalID)};this._init()}});
t.when("A","sbv-video-mixin").register("sbv-video",function(f,p){var h=function(){this.metricsManager=this.$muteClickRegion=this.$unmuteIcon=this.$muteIcon=this.videoPlayer=null;this.onScreenStartTime=0;this.videoTag=null};f.mixin(h.prototype,p);return{initialize:function(g,c,e,b){var f=new h;f.init(g,c,e,b);return f}}});t.when("A","sbv-viewability-manager","sbv-metrics-manager","sbv-video-player-builder","sbv-platform-compatibility","3p-promise","sbv-adblock-detector").register("sbv-video-mixin",
function(f,p,h,g,c,e,b){var k=0,a={isViewedLogged:!1,isProgressFiveSecondsLogged:!1,isFirstQuartileLogged:!1,isMidpointLogged:!1,isThirdQuartileLogged:!1,isCompleteLogged:!1,isUnmuteLogged:!1};return{load:function(){this.videoPlayer.load()},toggleAudio:function(){var a=!this.videoPlayer.isMuted();this.setMuteStatus(a,a?h.SOUND_TOGGLE_OFF_CAUSE.ICON_TAP:h.SOUND_TOGGLE_ON_CAUSE.ICON_TAP)},updateMuteClickRegionAriaPressed:function(){var a="true"===this.$muteClickRegion.attr("aria-pressed");this.$muteClickRegion.attr("aria-pressed",
!a)},setMuteButtonStatus:function(a){var b=this.$muteIcon,c=this.$unmuteIcon;a?(b.css("fill-opacity",1),c.css("fill-opacity",0)):(b.css("fill-opacity",0),c.css("fill-opacity",1))},setMuteStatus:function(a,b){var c=this.videoPlayer,e=this.metricsManager;this.setMuteButtonStatus(a);a?(c.mute(),e&&e.reportVideoSoundOff(c.getCurrentTimeMs(),b)):(c.unmute(),e&&e.reportVideoSoundOn(c.getCurrentTimeMs(),b))},onBrowserVisibilityChange:function(a){if(c.isIOSWebView()){var b=this.videoPlayer;a?b.loadVideoOnBrowserVisible():
b.clear()}},initPreviewImage:function(){var a=this.videoTag.dataset.videopreviewsrc;this.videoTag.getAttribute("poster")!==a&&this.videoTag.setAttribute("poster",a)},displayMuteClickRegion:function(a){a?(this.$muteClickRegion.addClass("aok-block"),this.$muteClickRegion.removeClass("aok-hidden"),this.metricsManager.reportAudioToggleIconDisplayed()):(this.$muteClickRegion.addClass("aok-hidden"),this.$muteClickRegion.removeClass("aok-block"))},displayDurationTicker:function(a){this.$durationTicker&&
this.$durationTicker.length&&(a?(this.$durationTicker.removeClass("aok-hidden"),this.metricsManager.reportDurationTickerDisplayed()):this.$durationTicker.addClass("aok-hidden"))},showPlayButton:function(a){var b=this.attribution;a?(this.$playButtonClickRegion.removeClass("aok-hidden"),this.metricsManager.reportPlayButtonShown()):(this.$playButtonClickRegion.addClass("aok-hidden"),p.registerElement(b,this.videoTag,.5,!0,!0,!0,this.onFiftyPercentViewability.bind(this)),p.registerElement(b,this.videoTag,
.01,!0,!0,!0,this.onOnePercentViewability.bind(this),{onBrowserVisibilityChange:this.onBrowserVisibilityChange.bind(this)}))},showDebugInfoCopiedHint:function(a){a?(this.$debugInfoCopiedHint.addClass("aok-block"),this.$debugInfoCopiedHint.removeClass("aok-hidden"),this.metricsManager.reportDebugInfoCopiedMessageShown()):(this.$debugInfoCopiedHint.addClass("aok-hidden"),this.$debugInfoCopiedHint.removeClass("aok-block"),this.metricsManager.reportDebugInfoCopiedMessageHidden())},copyDebugInfoToClipboard:function(){var a=
this,b=this.metricsManager;if(navigator&&navigator.clipboard&&navigator.clipboard.writeText){var c=JSON.stringify(this.metricsManager.getDebugMetricAttributes());navigator.clipboard.writeText(c).then(function(){b.reportDebugInfoCopiedSuccess(c);a.showDebugInfoCopiedHint(!0);setTimeout(function(){a.showDebugInfoCopiedHint(!1)},3E3)}).catch(function(a){b.reportDebugInfoCopiedFailure(a.message)})}else b.reportDebugInfoCopiedFailure("No Supports Clipboard API")},manualPlay:function(){var a=this.videoPlayer,
b=this.metricsManager;this.showPlayButton(!1);a.play();b.reportPlayButtonClicked(a.getCurrentTimeMs());b.reportVideoPlaybackInitiated(a.getCurrentTimeMs())},onOnePercentViewability:function(a,b){a=this.videoPlayer;var c=this.metricsManager;b?(this.onScreenStartTime=this.getCurrentTimeMs(),c.reportVideoOnScreen(a.getPercentDownloaded())):(a.isMuted()||this.setMuteStatus(!0,h.SOUND_TOGGLE_OFF_CAUSE.VIDEO_OFF_SCREEN),b=this.getCurrentTimeMs()-this.onScreenStartTime,c.reportVideoOffScreen(b,0!=this.videoBufferingStartTime,
a.getCurrentTimeMs()),this.onScreenStartTime=0,a.seekToStart(),a.resetContinuousPlaybackDurationMs())},onFiftyPercentViewability:function(a,b){a=this.videoPlayer;var e=this.metricsManager;b?(a.play(),a.resetContinuousPlaybackDurationMs(),e.reportVideoPlaybackInitiated(a.getCurrentTimeMs()),this.viewSessionStartTime=this.getCurrentTimeMs()):(a.pause(),e.reportVideoPauseInitiated(a.getCurrentTimeMs()),e.reportVideoView(a.getContinuousPlaybackDurationMs(),c.isIOSWebView()),a.resetContinuousPlaybackDurationMs(),
this.viewSessionBufferingDuration=0)},onVideoReadyForPlayback:function(a,b,c,e,f,g){this.metricsManager.reportVideoReadyForPlayback(a,b,c,e,f,g);this.onDurationLeftUpdated(0,e)},onVideoPlaybackFailure:function(a,b,c){this.displayMuteClickRegion(!1);this.displayDurationTicker(!1);this.metricsManager.reportVideoPlaybackFailure(a,c,b)},onVideoPlaying:function(a,b,c){this.displayMuteClickRegion(!0);this.displayDurationTicker(!0);this.metricsManager.reportVideoPlaybackStarted(a,b,c)},onVideoPlaybackPaused:function(a,
b,c){this.displayMuteClickRegion(!1);this.displayDurationTicker(!1);this.metricsManager.reportVideoPaused(a,b,c)},onVideoBufferingStarted:function(a,b,c){var e=this.metricsManager;this.videoBufferingStartTime=this.getCurrentTimeMs();e.reportVideoBufferingStarted(a,b,c)},getCurrentTimeMs:function(){return Date.now()},onVideoBufferingEnded:function(a,b,c){var e=this.metricsManager;this.videoBufferingStartTime=0;e.reportVideoBufferingEnded(a,b,c)},onTimeToFirstFrame:function(a,b,c,e,f){this.metricsManager.reportTimeToFirstFrame(a,
b,c,e,f)},onPlaybackCompleted:function(d,b,c){this.metricsManager.reportPlaybackCompleted(d,b);a.isCompleteLogged||(a.isCompleteLogged=!0,this.metricsManager.reportViewMetricsVideoComplete(c))},onDurationPlayed:function(a,b,c){this.metricsManager.reportVideoDurationPlayed(a,b,c)},onContinuousDurationPlayed:function(a){this.metricsManager.reportVideoView(a,!0)},logClick:function(){var a=this.videoPlayer,b=this.metricsManager;b&&b.reportVideoClicked(a.getCurrentTimeMs())},getVideoCurrentTimeMs:function(){return this.videoPlayer.getCurrentTimeMs()},
onVideoAborted:function(a){var b=this.metricsManager;b&&b.reportVideoAborted(a)},onVideoSuspended:function(a){var b=this.metricsManager;b&&b.reportVideoSuspended(a)},onDurationLeftUpdated:function(a,b){this.$durationTickerSeconds&&this.$durationTickerSeconds.length&&(a=("0"+Math.floor((b-a)/1E3)).slice(-2),!isNaN(a)&&isFinite(a)&&this.$durationTickerSeconds.html(a))},onVideoUnmute:function(b){a.isUnmuteLogged||(a.isUnmuteLogged=!0,this.metricsManager.reportViewMetricsVideoUnmute(b))},onVideoViewMetricsEvent:function(b,
c,e){if(!a.isViewedLogged&&2E3<=b){a.isViewedLogged=!0;var f=p.getRatioInView(this.videoTag);this.metricsManager.reportViewMetricsVideoViewed(e,f,b)}!a.isProgressFiveSecondsLogged&&5E3<=b&&(a.isProgressFiveSecondsLogged=!0,this.metricsManager.reportViewMetricsVideoProgressFiveSeconds(e));!a.isFirstQuartileLogged&&b>=.25*c&&(a.isFirstQuartileLogged=!0,this.metricsManager.reportViewMetricsVideoFirstQuartile(e));!a.isMidpointLogged&&b>=.5*c&&(a.isMidpointLogged=!0,this.metricsManager.reportViewMetricsVideoMidpoint(e));
!a.isThirdQuartileLogged&&b>=.75*c&&(a.isThirdQuartileLogged=!0,this.metricsManager.reportViewMetricsVideoThirdQuartile(e))},onVideoPlayPromiseRejected:function(a){var b=this.metricsManager;c.isIOS()&&null!==a&&""!==a&&a.startsWith("NotAllowedError")&&this.showPlayButton(!0);b&&b.reportVideoPlayPromiseRejected(a)},onVideoPlayPromiseNotSupported:function(){var a=this.metricsManager;a&&a.reportVideoPlayPromiseNotSupported()},init:function(d,e,l,n){function h(a,b,d,c,e,f){r.onVideoReadyForPlayback(a,
b,d,c,e,f)}function u(a,b,d,c,e){r.onTimeToFirstFrame(a,b,d,c,e)}function v(a,b,d){r.onVideoPlaybackFailure(a,b,d)}function t(a,b,d){r.onVideoPlaying(a,b,d)}function C(a,b,d){r.onVideoPlaybackPaused(a,b,d)}function F(a,b,d){r.onVideoBufferingStarted(a,b,d)}function G(a,b,d){r.onVideoBufferingEnded(a,b,d)}function W(a,b){r.onPlaybackCompleted(a,b,n)}function D(a,b,d){r.onDurationPlayed(a,b,d)}function H(a){r.onContinuousDurationPlayed(a)}function I(a){r.onVideoAborted(a)}function J(a){r.onVideoSuspended(a)}
function z(a,b){r.onDurationLeftUpdated(a,b);r.onVideoViewMetricsEvent(a,b,n)}function A(a){r.onVideoPlayPromiseRejected(a)}function K(){r.onVideoPlayPromiseNotSupported()}function L(a,b){r.onOnePercentViewability(a,b)}function M(a,b){r.onFiftyPercentViewability(a,b)}function E(){r.load();p.registerElement(d,r.videoTag,.5,!0,!0,!0,M);p.registerElement(d,r.videoTag,.01,!0,!0,!0,L,{onBrowserVisibilityChange:r.onBrowserVisibilityChange.bind(r)})}e=f.$(e);this.videoTag=e.find("video:first").get(0);var r=
this;r.attribution=d;r.metricsManager=l;a={isViewedLogged:!1,isProgressFiveSecondsLogged:!1,isFirstQuartileLogged:!1,isMidpointLogged:!1,isThirdQuartileLogged:!1,isCompleteLogged:!1,isUnmuteLogged:!1};if(this.videoTag===q||null===this.videoTag||this.videoTag.load===q||null===this.videoTag.load)l.reportMissingVideoFunction(this.videoTag===q||null===this.videoTag?"videoTag is undefined":this.videoTag.outerHTML?this.videoTag.outerHTML:"load function is undefined and outerHTML is not supported");else{r.initPreviewImage();
var w=g.builder(this.videoTag).withVideoReadyForPlaybackHandler(h).withTimeToFirstFrameHandler(u).withVideoPlaybackFailureHandler(v).withVideoPlayingHandler(t).withVideoPlaybackPausedHandler(C).withPlaybackCompletedHandler(W).withVideoBufferingStartedHandler(F).withVideoBufferingEndedHandler(G).withVideoPlayedToBoundaryHandler(2E3,D).withVideoPlayedToBoundaryHandler(15E3,D).withVideoPlaybackFailedAfterPlayErrorCallback(function(){l.reportPlaybackFailedToStartAfterPlay()}).withVideoClearedOnHiddenBrowser(function(){l.reportVideoClearedOnHiddenBrowser()}).withVideoLoadedOnVisibleBrowser(function(){l.reportVideoLoadedOnVisibleBrowser()}).withVideoAbortedHandler(I).withVideoSuspendedHandler(J).withTimeUpdateHandler(z).withVideoPlayPromiseRejectedHandler(A).withVideoPlayPromiseNotSupportedHandler(K);
c.isIOSWebView()&&!c.canUseViewWillDisappearToReportMetrics()&&(w=w.withVideoPlayedToContinuousBoundaryHandler(2E3,H));var B=w.build();r.videoPlayer=B;e.find("a").click(function(){r.logClick()});w=e.find('[data-itemid\x3d"sbv-video-mute-click-region"]');r.$muteClickRegion=w;r.$muteIcon=e.find('[data-itemid\x3d"sbv-video-mute-icon"]');r.$unmuteIcon=e.find('[data-itemid\x3d"sbv-video-unmute-icon"]');r.setMuteButtonStatus(B.isMuted());w.click(function(){r.updateMuteClickRegionAriaPressed();r.toggleAudio();
r.$debugInfoCopiedHint&&r.$debugInfoCopiedHint.length&&(k+=1,5===k&&(r.copyDebugInfoToClipboard(),k=0));if(!B.isMuted())r.onVideoUnmute(n)});w.keydown(function(a){if(" "===a.key||"Enter"===a.key||"Spacebar"===a.key)a.preventDefault(),r.updateMuteClickRegionAriaPressed(),r.toggleAudio()});w=e.find(".sbv-duration-ticker-seconds");r.$durationTickerSeconds=w;w=e.find(".sbv-duration-ticker-container");r.$durationTicker=w;w=e.find('[data-itemid\x3d"sbv-video-play-click-region"]');r.$playButtonClickRegion=
w;w.click(function(){r.manualPlay()});e=e.find(".sbv-video-debug-info-copied-message-container");r.$debugInfoCopiedHint=e;(e=b.init())?e.then(function(){navigator.onLine&&(r.load(),r.showPlayButton(!0),l.reportAdBlockDetected())}).catch(function(){E()}):E()}}}});t.when("A","sbv-slideshow-mixin").register("sbv-slideshow",function(f,p){var h=function(){this.metricsManager=this.carousel=q;this.numOfSlides=this.currentSlideIndex=0};f.mixin(h.prototype,p);return{initialize:function(f,c){var e=new h;e.init(f,
c);c.reportSlideshowLoadCompleted(e.numOfSlides);return e}}});t.when("A","a-carousel-framework","sbv-viewability-manager","sbv-metrics-manager").register("sbv-slideshow-mixin",function(f,p,h,g){var c=0,e=0,b=0,k=this,a=function(a,b){k.carousel===q?k.metricsManager.reportSlideshowLoadFailed(k.numOfSlides,"slideshow.carousel is undefined"):b?(e=f.interval(function(){c+=1},1),k.metricsManager.reportSlideshowOnScreen(k.numOfSlides),d(!0)):(k.status="IDLE",k.metricsManager.reportSlideshowOffScreen(k.numOfSlides,
c),clearInterval(e),c=0,d(!1))},d=function(a){a&&k.autoRotate===q?k.autoRotate=f.interval(function(){k.status="AUTO_PLAYING";k.carousel.gotoNextPage({accessibleSafe:!0})},2500):(b=0,k.autoRotate!==q&&(clearInterval(k.autoRotate),k.autoRotate=q))};return{onFiftyPercentViewability:a,autoPlay:d,init:function(c,e){var g=f.$(c),q=g.get(0);k=this;k.metricsManager=e;p.onInit("sbv-slideshow-carousel",function(c){k.carousel=c;k.numOfSlides=k.carousel.getAttr("totalPages");k.status="IDLE";c=k.carousel.dom.$viewport;
f.on("a:pan-horizontal:"+c[0].id,function(a){k.status="SWIPING";d(!1);a.ended&&d(!0)});c.bind(f.action.end,function(a){"SWIPING"===k.status&&k.metricsManager.reportSlideshowSwiped(k.numOfSlides);d(!0)});g.find("a").click(function(){k.metricsManager.reportSlideshowClicked(k.numOfSlides,k.currentSlideIndex)});f.on("a:carousel:sbv-slideshow-carousel:change:pageNumber",function(a){var d=a.newValue-1;k.currentSlideIndex=d;var c=a.oldValue-1;0===d&&c===k.numOfSlides-1&&(b+=1,k.metricsManager.reportSlideshowLoop(k.numOfSlides,
b));f.$(".sbv-slideshow-pagination-container").each(function(){f.$(this).children("ul").children("li:eq("+c+")").removeClass("a-selected");f.$(this).children("ul").children("li:eq("+d+")").addClass("a-selected")})});h.registerElement(this.attribution,q,.5,!0,!0,!0,a)});return this}}});t.when("A","sbv-multi-brand-video-carousel-mixin").register("sbv-multi-brand-video-carousel",function(f,p){var h=function(){this.currentPlayingIndex=this.mbvCarouselItemElements=q};f.mixin(h.prototype,p);return{initialize:function(f,
c,e,b){var k=new h;k.init(f,c,e,b);return k}}});t.when("A","a-carousel-framework","sbv-video","sbv-single-product","sbv-viewability-manager","sbv-metrics-manager").register("sbv-multi-brand-video-carousel-mixin",function(f,p,h,g,c,e){var b=this,k=function(a){a=a.newValue-1;var c=b.mbvCarouselItemElements[b.currentPlayingIndex].video;c.onFiftyPercentViewability(0,!1);c.onOnePercentViewability(0,!1);c=b.mbvCarouselItemElements[a].video;c.onOnePercentViewability(1,!0);c.onFiftyPercentViewability(1,!0);
b.currentPlayingIndex=a},a=function(a,c,e,f){a.get().reduce(function(a,b){var d=b.getElementsByClassName("sbv-video")[0],d=h.initialize(e,d,c,f),k=b.getElementsByClassName("sbv-product")[0],k=g.initialize(k,c,d);a[b.dataset.mbvIndex]={video:d,product:k};return a},b.mbvCarouselItemElements)};return{init:function(d,c,e,g){b.mbvCarouselItemElements={};b.currentPlayingIndex=0;var h=d.find(".sbv-mbv-carousel-element");p.onInit("mbv-carousel",function(b){a(h,c,e,g);f.on("a:carousel:mbv-carousel:change:pageNumber",
k)});return this},onCarouselPageChange:k,initializeCarouselElements:a,getMbvCarouselItemElements:function(){return b.mbvCarouselItemElements}}});t.when("A").register("sbv-page-state",function(f){function p(g,c){var e=h();e[g]=c;f.state("sb-video-state",e)}function h(){return f.state("sb-video-state")||{}}return{addItem:p,getItem:function(f){return h()[f]},getState:h,removeItem:function(g){var c=h();delete c[g];f.state("sb-video-state",c)},updateItem:p}});"use strict";t.when("sbv-retryable","sbv-platform-compatibility").register("sbv-video-player-builder",
function(f,p){function h(c){var a=this,d=0,e=0;this._videoElement=c;this._onVideoBufferingEnded=this._onVideoBufferingStarted=this._onPlaybackCompleted=this._onPlaybackPaused=this._onVideoPlaying=this._onVideoPlaybackFailure=this._onTimeToFirstFrame=this._onVideoReadyForPlayback=q;this._lastOnTimeUpdateCurrentTimeMs=0;this._boundaryChecks=[];this._continuousDurationBoundaryChecks=[];this._retryable=null;this._registerEventListeners=function(){var c=a._videoElement;c.oncanplay=function(){return a._handleVideoReadyForPlaybackEvent()};
c.onerror=function(){!a._assetLoaded&&3>a._retryLoadCount?(a._retryLoadCount++,setTimeout(a._videoElement.load.bind(a._videoElement),2E3)):a._handleVideoPlaybackFailureEvent()};c.onplaying=function(){a._handleFirstFramePlayedEvent();a._playbackstate===b.BUFFERING&&a._onVideoBufferingEnded(a.getCurrentTimeMs(),a.getPercentDownloaded(),a.getDroppedFrames());a._playbackstate!==b.END&&a._onVideoPlaying(a.getCurrentTimeMs(),a.getPercentDownloaded(),a.getDroppedFrames());a._playbackstate=b.PLAYING};c.onpause=
function(){a._videoElement.currentTime!==a._videoElement.duration&&(a._playbackstate=b.PAUSED,a._onPlaybackPaused(a.getCurrentTimeMs(),a.getPercentDownloaded(),a.getDroppedFrames()))};c.onended=function(){a._playbackstate=b.END;var c=a.getDurationMs();e+=c-d;d=0;a._onPlaybackCompleted(a.getDurationMs(),a.getDroppedFrames());a._playInternal()};c.onwaiting=function(){a._playbackstate=b.BUFFERING;a._onVideoBufferingStarted(a.getCurrentTimeMs(),a.getPercentDownloaded(),a.getDroppedFrames())};c.ontimeupdate=
function(){a.cancelPlayRetryable();var b=a.getCurrentTimeMs(),d=a.getDurationMs(),c=a.getContinuousPlaybackDurationMs();a._continuousDurationBoundaryChecks.forEach(function(a){a.reportIfBoundaryCrossed(c)});a._boundaryChecks.forEach(function(d){d.reportIfBoundaryCrossed(a._lastOnTimeUpdateCurrentTimeMs,b,a.getDurationMs(),a.getPercentDownloaded(),a.getDroppedFrames())});a._lastOnTimeUpdateCurrentTimeMs=b;a._onTimeUpdated(b,d)};c.onabort=function(){var b=a.getCurrentTimeMs();a._onAborted(b)};c.onsuspend=
function(){var b=a.getCurrentTimeMs();a._onSuspended(b)}};this._getDateTime=function(){return(new Date).getTime()};this._playInternal=function(){a._initiatedPlayTime||(a._initiatedPlayTime=a._getDateTime());var b=a._videoElement.play();b?b.catch(function(b){var d="Unknown";"string"===typeof b?d=b:b instanceof DOMException&&(d=b.name+": "+b.message);a._onVideoPlayPromiseRejected(d)}):a._onVideoPlayPromiseNotSupported()};this.cancelPlayRetryable=function(){a._retryable&&(a._retryable.cancel(),a._retryable=
null)};this._init=function(){a._playbackstate=b.INITIATED;a._loadStartTime=a._getDateTime();a._assetLoaded=!1;a._retryLoadCount=0;a._firstFramePlayed=!1;a._initiatedPlayTime=q};this._init();this._registerEventListeners();this._handleVideoReadyForPlaybackEvent=function(){if(!a._assetLoaded){var b=a._loadStartTime,d=a._getDateTime();a._onVideoReadyForPlayback(d-b,a._retryLoadCount,a.getPercentDownloaded(),a.getDurationMs(),b,d);a._assetLoaded=!0}};this._handleFirstFramePlayedEvent=function(){if(!a._firstFramePlayed){var b=
a._initiatedPlayTime,d=a._getDateTime();a._onTimeToFirstFrame(d-b,a.getPercentDownloaded(),a.getDroppedFrames(),b,d);a._firstFramePlayed=!0}};this._handleVideoPlaybackFailureEvent=function(){var b=a._videoElement;if(b.error){var d="UNKNOWN";if(b.error.code)switch(b.error.code){case 1:d="MEDIA_ERR_ABORTED";break;case 2:d="MEDIA_ERR_NETWORK";break;case 3:d="MEDIA_ERR_DECODE";break;case 4:d="MEDIA_ERR_SRC_NOT_SUPPORTED";break;default:d=b.error.code.toString()}a._onVideoPlaybackFailure(a.getCurrentTimeMs(),
d,b.error.message)}};this.addVideoReadyForPlaybackListener=function(b){a._onVideoReadyForPlayback=b;4==a._videoElement.readyState&&(a._onVideoReadyForPlayback(0,0,a.getPercentDownloaded(),a.getDurationMs(),0,0),a._assetLoaded=!0)};this.addVideoPlaybackFailureListener=function(b){a._onVideoPlaybackFailure=b;if(a._videoElement.error&&a._videoElement.error.code)a._videoElement.onerror()};this.play=function(){p.isIOS()?(a._retryable&&a.cancelPlayRetryable(),a._retryable=new f(a._playInternal,10,200,function(){a._assetLoaded&&
null!=a._playbackFailedAfterPlayErrorCallback&&a._playbackFailedAfterPlayErrorCallback()})):a._playInternal()};this.pause=function(){a.cancelPlayRetryable();a._videoElement.pause()};this.seekToStart=function(){var b=a.getCurrentTimeMs();e+=b-d;d=0;a._lastOnTimeUpdateCurrentTimeMs=0;a._videoElement.currentTime=0};this.mute=function(){a._videoElement.muted=!0};this.unmute=function(){a._videoElement.muted=!1};this.isMuted=function(){return a._videoElement.muted};this.getCurrentTimeMs=function(){return Math.round(1E3*
a._videoElement.currentTime)};this.getDurationMs=function(){return Math.round(1E3*a._videoElement.duration)};this.getDroppedFrames=function(){return a._videoElement.getVideoPlaybackQuality?a._videoElement.getVideoPlaybackQuality().droppedVideoFrames:a._videoElement.webkitDroppedFrameCount!=q?a._videoElement.webkitDroppedFrameCount:-1};this.getContinuousPlaybackDurationMs=function(){return e+(a.getCurrentTimeMs()-d)};this.resetContinuousPlaybackDurationMs=function(){var b=a.getCurrentTimeMs();e=0;
d=b===a.getDurationMs()?0:b;a._continuousDurationBoundaryChecks.forEach(function(a){a.resetReported()})};this.getPercentDownloaded=function(){var b=a._videoElement.buffered,d=0;if(b){for(var c=0;c<b.length;c++)d+=b.end(c)-b.start(c);return d/a._videoElement.duration}return 0};this.load=function(){a._videoElement.load()};this.loadVideoOnBrowserVisible=function(){var b=a._videoElement.dataset.videoSource;!a._videoElement.src&&b&&(a._videoElement.src=b,a.load(),a._onVideoLoadedOnVisibleBrowser())};this.clear=
function(){a._videoElement.dataset.videoSource=a._videoElement.src;a._videoElement.removeAttribute("src");a.load();a._onVideoClearedOnHiddenBrowser()}}function g(b,a){this.reportIfBoundaryCrossed=function(d,c,e,f,g){!isNaN(b)&&0<=b&&b<=e&&(d<=c?b>d&&b<=c&&a(b,f,g):(0<b&&b<=c||b>d&&b<=e)&&a(b,f,g))}}function c(b,a){var d=!1;this.resetReported=function(){d=!1};this.reportIfBoundaryCrossed=function(c){var e;if(e=!d)e=!isNaN(b)&&0<=b&&b<c;e&&(d=!0,a(c))}}function e(b){var a=this;this._videoPlayer=new h(b);
this.withVideoReadyForPlaybackHandler=function(b){a._videoPlayer.addVideoReadyForPlaybackListener(b);return a};this.withTimeToFirstFrameHandler=function(b){a._videoPlayer._onTimeToFirstFrame=b;return a};this.withVideoPlaybackFailureHandler=function(b){a._videoPlayer.addVideoPlaybackFailureListener(b);return a};this.withVideoPlayingHandler=function(b){a._videoPlayer._onVideoPlaying=b;return a};this.withVideoPlaybackPausedHandler=function(b){a._videoPlayer._onPlaybackPaused=b;return a};this.withPlaybackCompletedHandler=
function(b){a._videoPlayer._onPlaybackCompleted=b;return a};this.withVideoBufferingStartedHandler=function(b){a._videoPlayer._onVideoBufferingStarted=b;return a};this.withVideoBufferingEndedHandler=function(b){a._videoPlayer._onVideoBufferingEnded=b;return a};this.withVideoPlayedToBoundaryHandler=function(b,c){a._videoPlayer._boundaryChecks.push(new g(b,c));return a};this.withVideoPlayedToContinuousBoundaryHandler=function(b,e){a._videoPlayer._continuousDurationBoundaryChecks.push(new c(b,e));return a};
this.withVideoPlaybackFailedAfterPlayErrorCallback=function(b){a._videoPlayer._playbackFailedAfterPlayErrorCallback=b;return a};this.withVideoAbortedHandler=function(b){a._videoPlayer._onAborted=b;return a};this.withVideoSuspendedHandler=function(b){a._videoPlayer._onSuspended=b;return a};this.withTimeUpdateHandler=function(b){a._videoPlayer._onTimeUpdated=b;return a};this.withVideoPlayPromiseRejectedHandler=function(b){a._videoPlayer._onVideoPlayPromiseRejected=b;return a};this.withVideoPlayPromiseNotSupportedHandler=
function(b){a._videoPlayer._onVideoPlayPromiseNotSupported=b;return a};this.withVideoClearedOnHiddenBrowser=function(b){a._videoPlayer._onVideoClearedOnHiddenBrowser=b;return a};this.withVideoLoadedOnVisibleBrowser=function(b){a._videoPlayer._onVideoLoadedOnVisibleBrowser=b;return a};this.build=function(){var b=a._videoPlayer;if(b._onVideoReadyForPlayback&&b._onTimeToFirstFrame&&b._onVideoPlaybackFailure&&b._onVideoPlaying&&b._onPlaybackPaused&&b._onPlaybackCompleted&&b._onVideoBufferingStarted&&
b._onVideoBufferingEnded&&b._onAborted&&b._onSuspended&&b._onTimeUpdated&&b._onVideoPlayPromiseRejected&&b._onVideoPlayPromiseNotSupported)return a._videoPlayer;throw Error("Need implements all event listeners");}}var b={PLAYING:"playing",PAUSED:"paused",BUFFERING:"buffering",INITIATED:"initiated",END:"ended"};return{builder:function(b){return new e(b)}}});t.register("sbv-event-manager",function(){function f(f){var c=0,e;for(e in f)c++;return c}function p(f,c,e){return function(b){h[c]&&h[c][e]&&
h[c][e].listeners.forEach(function(c){if(c.callback)try{c.callback(b)}catch(a){t.log(a&&a.message||"Unknown error in callback.","ERROR",f),ue&&ue.count&&ue.count("sbv-js-errors",(ue.count("sbv-js-errors")||0)+1)}})}}var h={};return{addEventListener:function(f,c,e,b,k){h[c]||(h[c]={});h[c][e]||(h[c][e]={listeners:[],generatedCallback:p(f,c,e)},c.addEventListener(e,h[c][e].generatedCallback));h[c][e].listeners.push({priority:b,callback:k});h[c][e].listeners.sort(function(a,b){return a.priority-b.priority})},
removeEventListener:function(g,c,e,b){h[g]&&h[g][c]&&(h[g][c].listeners=h[g][c].listeners.filter(function(c){return c.priority!==e||c.callback!==b}),0===h[g][c].listeners.length&&(g.removeEventListener(c,h[g][c].generatedCallback),delete h[g][c],f(h[g])&&delete h[g]))}}});"use strict";t.when("A","amzn-safe-frame-viewability","sbv-platform-compatibility","sbv-event-manager").register("sbv-viewability-manager",function(f,p,h,g){function c(a){return(a=p.geom(a))&&a.self&&a.self.iv||0}function e(a,b){a.isInView=
b;a.callback(a.ratio,b);a.recurring||q(a.element,a.ratio,a.dispatchOnElementInView,a.dispatchOnElementOutOfView,a.recurring)}function b(a,b){a.dispatchOnElementInView&&b>=a.ratio&&!a.isInView&&e(a,!0);a.dispatchOnElementOutOfView&&b<a.ratio&&a.isInView&&e(a,!1)}function k(a){b(a,0)}function a(a){var d=c(a.element);b(a,d)}function d(){v.forEach(k)}function m(){v.forEach(a)}function l(){var a=document.hidden;a?d():setTimeout(m,50);v.forEach(function(b){if(b.options&&b.options.onBrowserVisibilityChange)b.options.onBrowserVisibilityChange(!a)})}
function n(){d();m()}function q(a,b,c,e,k){var p=v.length;v=v.filter(function(d){return!(d.element===a&&d.ratio===b&&d.dispatchOnElementInView===c&&d.dispatchOnElementOutOfView===e&&d.recurring===k)});0===v.length&&(f.off("afterReady",x),f.off(f.constants.BROWSER_EVENTS.SCROLL,x),f.off(f.constants.BROWSER_EVENTS.RESIZE,x),f.off(f.constants.BROWSER_EVENTS.ORIENTATION_CHANGE,x),g.removeEventListener(document,"visibilitychange",1,l),g.removeEventListener(u,"beforeunload",1,d),h.isWebView()||(g.removeEventListener(u,
"focus",1,m),g.removeEventListener(u,"blur",1,d)),h.isSafari()&&!h.isWebView()&&(g.removeEventListener(u,"pagehide",1,d),g.removeEventListener(u,"pageshow",1,m),g.removeEventListener(u,"popstate",1,n)));return p!==v.length}function t(){h.canUseViewWillDisappearToReportMetrics()&&!F&&(F=!0,u.app||(u.app={}),C=u.app.willDisappear,u.app.willDisappear=function(){d();C&&C()})}var v=[],x,C,F=!1;x=f.throttle(function(){v.forEach(a)},50);return{registerElement:function(b,c,e,k,p,q,z,A){c={element:c,ratio:e,
dispatchOnElementInView:k,dispatchOnElementOutOfView:p,recurring:q,callback:z,options:A};0===v.length&&(f.on("afterReady",x),f.on(f.constants.BROWSER_EVENTS.SCROLL,x),f.on(f.constants.BROWSER_EVENTS.RESIZE,x),f.on(f.constants.BROWSER_EVENTS.ORIENTATION_CHANGE,x),g.addEventListener(b,document,"visibilitychange",1,l),h.isWebView()||(g.addEventListener(b,u,"focus",1,m),g.addEventListener(b,u,"blur",1,d)),h.isSafari()&&!h.isWebView()&&(g.addEventListener(b,u,"pagehide",1,d),g.addEventListener(b,u,"pageshow",
1,m),g.addEventListener(b,u,"popstate",1,n)),t());v.push(c);a(c);return c},deregisterElement:q,getRatioInView:c,_handleRatioInViewChange:b,_onBrowserVisibilityChange:l}})});
/* ******** */
(function(f){var r=window.AmazonUIPageJS||window.P,m=r._namespace||r.attributeErrors,b=m?m("SearchQuestionAnswerWidgetAssets",""):r;b.guardFatal?b.guardFatal(f)(b,window):b.execute(function(){f(b,window)})})(function(f,r,m){f.when("A","ready").execute("aspa-partial-collapse-expander",function(b){b.on("a:expander:qna_answer_expander:toggle:expand",function(b){b.expander.$expander.find(".a-expander-partial-collapse-header").addClass("aok-hidden");b.expander.$expander.find(".a-expander-partial-collapse-content").addClass("aspa-padding-none")});
b.on("a:expander:qna_question_expander:toggle:expand",function(e){var c=e.expander.$expander.find(".s-line-clamp-2");c.addClass("aok-block").removeClass("aok-inline-block");b.delay(function(){c.addClass("aok-inline-block").removeClass("aok-block")},0);f.when("aspa-sqa-event-module").execute("aspa-sqa-register-event",function(a){var b,c;e.expander.$expander.find("#aspa-sqa-event")&&e.expander.$expander.find("#aspa-sqa-event")[0]&&e.expander.$expander.find("#aspa-sqa-event")[0].dataset&&(b=e.expander.$expander.find("#aspa-sqa-event")[0].dataset.aspaSqaEventUrl,
c=e.expander.$expander.find("#aspa-sqa-event")[0].dataset.aspaSqaEventCsrftoken,b&&c&&a.registerSqaEvent(b.concat("\x26aspa_ctype\x3dquestion_expansion"),c))});f.when("a-expander").execute("aspa-question-expander",function(a){a.initializeExpanders()})})});"use strict";f.when("jQuery","rush-framework","a-button","lagoon-feedback-form").register("aspa-voting-component",function(b,e,c,a){function p(a,b){for(var g=0;g<a.length;++g)if(a[g].name===b)return a[g].value;return null}function h(a){var d={};
b.map(a,function(a){d[a.name]=a.value});return d}function k(c){function d(){z||(w.addClass("aok-hidden"),y.addClass("aok-hidden"),m.removeClass("aok-hidden"))}function g(a){a.feedbackSelectors={feedbackContainer:n,buttonSection:n.find(".aspa-vote-buttons"),loadingSection:n.find(".aspa-loading-section"),successSection:n.find(".aspa-success-section"),errorSection:n.find(".aspa-error-section")}}function k(){z?(g(c.currentTarget),a.show(c.currentTarget)):x.removeClass("aok-hidden")}function e(a){401===
a.status?(l.unbind("submit"),l.submit()):(w.removeClass("aok-hidden"),y.removeClass("aok-hidden"))}function f(a){401!==a.status&&m.addClass("aok-hidden")}function u(){for(var b={},d=0;d<t.length;++d)"csm-producer"!==t[d].name&&"csm-schema"!==t[d].name&&(b[t[d].name]=t[d].value);r.ue&&r.ue.event&&r.ue.event(b,E,F);z?(g(c.currentTarget),a.show(c.currentTarget)):(w.addClass("aok-hidden"),y.addClass("aok-hidden"),x.removeClass("aok-hidden"))}var l=b(c.currentTarget),n=l.closest(".aspa-feedback-container"),
w=n.find(".aspa-vote-buttons"),m=n.find(".aspa-loading-section"),x=n.find(".aspa-success-section"),y=n.find(".aspa-error-section"),C=l.attr("action"),G=l.attr("method"),t=l.serializeArray(),D=h(t),E=p(t,"csm-producer"),F=p(t,"csm-schema"),z="THUMBS_DOWN"===(l[0]&&l[0].mainFeedback?l[0].mainFeedback.value:null)&&l[0].useFollowupFeedback&&"true"===l[0].useFollowupFeedback.value,H={"X-Requested-With":"XMLHttpRequest"};c.preventDefault();C?"application/json"===D.contentType?(delete D.contentType,b.ajax({url:C,
type:G,contentType:"application/json",data:JSON.stringify(D),withCredentials:!0,headers:H,beforeSend:d,success:k,error:e,complete:f})):b.ajax({url:C,type:G,data:t,withCredentials:!0,headers:H,beforeSend:d,success:k,error:e,complete:f}):E&&F&&u()}e.registerComponent("aspa-voting-component","aspa-voting-component",function(a){a=b(a.elem()).find(".aspa-vote-form");var d=c(".aspa-upvote-button"),g=c(".aspa-downvote-button");d.isEnabled()||d.enable();g.isEnabled()||g.enable();a.submit(k)})});"use strict";
f.when("A").register("aspa-sqa-event-module",function(b){return{registerSqaEvent:function(e,c){var a={};a["anti-csrftoken-a2z"]=c;b.post(e,{headers:a,timeout:500})}}});f.when("A","rush-framework").register("aspa-impression-logger",function(b,e){e.registerComponent("aspa-impression-logger","aspa-impression-logger",function(c){function a(a){a={request_id:g,slot_id:f,strategy_id:v,marketplace_id:m,subwidget_index:parseInt(u,10),subwidget_id:l,is_subwidget_preexpanded:a?1:0,is_subwidget_opened:null,is_subwidget_closed:null};
r.ue.event(a,k,q)}function e(){var a;h=!h;a={request_id:g,slot_id:f,strategy_id:v,marketplace_id:m,subwidget_index:parseInt(u,10),subwidget_id:l,is_subwidget_preexpanded:null,is_subwidget_opened:h?1:null,is_subwidget_closed:h?null:1};r.ue.event(a,k,q)}var h=!1,k=c.prop("nexusId"),q=c.prop("schemaId"),d=c.prop("eventName"),g=c.prop("requestId"),f=c.prop("slotId"),v=c.prop("strategyId"),m=c.prop("marketplaceId"),u=c.prop("subwidgetIndex"),l=c.prop("subwidgetId"),n=c.prop("isSubwidgetPreexpanded");k&&
q&&g&&d&&f&&v&&u&&l&&n&&m&&("0"===u&&(h="true"===n,a(h)),b.on(d,e),c.teardown=function(){b.off(d,e)})})});f.when("A","jQuery","rush-framework").register("aspa-asin-click-logger",function(b,e,c){c.registerComponent("aspa-asin-click-logger","aspa-asin-click-logger",function(a){function b(){var a={request_id:d,slot_id:g,strategy_id:f,marketplace_id:v,subwidget_index:parseInt(m,10),subwidget_id:u,is_clicked:1,asin:l,asin_index:parseInt(n,10),is_ad_asin:parseInt(w,10)};r.ue.event(a,c,k)}var c=a.prop("nexusId"),
k=a.prop("schemaId"),q=a.prop("eventScope"),d=a.prop("requestId"),g=a.prop("slotId"),f=a.prop("strategyId"),v=a.prop("marketplaceId"),m=a.prop("subwidgetIndex"),u=a.prop("subwidgetId"),l=a.prop("asin"),n=a.prop("asinIndex"),w=a.prop("isAdAsin");c&&k&&q&&d&&g&&f&&m&&u&&l&&n&&w&&v&&e("#"+q).delegate("a","click",b)})});f.when("jQuery","rush-framework","s-component-utils","rush-util","s-actions").register("aspa-qna-asin-ajax-loader",function(b,e,c,a,p){function h(a,b){b&&b.$target&&0<b.$target.length&&
(b=b.$target.closest("[data-action\x3dqaAjaxEnabledClickExpander]"))&&0<b.length&&(b=b.find(".qna-asin-ajax-loader-error-section"))&&0<b.length&&(a?b.show():b.hide())}function k(a,b,d){var c;d&&d.$target&&0<d.$target.length&&(d=d.$target.closest("[data-action\x3dqaAjaxEnabledClickExpander]"))&&0<d.length&&((c=d.find(".qna-asin-ajax-loader-spinner"))&&0<c.length&&(a?c.show():c.hide()),(a=d.find(".qna-asin-ajax-loader-header"))&&0<a.length&&(b?a.show():a.hide()))}function q(a){var b=r.ue;b&&b.count&&
b.count(a,1)}function d(a){h(!0,a);k(!1,!1,a);q("qna_question_click_failure_ajax_content_loading")}function g(c,g,t){var e=g.find(".qna-ajax-content-span"),f=e.attr("data-ajaxUrl"),h=e.attr("data-asinIdToMetadata"),e={},p,m;if(a.isNotBlank(f)&&a.isNotBlank(h)&&(g=g.find(".s-ajax-loader-qna-carousel-item"))&&0<g.length){e.suffix=":"+A;e.asinIdToMetadata=h;w[x]=g.length;for(p=0;p<g.length;p++)m=g[p].getAttribute("data-asin"),h=l.hasOwnProperty(m)?l[m]:[],h.push(g[p]),l[m]=h,n[m]=!1;k(!0,!1,t);c.requestPartialContent(f,
e).then(function(){var a,g=0,c,e=t.$target.closest("[data-action\x3dqaAjaxEnabledClickExpander]"),f,h;if(e&&0<e.length){e=e[0].id+"_"+b(e[0].closest("[data-uuid]")).attr("data-uuid");for(a in n)if(n.hasOwnProperty(a)&&!n[a])for(f=l[a],h=0;h<f.length;h++)(c=b(f[h]).closest("[data-action\x3dqaAjaxEnabledClickExpander]"))&&0<c.length&&(c=c[0].id+"_"+b(c[0].closest("[data-uuid]")).attr("data-uuid"),e===c&&(g+=1,q("qna_question_click_failure_ajax_asin_loading"),(c=b(f[h]).closest(".a-carousel-card"))&&
0<c.length&&(c.remove(),l[a]&&l[a].length>h&&l[a].splice(h,1)),0===l[a].length&&(n[a]=!0)));a=g;a===w[e]?d(t):(k(!1,!0,t),0===a&&q("qna_question_click_success_ajax_content_loading"))}}).catch(function(){d(t)})}}function I(a){var c,d,g,e,k;(r.MutationObserver||r.WebKitMutationObserver||r.MozMutationObserver)===m?q("qna_question_click_mutation_observer_not_supported"):y.includes(a)||(y.push(a),c={attributes:!0,childList:!1,subtree:!1},g=function(a){if(a&&0<a.length)for(d in a)if(a[d]&&"attributes"===
a[d].type&&a[d].target&&"style"===a[d].attributeName&&(e=a[d].target.getAttribute("style"))&&-1<e.indexOf("height")&&-1===e.indexOf("height: 100%")){b(a[d].target).height("100%");k&&k.disconnect();break}},k=new MutationObserver(g),k.observe(a,c))}var v,B=!1,u={},l={},n={},w={},A,x,y=[];(c=b.find(".aspa-qna-asin-ajax-loader"))&&0<c.length&&(A=b(c[0].closest("[data-uuid]")).attr("data-uuid"));f.when("A","s-web-application-controller").execute(function(a,c){a.declarative("qaAjaxEnabledClickExpander",
"click",function(a){try{B=!1,(v=a.$target.closest("[data-action\x3dqaAjaxEnabledClickExpander]"))&&0<v.length&&(x=v[0].id+"_"+b(v[0].closest("[data-uuid]")).attr("data-uuid"),!u.hasOwnProperty(x)||u.hasOwnProperty(x)&&!u[x])&&(B=u[x]=!0),B&&(h(!1,a),k(!1,!1,a),g(c,v,a))}catch(e){d(a)}})});e.registerComponent("aspa-qna-asin-ajax-loader","aspa-qna-asin-ajax-loader",function(a){a.on(p.RESULT_ITEM_READY+":"+A,function(a){var c,d,g,e;try{if(l.hasOwnProperty(a.item.asin)&&n.hasOwnProperty(a.item.asin)&&
(g=l[a.item.asin])&&0<g.length){for(e=0;e<g.length;e++)c=a.item.html,c=c.replace("s-card-container","s-card-container s-card-drop-shadow"),c=c.replace("s-result-item","s-result-item s-expand-height"),c.indexOf("sg-col-6-of-")&&(c=c.replace("sg-col-6-of-","sg-col-7-of-")),b(g[e]).html(c),(d=b(g[e]).closest(".a-carousel-viewport"))&&0<d.length&&(d.height("100%"),I(d[0]));n[a.item.asin]=!0}}catch(k){q("qna_question_click_failure_ajax_content_loading")}})})});"use strict";f.when("A","jQuery","a-modal",
"ready").register("lagoon-feedback-form-modal",function(b,e,c){var a=null,f=null,h=null,k={name:"lagoon-feedback-form-modal",width:480,height:400,header:"",data:""};return{show:function(b){b&&(k.data=b,a=k,a.header=b.detailFeedbackWelcomeText.value,k.url=b.url,null===h&&(f=e("\x3cdiv/\x3e",{id:"lagoon-feedback-modal"}),e(document.body).append(f),h=c.create(f,k)),h.update(a).lock().show())},hide:function(){h.unlock().hide()}}});"use strict";f.when("A","jQuery","ready").register("lagoon-feedback-form-bottom-sheet",
function(b,e){function c(a,c){var b=p.instance.getContentContainer();e.ajax(a).done(function(a){b.html(a)}).fail(function(){b.html('\x3cdiv class\x3d"lagoon-feedback-form-error"\x3e'+c+"\x3c/div\x3e")});b.addClass("lagoon-feedback-bottom-sheet-container-round-corner")}var a=null,p=null,h=e('\x3cdiv class\x3d"a-spinner-wrapper"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium lagoon-feedback-bottom-sheet-spinner"\x3e\x3c/span\x3e\x3c/div\x3e');f.when("a-sheet").execute("init",function(c){var b;b=360>
r.innerWidth?.7*r.innerHeight:385;p={id:0,instance:null,options:{name:"lagoon-feedback-form-bottom-sheet",height:b,inlineContent:h.html(),closeType:"message"}};a=c});b.on("a:sheet:beforeShow:lagoon-feedback-form-bottom-sheet",function(a){(a=a.sheet?a.sheet.getContentContainer():m)&&0<a.length&&a.addClass("lagoon-feedback-bottom-sheet-container-round-corner")});return{show:function(b){var e;null!==a&&b&&(p.options.data=b,null===p.instance&&(p.instance=a.create(p.options)),a.showSheet(p.instance),p.instance.$container.attr("id",
"lagoon-feedback-bottom-sheet-container"),e=b.detailFeedbackSomethingWrongText.value,c(b.url,e))},hide:function(){a.hideSheet(p.instance)},afterHide:function(){p.instance.getContentContainer().html(h.html())}}});"use strict";f.when("A","jQuery","lagoon-feedback-form-modal","lagoon-feedback-form-bottom-sheet","ready").register("lagoon-feedback-form-instance",function(b,e,c,a){return{getFeedbackForm:function(){return/(^| )a-mobile( |$)/.test(document.documentElement.className)?a:c}}});"use strict";
f.when("A","jQuery","a-tooltip","lagoon-feedback-form-instance","ready").register("lagoon-feedback-form",function(b,e,c,a){function f(b){var c=a.getFeedbackForm();return e.isFunction(c[b])}function h(){d.feedbackSelectors.buttonSection.addClass("aok-hidden");d.feedbackSelectors.loadingSection.addClass("aok-hidden");d.feedbackSelectors.successSection.removeClass("aok-hidden")}function k(){f("hide")&&a.getFeedbackForm().hide()}var q=!1,d={actionValue:"",cxId:"",feedbackOptionType:"",id:"",idType:"",
url:"",detailFeedbackWelcomeText:"",detailFeedbackSomethingWrongText:"",feedbackSelectors:""};return{show:function(b){b&&b.id&&b.cxId&&b.idType&&b.feedbackSelectors&&b.feedbackOptionType&&b.detailFeedbackWelcomeText&&b.detailFeedbackSomethingWrongText?(d.id=b.id.value,d.cxId=b.cxId.value,d.idType=b.idType.value,d.feedbackSelectors=b.feedbackSelectors,d.feedbackOptionType=b.feedbackOptionType.value,d.detailFeedbackWelcomeText=b.detailFeedbackWelcomeText.value,d.detailFeedbackSomethingWrongText=b.detailFeedbackSomethingWrongText.value,
d.url="mashov/lagoon/feedback/form?feedbackOptionType\x3d"+b.feedbackOptionType.value+"\x26answerResponseId\x3d"+b.id.value,b.url=d.url,d.actionValue="",q=!1,a.getFeedbackForm().show(b)):h()},submit:function(a){""!==d.actionValue&&(e.ajax({type:"POST",url:"/mashov/v1/feedback",data:JSON.stringify({cxId:d.cxId,idType:d.idType,id:d.id,detailFeedback:d.actionValue,feedbackType:"DETAIL_FEEDBACK"}),contentType:"application/json"}),d.actionValue="",q=!1,h(a),k())},hide:k,update:function(a){d.actionValue=
a.data.optionStringId;var b,c=null;q||(a=e("#lagoon-feedback-submit-mobile"),b=e("#lagoon-feedback-submit-desktop"),a[0]!==m?(a.removeClass("a-button-disabled"),a.css("background-color","#007185"),c=a.find(".a-button-input")):b[0]!==m&&(b.removeClass("a-button-disabled"),c=b.find(".a-button-input")),c&&c[0]!==m&&(c[0].disabled=!1),q=!0)},afterHide:function(){f("afterHide")&&a.getFeedbackForm().afterHide();d.actionValue="";q=!1;h()},setDefaultFeedbackContext:function(){d.idType="ANS_RES_ID";d.id="TEST_ID";
d.cxId="LAGOON_FEEDBACK"}}});"use strict";f.when("A","jQuery","lagoon-feedback-form","ready").execute("lagoon-feedback-form-signals",function(b,e,c){b.declarative("lagoon-feedback-submit-button-click","click",function(a){c.submit(a)});b.declarative("lagoon-feedback-cancel-button-click","click",function(a){c.hide(a)});b.declarative("lagoon-accordion-detail-feedback-click","click",function(a){c.update(a)});b.on("a:sheet:afterHide:lagoon-feedback-form-bottom-sheet",function(a){c.afterHide(a)});b.on("a:popover:afterHide:lagoon-feedback-form-modal",
function(a){c.afterHide(a)})})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("PantryCPIMobileAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(k){var h=window.AmazonUIPageJS||window.P,y=h._namespace||h.attributeErrors,a=y?y("SearchWebVSEVideoWidgetAssets",""):h;a.guardFatal?a.guardFatal(k)(a,window):a.execute(function(){k(a,window)})})(function(k,h,y){k.register("vse-search-utils",function(){function a(a){var b;if("undefined"!==typeof a&&(b=h.ue)){var c=b.count(a)||0;b.count(a,c+1)}}return{postCountMetric:a,postTimeMetric:function(a,b){var c;"undefined"!==typeof a&&"undefined"!==typeof b&&(c=h.ue)&&c.count(a,b)},logError:function(a,
b,g,f){h.ueLogError&&h.ueLogError(f,{logLevel:a,attribution:b,message:g})},logHideWidgetMetrics:function(c){a("vse_search_widget_hidden");c.trigger("vse:search:widget:hidden")},getAssetSpec:function(a,b){a=a.$(b.currentTarget);b=a.parent().data();var c=a.closest("li").index(),f=a.find(".vse-video-image").data("img");return{contentId:b.asin,aciContentId:b.aciContentId,entityId:b.entityId,entityType:b.entityType,title:b.title,vendorName:b.vendorName,vendorCode:b.vendorCode,referenceUrl:b.referenceUrl,
referenceLinkTitle:b.referenceTitle,videoUrl:b.videoUrl,$el:a,duration:b.duration,imageUrl:f,sponsored:b.sponsored|0,videoVoteContainer:{},productAsin:b.productAsin,refTag:"vse-s-ic-"+c,relatedProducts:b.relatedProducts,sponsorProducts:b.sponsorProducts,vendorTrackingId:b.vendorTrackingId,videoReferenceId:b.videoRefId,index:a.closest("li").index()}},reSize:function(a){a.trigger("resize",{},{width:h.innerWidth,height:h.innerHeight})},getModalFactory:function(a){var b=null;a.capabilities.mobile?k.now("a-secondary-view").execute("vse-search-secondary-view-factory",
function(a){b=a}):k.now("a-modal").execute("vse-search-modal-factory",function a(a){b=a});return b},refTagRecorder:function(a,b,g,f){f=f||0;if(!(3<=f)){var c=this;a.post("/gp/mobile/tag/?ref\x3dvse_vws_vc_"+b+g,{error:function(){c.refTagRecorder(a,b,g,++f)}})}}}});k.when("vse-search-utils").execute("vse-search-ajax-calls",function(a){k.register("vse-search-preLoadCallHook",function(){function c(b,g){try{var f=b.A,e=b.request,d=b.block,k=b.handleFailure,h=b.handleSuccess;g--;var r=3-g-1,m=f.now();
f.ajax("/vap/ew/componentbuilder",{params:e,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:e.timeout||4E3,withCredentials:!0,success:function(b){var c=f.now()-m;a.postTimeMetric("vse_search:preload:success:",c);a.postCountMetric("vse_search:preload:success:"+e.page+":"+e.placement+":"+r);f.$(d).html(b);h(f,e,b)},error:function(d){a.postCountMetric("vse_search:preload:error:"+e.page+":"+e.placement+":"+r);(0===d.http.status||500<=d.http.status&&599>=d.http.status)&&
0<g?c(b,g):(a.postCountMetric("vse_search:preload:error:"),k(f,d))}})}catch(q){a.logError("FATAL","vse_search","[vse_search_preLoadCallHook] ",q)}}return{get:function(a,g,f,e,d){c({A:a,block:g,request:f,handleFailure:d,handleSuccess:e},3)}}});k.register("vse-search-lazyLoadCallHook",function(){function c(b,g,f){try{var e=b.A,d=b.context,k=b.handleFailure,h=b.handleSuccess,r=atob(g.attr("data-configuration")),m=JSON.parse(r),q={pageContext:d,configuration:m},v=e.now();f--;var t=3-f-1;e.ajax("/vap/ew/subcomponent/"+
m.type,{params:q,paramsFormat:"json",method:"post",contentType:"application/json",timeout:d.timeout||4E3,withCredentials:!0,success:function(b){var c=e.now()-v;a.postTimeMetric("vse_search:lazyload:success:",c);a.postCountMetric("vse_search:lazyload:success:"+q.page+":"+q.placement+":"+t);g.html(b);h(e,q,b,m.type)},error:function(d){a.postCountMetric("vse_search:lazyload:error:"+q.page+":"+q.placement+":"+t);(0===d.http.status||500<=d.http.status&&599>=d.http.status)&&0<f?c(b,g,f):(a.postCountMetric("vse_search:lazyload:error:"),
k(e,q,d,m.type))}})}catch(x){a.logError("FATAL","vse_search","[vse_search_lazyLoadCallHook] ",x)}}return{get:function(a,g,f,e,d){var b=a.$;b(g+" div[data-configuration]").each(function(){c({A:a,context:f,handleFailure:d,handleSuccess:e},b(this),3)})}}});k.register("vse-search-relatedProductsHook",function(){function c(b,g,f){try{var e=b.A,d=b.context,k=b.handleFailure,h=b.handleSuccess,r=b.block,m={pageContext:d,configuration:b.config},q=e.now();f--;var v=3-f-1;0<v&&(m.configuration.assets=[]);e.ajax("/vap/ew/subcomponent/relatedproducts/",
{params:m,paramsFormat:"json",method:"post",contentType:"application/json",timeout:d.timeout||4E3,withCredentials:!0,success:function(b){var c=e.now()-q;a.postTimeMetric("vse_search:preload:success:",c);a.postCountMetric("vse_search:preload:success:"+m.page+":"+m.placement+":"+v);e.$(r).html(b);e.$(r).removeClass("aok-hidden");h(e,b)},error:function(d){a.postCountMetric("vse_search:preload:error:"+m.page+":"+m.placement+":"+v);(0===d.http.status||500<=d.http.status&&599>=d.http.status)&&0<f?c(b,g,
f):(a.postCountMetric("vse_search:lazyload:error:"),k(e,d))}})}catch(t){a.logError("FATAL","vse_search","[vse_search_preLoadCallHook] ",t)}}return{get:function(a,g,f,e,d,k){c({A:a,context:f,handleFailure:k,handleSuccess:d,block:g,config:e},3)}}})});"use strict";k.when("A","vse-search-utils","vse-search-preLoadCallHook","vse-search-lazyLoadCallHook","vse-search-relatedProductsHook","rush-framework").register("vse-search-widget",function(a,c,b,g,f,e){a.$(".vse-search-video-carousel").delegate(".vse-video-card.vse-avoid-clicks",
"click",function(){c.postCountMetric("vse-search.widgetClickedBeforeRushFramework")});e.registerComponent("vse-search-widget","vse-search-widget",function(d){try{var e=a.now();c.postTimeMetric("vse-search-preload-load-time",e);var h,r,m=!1,q=!1,v=!1,t=!1,x=!0,y=!1,A,F=!1,B=!1,n=d.elem();k.when("af").execute("vse-search-widget-load-images-lazily",function(){a.loadDescendantImagesManually(a.$(n));a.$(".vse-video-image").addClass("vse-show-img-after-af");a.trigger("a:image:vse:manualLoaded")});d=function C(){if(n)if(v)a.off("scroll",
C);else if(a.onScreen(a.$(n),0)){var b=a.now()-e;m?(c.postCountMetric("vse-search.widgetViewedWithLightboxWidgetsCount"),c.postTimeMetric("vse-search.widgetViewedWithLightboxWidgetsDuration",b)):(c.postCountMetric("vse-search.widgetViewedWithNoLightboxWidgetsCount"),c.postTimeMetric("vse-search.widgetViewedWithNoLightboxWidgetsDuration",b));c.postTimeMetric("vse-search-preload.pageLoadToWidgetViewedDuration",b);v=!0}};d();a.on("scroll",d);var E=a.$(n).attr("data-page-state");if(E){var G=atob(E),l=
JSON.parse(G);var p=l.clientPrefix;var O=l.popoverTriggerId,u=l.popoverContainerId,J=l.popoverName,w=l.initialVideo,P=l.celQueryStringParam,H=l.videoDataList,z=l.relatedProductsConfig,K=0;var D={requester:l.requester,clientPrefix:p,page:l.page,placement:l.placement,device:l.device,locale:l.locale,requestId:l.requestId,sessionId:l.sessionId,customerId:l.customerId,marketplaceID:l.marketplaceID,metadata:l.metadata,videoDataList:H,video:{contentID:w.contentId,contentIDType:"ASIN",videoURL:w.videoURL,
imageURL:w.videoImageUrl},product:{contentID:w.relatedProductsAsins,contentIDType:"ASIN"}};E=function(){var b=a.$(".vse-search-video-carousel").find(".vse-search-video-profile");0<b.length&&(a.$(".vse-search-active-profile-container").removeClass("aok-hidden"),a.$(".vse-search-active-profile-container").html(b.clone().removeClass("aok-hidden").html()),a.$(".vse-vendor-title-container").addClass("vse-vendor-has-profile"))};G=function(){var b=a.$(".vse-search-video-carousel").find(".vse-search-disclosure-container");
0<b.length&&a.$(".vse-vendor-disclosure-container").html(b.clone().removeClass("aok-hidden").html())};var I=function(b){var c=a.$(".vse-search-ingress-product-carousel").find(".vse-product-item");if(0<c.length){for(var C="",d=0;d<c.length;d++)C+=c[d].getAttribute("data-asin"),d!==c.length-1&&(C+=";");c=b.buildSushiPayload({eventName:"vse-search.pfoRender",stringPayload:"",intPayload:1,productAsinList:C});b.postMetric.emitSushiMetric(c,b.endpoint)}else c=b.buildSushiPayload({eventName:"vse-search.pfoNotRendered",
stringPayload:"",intPayload:1,videoAsin:w.contentId}),b.postMetric.emitSushiMetric(c,b.endpoint)};l=function(a){F=!0;B&&A&&(B=!1,I(A));a.trigger("vse:"+p+":relatedproducts:preload:succeeded")};d=function(a){F=!0;B&&A&&(B=!1,I(A));a.trigger("vse:"+p+":relatedproducts:preload:failed")};if(z){t=!0;E();G();var Q={id:z.id,type:z.type,binder:z.binder,assets:[z.assets],features:{features:z.features}};D.metadata.relatedProductsAsins=w.relatedProductsAsins;f.get(a,"#"+p+"-ingress-product-carousel-container",
D,Q,l,d)}var L=function(a,b){a.trigger("vse:"+p+":lazyload:"+b.configuration.type+":failed")},M=function(a,b){a.trigger("vse:"+p+":lazyload:"+b.configuration.type+":succeeded")};b.get(a,"#"+u+" .vse-search-video-block",D,function(a){x=!1;k.when("VSEComponentAssets").execute("vse-search-preload-success",function(){m=!0;q&&(a.trigger("vse:"+p+":page:lightBoxOpened",{assetSpec:r,lightBoxId:u}),g.get(a,"#"+u,D,M,L),c.postCountMetric("vse-search.lightBoxOpenedBeforePreload"));a.delay(function(){c.reSize(a)},
500)});a.trigger("vse:"+p+":preload:succeeded")},function(a){m=!1;a.trigger("vse:"+p+":preload:failed");c.logHideWidgetMetrics(a)});a.$(n).find(".vse-search-video-carousel").delegate(".vse-video-card .vse-carousel-item","click",function(b){if(!(t&&(a.$(b.target).closest(".vse-search-active-profile-container").length||a.$(b.target).closest(".vse-disclosure").length)||x)){b.preventDefault();var d=c.getModalFactory(a);r=c.getAssetSpec(a,b);a.objectIsEmpty(d)?(x=!0,c.logHideWidgetMetrics(a)):(h=d.get(a.$("#"+
O)),a.objectIsEmpty(h)?(x=!0,c.logHideWidgetMetrics(a)):(h.show(),c.refTagRecorder(a,r.index,P,0)))}});a.on("a:popover:afterShow:"+J,function(b){q=!0;a.$(b.popover.$popover).addClass(a.$("#"+u).data("cssClass"));K++;m&&(a.trigger("vse:"+p+":page:lightBoxOpened",{assetSpec:r,lightBoxId:u}),1===K&&(g.get(a,"#"+u,D,M,L),c.postCountMetric("vse-search.lightBoxOpenedAfterPreload")));c.reSize(a)});a.on("a:popover:beforeHide:"+J,function(){m&&(a.trigger("vse:"+p+":page:lightBoxClosed"),a.$("#"+u+" .vse-placeholder").addClass("aok-hidden"),
a.$("#"+u+" .vse-search-video-block").removeClass("vse-search-absolute-lb"))});a.on(p+":vse:player:registered",function(){a.$("#"+u+" .vse-search-video-block").first().animate({opacity:1})});a.declarative(p+"-carousel-see-more","click touch",function(){a.$(n).find(".vse-video-card").first().find(".vse-carousel-item").click()});a.$(".vse-search-see-more.a-link-normal").click(function(b){b.preventDefault();a.$(n).find(".vse-video-card").first().find(".vse-carousel-item").click()});a.on(p+"-leave-pip",
function(b){0<=b.index&&a.$(n).find(".vse-carousel-item").eq(b.index).click()});a.on(p+":vse:sushiMetrics",function b(b){A=b;var c=H.map(function(a){return a.contentId}).join(","),d=function(a){a=b.buildSushiPayload({eventName:"vse-search.thumbnailImpression",stringPayload:"",intPayload:1,videoAsin:a});b.postMetric.emitSushiMetric(a,b.endpoint)},f=function(){k.when("A","a-carousel-framework").execute("vse-carousel-metric-handler",function(a,b){var c=b.getCarousel(a.$(n).find(".vse-search-video-carousel")),
e=c.getAttr("name"),f=[];H.map(function(a){f.push({videoAsin:a.contentId,impressionRecorded:!1})});b=function N(){for(var b=c.getAttr("pageNumber"),g=c.getAttr("pageSize"),k=c.getAttr("totalPages"),h=0;h<Math.min(b*g,f.length);h++)f[h].impressionRecorded||(d(f[h].videoAsin),f[h].impressionRecorded=!0);b===k&&(a.off("a:carousel:"+e+":change:pageSize",N),a.off("a:carousel:"+e+":change:pageNumber",N))};b();a.on("a:carousel:"+e+":change:pageSize",b);a.on("a:carousel:"+e+":change:pageNumber",b)})},e=function R(){if(n)if(y)a.off("scroll",
R);else if(a.onScreen(a.$(n),0)){var e=b.buildSushiPayload({eventName:"vse-search.pageView",stringPayload:"",intPayload:1,videoAsinList:c});b.postMetric.emitSushiMetric(e,b.endpoint);t?d(w.contentId):f();y=!0}},g=b.buildSushiPayload({eventName:"vse-search.pageRender",stringPayload:"",intPayload:1,videoAsinList:c});b.postMetric.emitSushiMetric(g,b.endpoint);t&&(F?I(b):B=!0,a.$(n).find(".vse-search-ingress-product-carousel").delegate(".vse-product-item","click",function(c){c=a.$(c.target).closest("li").find(".vse-product-item").attr("data-asin");
c=b.buildSushiPayload({eventName:"vse-search.pfoClick",stringPayload:"",intPayload:1,videoAsin:w.contentId,productAsin:c});b.postMetric.emitSushiMetric(c,b.endpoint)}));e();a.on("scroll",e)});a.$(n).find(".vse-sm-link").removeClass("vse-avoid-clicks");a.$(n).find(".vse-video-card").removeClass("vse-avoid-clicks");a.$(n).find(".vse-search-container-spinner").addClass("aok-hidden");c.postTimeMetric("vse-search.timeToRemoveSpinner",a.now()-e)}else c.logHideWidgetMetrics(a),c.postCountMetric("vse-search-preload-page-state-not-found")}catch(S){x=
!0,c.logHideWidgetMetrics(a)}})})});
/* ******** */
(function(k){var l=window.AmazonUIPageJS||window.P,m=l._namespace||l.attributeErrors,f=m?m("SearchMultiQuestionWidgetAssets",""):l;f.guardFatal?f.guardFatal(k)(f,window):f.execute(function(){k(f,window)})})(function(k,l,m){k.when("rush-dispatcher","rush-util").register("cse-multi-question-actions",function(f,b){return{listeners:{update:function(c){if(!b.isNotBlank(c))throw Error("widget must be a non-empty string");return c+":multi-question:update-selections"},apply:function(c){if(!b.isNotBlank(c))throw Error("widget must be a non-empty string");
return c+":multi-question:apply-selections"},remove:function(c){if(!b.isNotBlank(c))throw Error("widget must be a non-empty string");return c+":multi-question:remove-selections"}}}});"use strict";k.when("rush-dispatcher","rush-util","cse-multi-question-actions").register("cse-question-actions",function(f,b,c){function d(a,b){if(!a)throw Error(b);}var g=f.trigger,h;h={answered:function(a){d(b.isNotBlank(a),"questionId must be a non-empty string");return a+":question:answered"},previousAnswered:function(a){d(b.isNotBlank(a),
"questionId must be a non-empty string");return a+":question:previous-answered"},hide:function(a){d(b.isNotBlank(a),"questionId must be a non-empty string");return a+":question:hide-question"},show:function(a){d(b.isNotBlank(a),"questionId must be a non-empty string");return a+":question:show-question"}};return{listeners:h,triggers:{updateSelections:function(a,e){d(b.isNotBlank(a),"widget must be a non-empty string");return g(c.listeners.update(a),e)},applySelections:function(a,e){d(b.isNotBlank(a),
"widget must be a non-empty string");return g(c.listeners.apply(a),e)},removeSelections:function(a,e){d(b.isNotBlank(a),"widget must be a non-empty string");return g(c.listeners.remove(a),e)},updatePrevious:function(a,e){d(b.isNotBlank(a),"widget must be a non-empty string");return g(h.previousAnswered(a),e)},show:function(a){d(b.isNotBlank(a),"questionId must be a non-empty string");return g(h.show(a))},hide:function(a,e){d(b.isNotBlank(a),"questionId must be a non-empty string");return g(h.hide(a),
{questionToShow:e})}}}});"use strict";k.when("rush-dispatcher","rush-util","cse-question-actions").register("cse-answer-actions",function(f,b,c){function d(a,b){if(!a)throw Error(b);}var g=f.trigger,h;h={deselect:function(a){d(b.isNotBlank(a),"questionId must be a non-empty string");return a+":answer:deselect"}};return{listeners:h,triggers:{selected:function(a,e){d(b.isNotBlank(a),"questionId must be a non-empty string");return g(c.listeners.answered(a),e)},deselect:function(a,c){d(b.isNotBlank(a),
"questionId must be a non-empty string");d(b.isNotBlank(c),"uuid must be a non-empty string");return g(h.deselect(a),{selectedUuid:c})}}}})});
/* ******** */
(function(f){var e=window.AmazonUIPageJS||window.P,g=e._namespace||e.attributeErrors,a=g?g("PrelaunchAssets",""):e;a.guardFatal?a.guardFatal(f)(a,window):a.execute(function(){f(a,window)})})(function(f,e,g){f.when("A","a-button").register("nlx-notify-me-utils",function(a,f){function t(){function c(c){return(10>c?"0":"")+c}var d=new Date;return d.getUTCFullYear().toString().substr(2)+c(d.getUTCMonth()+1)+c(d.getUTCDate())+c(d.getUTCHours())}function n(c){k.get("/hctp/log/refMarker?ref_\x3d"+c)}function p(c){var d=
"",a;for(a in c)""!==d&&(d+="\x26"),d+=a+"\x3d"+encodeURIComponent(c[a]);return d}function g(c){var d=0===k("html.a-mobile").length?!1:!0,h=k(c.target),b=h.data(),u=b.signedIn,v=b.refMarker,w=b.subscribeText,x=b.unsubscribeText,q=b.notifyUri,r=b.action,l;a:switch(b.source){case "DETAIL":l="d";break a;default:l="s"}var b={topics:b.topic,channels:b.channel,csrfToken:b.token,entityID:b.entityId,entityType:b.entityType,action:b.action,source:b.source,shouldSendConfirmationEmail:b.sendConfirmationEmail},
m=f("#"+h.closest(".a-button").get(0).id),y=m.text();c.preventDefault();!0!==u?e.location.href=q+"?"+p(b)+"\x26redirectUrl\x3d"+encodeURIComponent("/preferences/subscriptions/your-subscriptions/current-subscriptions?noMoaR\x3d1"):(h.html('\x3cspan class\x3d"a-spinner a-spinner-small"\x3e\x3c/span\x3e'),a.ajax(q,{params:b,method:"post",success:function(){var b,a;switch(r){case "sub":b="unsub";a=x;break;default:b="sub",a=w}m.text(a);h.data("action",b);b=l;a="sub"===r?"n":"u";var c=t();n(v+"_"+b+"_"+
(d?"m":"d")+"_"+c+"_"+a)},error:function(){m.text(y)}}))}var k=a.$;return{generateQueryString:p,registerRefMarker:n,getButtonClickHandler:function(){return g}}});"use strict";f.when("A","nlx-notify-me-utils","rush-framework").register("nlx-notify-me-component",function(a,f,e){var g=a.$;e&&e.registerComponent("nlx-notify-me-component","nlx-notify-me-component",function(a){a=a.elem();a=g(a);var e=f.getButtonClickHandler();a.click(e)})})});
/* ******** */
(function(h){var k=window.AmazonUIPageJS||window.P,m=k._namespace||k.attributeErrors,b=m?m("MashovAssets",""):k;b.guardFatal?b.guardFatal(h)(b,window):b.execute(function(){h(b,window)})})(function(h,k,m){h.when("A","jQuery","a-modal","ready").register("mashov-feedback-form-modal",function(b,d,e){var c=null,a=null,f=null,l={name:"mashov-feedback-modal",width:480,height:400,header:"",data:""};return{show:function(b){"undefined"!==typeof b.data&&(l.data=b.data,c=l,c.header=b.data.detailFeedbackWelcomeText,
l.url=b.data.url,null===f&&(a=d("\x3cdiv/\x3e",{id:"mashov-feedback-modal"}),d(document.body).append(a),f=e.create(a,l)),f.update(c).lock().show())},hide:function(){f.unlock().hide()}}});"use strict";h.when("A","jQuery","ready").register("mashov-feedback-form-bottom-sheet",function(b,d){function e(c,b){var e=a.instance.getContentContainer();d.ajax(c).done(function(g){e.html(g)}).fail(function(){e.html('\x3cdiv class\x3d"mashov-feedback-form-error"\x3e'+b+"\x3c/div\x3e")});e.addClass("mashov-feedback-bottom-sheet-container-round-corner")}
var c=null,a=null,f=d('\x3cdiv class\x3d"a-spinner-wrapper"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium mashov-feedback-bottom-sheet-spinner"\x3e\x3c/span\x3e\x3c/div\x3e');h.when("a-sheet").execute("init",function(l){var e;e=360>k.innerWidth?.7*k.innerHeight:375;a={id:0,instance:null,options:{name:"mashov-feedback-bottom-sheet",height:e,inlineContent:f.html(),closeType:"message"}};c=l});b.on("a:sheet:beforeShow:mashov-feedback-bottom-sheet",function(a){(a=a.sheet?a.sheet.getContentContainer():
m)&&0<a.length&&a.addClass("mashov-feedback-bottom-sheet-container-round-corner")});return{show:function(b){var d;null!==c&&b.data&&(a.options.data=b.data,null===a.instance&&(a.instance=c.create(a.options)),c.showSheet(a.instance),a.instance.$container.attr("id","mashov-feedback-bottom-sheet-container"),d=b.data.detailFeedbackSomethingWrongText,e(b.data.url,d))},hide:function(){c.hideSheet(a.instance)},afterHide:function(){a.instance.getContentContainer().html(f.html())}}});"use strict";h.when("A",
"jQuery","mashov-feedback-form-modal","mashov-feedback-form-bottom-sheet","mashov-feedback-form-lagoon-orchestrator","ready").register("mashov-feedback-form-instance",function(b,d,e,c,a){var f=null;return{handleOrchestratorMethod:function(c,b){null===f&&c&&c.data&&c.data.cxId===a.LAGOON_FEEDBACK_CX_ID&&(f=a);if(f&&d.isFunction(f[b]))return f[b](c)},getFeedbackForm:function(){return/(^| )a-mobile( |$)/.test(document.documentElement.className)?c:e}}});"use strict";h.when("A","jQuery","a-tooltip","mashov-feedback-form-instance",
"ready").register("mashov-feedback-form",function(b,d,e,c){function a(a){var g=c.getFeedbackForm();return d.isFunction(g[a])}function f(){c.handleOrchestratorMethod(null,"resetFeedback");g=!1}function l(){a("hide")&&c.getFeedbackForm().hide()}function h(){var a=null,g=null,b=d('\x3cdiv id\x3d"mashov-acknowledge-feedback-tooltip-container"\x3e\x3c/div\x3e');d("#mashov-acknowledge-feedback-tooltip-container").remove();d.when(d("#mashov-acknowledge-feedback-tooltip").remove()).then(function(){var f=
n+d(k).height()/2;b.css("top",f);d(document.body).append(b);g={name:"mashov-acknowledge-feedback-tooltip",inlineContent:'\x3ci class\x3d"a-icon a-icon-success a-icon-small mashov-acknowledge-feedback-tooltip-icon" role\x3d"img"\x3e\x3c/i\x3e\x3cdiv class\x3d"mashov-acknowledge-feedback-tooltip-message aok-relative"\x3e'+c.handleOrchestratorMethod(null,"getThankYouMessage")+"\x3c/div\x3e",width:300};a=e.create(b,g);a.show();a.$container.attr("id","mashov-acknowledge-feedback-tooltip");setTimeout(function(){e.remove(a)},
3E3)})}var n=0,g=!1;return{show:function(g){g&&g.data&&a("show")&&(c.handleOrchestratorMethod(g,"setFeedbackContext"),n=Math.abs(document.body.getBoundingClientRect().top),f(),c.getFeedbackForm().show(g))},submit:function(a){c.handleOrchestratorMethod(a,"isReadyToSubmit")&&(c.handleOrchestratorMethod(a,"submitFeedback"),f(),h(),l())},hide:l,update:function(a){c.handleOrchestratorMethod(a,"updateFeedback");var b,e=null;g||(a=d("#mashov-feedback-submit-mobile"),b=d("#mashov-feedback-submit-desktop"),
a[0]!==m?(a.removeClass("a-button-disabled"),a.css("background-color","#007185"),e=a.find(".a-button-input")):b[0]!==m&&(b.removeClass("a-button-disabled"),e=b.find(".a-button-input")),e[0]!==m&&(e[0].disabled=!1),g=!0)},afterHide:function(){a("afterHide")&&c.getFeedbackForm().afterHide();f()}}});"use strict";h.when("A","jQuery","mashov-feedback-form","mashov-feedback-form-lagoon-orchestrator","ready").execute("mashov-feedback-form-signals",function(b,d,e,c){b.declarative("mashov-utterance-feedback-thumbs-down-click",
"click",function(a){a.data.cxId===c.LAGOON_FEEDBACK_CX_ID&&e.show(a)});b.declarative("mashov-feedback-submit-button-click","click",function(a){e.submit(a)});b.declarative("mashov-feedback-cancel-button-click","click",function(a){e.hide(a)});b.declarative("mashov-accordion-detail-feedback-click","click",function(a){e.update(a)});b.on("a:sheet:afterHide:mashov-feedback-bottom-sheet",function(a){e.afterHide(a)})});"use strict";h.when("A","jQuery","mashov-feedback-request","ready").register("mashov-feedback-form-lagoon-orchestrator",
function(b,d,e){var c="",a="",f="",l="",h="",k="";return{LAGOON_FEEDBACK_CX_ID:"LAGOON_FEEDBACK",getThankYouMessage:function(){return h},isReadyToSubmit:function(){return""!==c},resetFeedback:function(){c=""},setFeedbackContext:function(g){a=g.data.cxId;f=g.data.id;l=g.data.idType;h=g.data.detailFeedbackSuccessText;k="mashov/lagoon/feedback/form?feedbackOptionType\x3d"+g.data.feedbackOptionType+"\x26answerResponseId\x3d"+g.data.id;g.data.url=k},setDefaultFeedbackContext:function(){l="ANS_RES_ID";
f="TEST_ID";a="LAGOON_FEEDBACK"},submitFeedback:function(){e.saveDetailFeedback(a,l,f,c)},updateFeedback:function(a){c=a.data.optionStringId}}});"use strict";h.when("A","jQuery","mashov-feedback-request","ready").execute("mashov-thumbs-feedback",function(b,d,e){function c(a){return{image:a.find(".mashov-thumbs-up-image"),imageSelected:a.find(".mashov-thumbs-up-selected-image")}}function a(a){return{image:a.find(".mashov-thumbs-down-image"),imageSelected:a.find(".mashov-thumbs-down-selected-image")}}
function f(a){return{feedbackMessage:a.find(".mashov-feedback-message"),thankYouMessage:a.find(".mashov-feedback-acknowledgment-message")}}function h(a){d(a.image).addClass("aok-hidden");d(a.imageSelected).removeClass("aok-hidden")}function m(a){d(a.image).removeClass("aok-hidden");d(a.imageSelected).addClass("aok-hidden")}function n(a){d(a.feedbackMessage).addClass("aok-hidden");d(a.thankYouMessage).removeClass("aok-hidden")}b.declarative("mashov-utterance-feedback-thumbs-up-click","click",function(b){var d=
b.$currentTarget.parent();h(c(d));m(a(d));n(f(d.parent()));k.ue.count("Mashov."+b.data.cxId+".ThumbsUp",1);e.savePositiveFeedback(b.data.cxId,b.data.idType,b.data.id)});b.declarative("mashov-utterance-feedback-thumbs-down-click","click",function(b){var d=b.$currentTarget.parent();h(a(d));m(c(d));n(f(d.parent()));k.ue.count("Mashov."+b.data.cxId+".ThumbsDown",1);e.saveNegativeFeedback(b.data.cxId,b.data.idType,b.data.id)});b.on("load",function(){var a=document.querySelectorAll("span[data-action\x3d'mashov-utterance-feedback-thumbs-up-click']"),
b,c;for(b=0;b<a.length;b++)c=JSON.parse(a[b].getAttribute("data-mashov-utterance-feedback-thumbs-up-click")),c=c.cxId||"UNDEFINED_CX_ID",k.ue.count("Mashov."+c+".ThumbsWidgetRendered",1)})});"use strict";h.when("jQuery").register("mashov-feedback-request",function(b){function d(d){b.ajax({type:"POST",url:"/mashov/v1/feedback",data:JSON.stringify(d),contentType:"application/json"})}return{savePositiveFeedback:function(b,c,a){d({cxId:b,idType:c,id:a,mainFeedback:"THUMBS_UP",feedbackType:"MAIN_FEEDBACK"})},
saveNegativeFeedback:function(b,c,a){d({cxId:b,idType:c,id:a,mainFeedback:"THUMBS_DOWN",feedbackType:"MAIN_FEEDBACK"})},saveDetailFeedback:function(b,c,a,f){d({cxId:b,idType:c,id:a,detailFeedback:f,feedbackType:"DETAIL_FEEDBACK"})}}})});
/* ******** */
(function(h){var d=window.AmazonUIPageJS||window.P,r=d._namespace||d.attributeErrors,g=r?r("ShareWidgetTriggerAssets",""):d;g.guardFatal?g.guardFatal(h)(g,window):g.execute(function(){h(g,window)})})(function(h,d,r){h.now("tafShareOnNetwork").execute(function(d){"undefined"!==typeof d?h.log("tafShareOnNetwork is already registered","WARN","ShareWidgetTriggerAssets"):h.when("A","socialShareUtil").register("tafShareOnNetwork",function(c,a){var d={facebook:{shareEndpoint:"https://www.facebook.com/dialog/share",
params:function(b){return{href:a.decodeEntities(b.url),display:"popup",quote:b.quote?a.decodeEntities(b.quote):"",app_id:"465632727431967"}},ref:"fb",height:450,width:700,isWebShare:!0},pinterest:{shareEndpoint:"https://www.pinterest.com/pin/create/button",params:function(b){return{url:a.decodeEntities(b.url),media:a.decodeEntities(b.image),description:a.decodeEntities(b.description)}},ref:"pi",height:620,width:700,isWebShare:!0},line:{shareEndpoint:"https://social-plugins.line.me/lineit/share",params:function(b){var c=
a.decodeEntities(b.title)+" "+a.decodeEntities(b.description);b=a.decodeEntities(b.url);return{text:c,url:b}},ref:"li",height:620,width:700,isWebShare:!0},twitter:{shareEndpoint:"https://twitter.com/intent/tweet",params:function(b){var c=a.decodeEntities(b.title);b=a.decodeEntities(b.url);if(c){var d=b?Math.min(b.length,20):-1;200<c.length+d+1&&(c=c.substring(0,200-(d+1+3))+"...")}return{text:c,url:b}},ref:"tw",height:470,width:670,isWebShare:!0},email:{shareEndpoint:"mailto:",params:function(b){return{subject:a.decodeEntities(b.title),
body:a.decodeEntities(b.description)+"\n"+a.decodeEntities(b.url)}},ref:"em",isWebShare:!1},sms:{shareEndpoint:"sms:",params:function(b){return{body:a.decodeEntities(b.title)+" "+a.decodeEntities(b.url)}},ref:"sm",isWebShare:!1},whatsapp:{shareEndpoint:"whatsapp://send",params:function(b){return{text:a.decodeEntities(b.title)+"\n"+a.decodeEntities(b.description)+"\n"+a.decodeEntities(b.url)}},ref:"wa",isWebShare:!1}};return{share:function(b,c){var e=d[c];if("undefined"===typeof e)a.logFatal("Unsupported network:"+
c,b.clientRef);else{var g=a.generateReftags(b,e.ref);b.network=c;a.logCSACustomEvent(g.clickReftag,"share",b);b.url=a.updateReftagParam(b.url,g.returnReftag);a.logCounter("Click."+e.ref,1);b=a.buildUrl(e.shareEndpoint,e.params(b),b.devicename,c);a.triggerShare(b,e.isWebShare,e.width,e.height)}}}})});h.when("A","tafShareOnNetwork","socialShareUtil","ready").execute(function(d,c,a){a.logCounter("Render",1);d.declarative("swf-share-network","click",function(e){e=e.data;var b=e.pageStateId,g=d.state(b);
"undefined"===typeof g?a.logFatal("Page state:"+b+" undefined"):c.share(g,e.network)});a.stopTimer()});h.when("A","tafBottomSheet","socialShareUtil","ready").execute(function(d,c,a){a.logCounter("Click.ShareIcon",1);d.declarative("swf-share-network-v2-icon","click",function(e){var b=e.data,g=e.$currentTarget;g.addClass("no-clicks");d.delay(function(){g.removeClass("no-clicks")},1E3);d.capabilities.isAmazonApp?(a.logCounter("ShareIngress.MobileApp.MashShareAvailable",1),h.when("mash").execute(function(a){c.showAppSheet(b,
a)})):"function"===typeof navigator.share?(a.logCounter("ShareIngress.MobileWeb.NativeShareAvailable",1),c.showNativeSheet(b)):(a.logCounter("ShareIngress.MobileWeb.BottomShareSheetAvailable",1),c.showBottomSheet(b))})});h.when("A").register("socialShareUtil",function(g){function c(f,a,b,c){a=new RegExp("([?\x26/])"+a+"\x3d.*?(\x26|$)","i");var l=-1!==f.indexOf("?")?"\x26":"?";return f.match(a)?f.replace(a,"$1"+b+"\x3d"+c+"$2"):f+l+b+"\x3d"+c}function a(){for(var f="",a=0;13>a;a++)f+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*
Math.random()));return f}function e(){var a="UNKNOWN",b="UNKNOWN",c={MSHOP_IOS:"MSHOP_IOS",MSHOP_ANDROID:"MSHOP_ANDROID",MSHOP_UNKNOWN:"MSHOP_UNKNOWN",MWEB_IOS:"MWEB_IOS",MWEB_ANDROID:"MWEB_ANDROID",MWEB_UNKNOWN:"MWEB_UNKNOWN",TABLET_IOS:"TABLET_IOS",TABLET_ANDROID:"TABLET_ANDROID",TABLET_UNKNOWN:"TABLET_UNKNOWN",UNKNOWN_UNKNOWN:"DESKTOP"};k.isAmazonApp?a="MSHOP":k.mobile?a="MWEB":k.tablet&&(a="TABLET");k.ios?b="IOS":k.android&&(b="ANDROID");a=a+"_"+b;return c[a]?c[a]:"UNKNOWN_PLATFORM"}function b(){var a=
new Date(Date.now()),b=6E4*a.getTimezoneOffset();b=(new Date(a-b)).toISOString().split("Z")[0].split(".")[0];a=a.toISOString().split("Z")[0].split(".")[0];var c=a.split("T")[0];return{marketplaceId:d.ue&&d.ue.mid?d.ue.mid:"unknown",hitDay:c,hitDatetime:b,hitDatetimeUtc:a,sessionId:d.ue&&d.ue.sid?d.ue.sid:"unknown",pageType:d.ue_pty?d.ue_pty:"unknown",subPageType:d.ue_spty?d.ue_spty:"unknown"}}function m(a,b){var c=a="unknown",f={"com.google.android.gm.ComposeActivityGmail":"Email","com.android.email.activity.MessageCompose":"Email",
"com.google.android.gm.ComposeActivityGmailExternal":"Email","com.twitter.android.composer.TextFirstComposerActivity":"Twitter","com.twitter.android.composer.ComposerActivity":"Twitter","com.twitter.app.dm.DMActivity":"Twitter","com.android.mms.ui.ConversationComposer":"SMS","com.android.mms.ui.ComposeMessageActivity":"SMS","com.google.android.apps.messaging.ui.conversationlist.ShareIntentActivity":"SMS","com.facebook.composer.shareintent.ImplicitShareIntentHandler":"Facebook","com.facebook.composer.shareintent.ImplicitShareIntentHandlerDefaultAlias":"Facebook",
"com.facebook.messenger.activity.ShareLauncherActivity":"FacebookMessenger","com.facebook.messenger.intents.ShareIntentHandler":"FacebookMessenger","com.whatsapp.contact.picker.ContactPicker":"WhatsApp","com.whatsapp.ContactPicker":"WhatsApp","com.sina.weibo.EditActivity":"Weibo","com.sina.weibo.composerinde.ComposerDispatchActivity":"Weibo","com.weico.international.activity.compose.SeaComposeActivity":"Weibo","com.pinterest.activity.create.PinItActivity":"Pinterest","jp.naver.line.android.activity.selectchat.SelectChatActivity":"Line",
"com.linecorp.line.share.common.view.FullPickerLaunchActivity":"Line","com.google.android.apps.docs.drive.clipboard.SendTextToClipboardActivity":"Copy","com.instagram.direct.share.handler.DirectShareHandlerActivity":"Instagram","com.snap.mushroom.MainActivity":"Snapchat"},l={px:"BabyRegistry",wr:"WeddingRegistry",sr:"AmazonShowroom",gr:"GiftRegistry",as:"AlexaSkills",dl:"Deal",dp:"DetailPage",qv:"Search",br:"BabyRegistry",al:"AmazonLive",ao:"Voltron",bc:"AmazonBookClub"},d=e(),g=b.url,h=g.split("/");
if(b.network)a=b.network;else if(b.sharingType){var m=b.sharingType.replace(/['"]+/g,"");k.ios?a=m:f[m]&&(a=f[m])}b=l[b.refId]?l[b.refId]:"unknown";f=new RegExp(/^([a-zA-Z0-9]){10}$/);for(l=h.length-1;1<=l;l--)if(h[l].match(f)){c=h[l];break}g=g.match(new RegExp(/^https:\/\/www.amazon./))?h[0]+"/"+h[1]+"/"+h[2]:"unknown";return{channel:a,platform:d,referrerUrl:g,shareRefId:b,asin:c}}function n(a){return"undefined"!==typeof a.pageLevelStateKey?g.state(a.pageLevelStateKey):a.pageLevelData}function p(a,
b){d.ue&&(a="SocialShareJS."+a,d.ue.count(a,(d.ue.count(a)||0)+b))}function q(){d.uet&&d.uet("bb","SocialShareJS",{wb:1})}var k=g.capabilities;q();return{buildUrl:function(a,b,c){b=b||{};var f=Object.keys(b);c=0<f.length&&("sms:"!==a||"IPHONE"!==c)?"?":"";for(var l=0;l<f.length;l++)"?"!==c&&(c+="\x26"),b[f[l]]&&(c+=f[l]+"\x3d"+encodeURIComponent(b[f[l]]));return a+c},logFatal:function(a,b){p("Fatal",1);var c="SHARE_WITH_FRIENDS_JS_WIDGET";b&&(c=c+"_"+b);h.log(a,"FATAL",c)},decodeEntities:function(a){var b=
document.createElement("textarea");b.innerHTML=a;return b.value},getPageData:n,generateReftags:function(b,c){b=n(b);if("undefined"!==typeof b){var d=b.clientRef;var f=b.deviceTypeRef}d=d?d:"un";f=f?f:"un";b=c?c:"un";c=a();b="cm_sw_"+b;d=d+"_"+f+"_"+c;return{returnReftag:b+"_r_"+d,clickReftag:b+"_c_"+d}},generateNativeReftags:function(b){b=b?b.toLowerCase():"ur";var c="ud",d=a(),f=k.isAmazonApp&&k.ios;if(k.isAmazonApp&&k.android)c="apa";else if(f)c="api";else if(k.mobile||k.tablet)c="mwn";return{returnReftag:"cm_sw_r_"+
c+"_"+b+"_"+d,clickReftag:"cm_sw_c_"+c+"_"+b+"_"+d}},updateReftagParam:function(a,b,d){return d?c(a,"ref_?","ref_",b):c(a,"ref_?","ref",b)},generateUUID:a,triggerShare:function(a,b,c,e){if(b){b=screen.width;var f=screen.height;c=c?c:.7*b;e=e?e:.7*f;d.open(a,"_blank","toolbar\x3d0,status\x3d0,width\x3d"+c+",height\x3d"+e+",top\x3d"+(f/2-e/2)+",left\x3d"+(b/2-c/2))}else d.open(a,"_top")},generatePlatform:e,generateClientSideAttributes:b,generateServerSideAttributes:m,logCSACustomEvent:function(a,c,
e){var f=b();e=m(a,e);d.csa&&d.csa("Events",{producerId:"social-share"})("log",{schemaId:"SocialShareCSACustomEvent.CSAShareMetrics.8",customerId:"unknown",marketplaceId:f.marketplaceId,hitDay:f.hitDay,hitDatetime:f.hitDatetime,hitDatetimeUtc:f.hitDatetimeUtc,sessionId:f.sessionId,pageType:f.pageType,subPageType:f.subPageType,refMarker:a,isInternal:2,isRobot:2,httpRequestId:"unknown",referrerUrl:e.referrerUrl,userAgentId:0,channel:e.channel,ingress:e.shareRefId,platform:e.platform,shareHitType:c,
asin:e.asin})},logCounter:p,startTimer:q,stopTimer:function(){d.uet&&d.uet("be","SocialShareJS",{wb:1});d.uex&&d.uex("ld","SocialShareJS",{wb:1})},getFullPageType:function(){return"page:"+(d.ue_pty||"unknown")+",sub:"+(d.ue_spty||d.ue_pti||"unknown")},getAttribution:function(a){a=navigator.platform||a;var b=(k.isAmazonApp?"AmazonApp":"mWeb")+(k.mobile?":mobile":"")+(k.tablet?":tablet":"");k.android&&(a="Android:"+b+k.androidVersion);k.ios&&(a="iOS:"+b);return"SocialShareJS:"+a},truncateMessage:function(a,
b){var c=Array(3).fill(".");return a.length>b?a.substring(0,b-3)+c.join(""):a}}});h.when("a-sheet","socialShareUtil").register("tafBottomSheet",function(d,c){return{showBottomSheet:function(a){c.logCounter("ShareIngress.MobileWeb.CustomShareSheetShow",1);try{var e=c.generateNativeReftags(a.refId),b={name:"cancelButtonSheet",height:400,closeType:"icon"};a.preloadDomId&&(b.preloadDomId=a.preloadDomId);var g=d.create(b);d.showSheet(g);c.logCSACustomEvent(e.clickReftag,"share",a)}catch(n){c.logCounter("ShareIngress.MobileWeb.CustomShareSheetError",
1),a="Error triggering Custom Share on: "+c.getFullPageType()+":"+n.message,h.log(a,"FATAL",c.getAttribution())}},showNativeSheet:function(a){c.logCounter("ShareIngress.MobileWeb.NativeShareSheetShow",1);try{var d=c.generateNativeReftags(a.refId),b=c.updateReftagParam(a.url,d.returnReftag,!0),g=a.description||a.text;c.logCounter("Click.ShareIngress.Native."+a.refId,1);navigator.share({url:b,text:a.title,title:g}).then(function(){c.logCounter("ShareIngress.MobileWeb.NativeShareDone",1);c.logCSACustomEvent(d.clickReftag,
"click_success",a);c.logCSACustomEvent(d.clickReftag,"share",a)}).catch(function(b){c.logCounter("ShareIngress.MobileWeb.NativeShareClosed",1);c.logCSACustomEvent(d.clickReftag,"click_success",a);c.logCSACustomEvent(d.clickReftag,"click_cancel",a)})}catch(n){c.logCounter("ShareIngress.MobileWeb.NativeShareSheetError",1),c.logCSACustomEvent(d.clickReftag,"click_error",a),b="Error triggering Native Share on: "+c.getFullPageType()+":"+n.message,h.log(b,"FATAL",c.getAttribution(a.deviceEnv))}},showAppSheet:function(a,
d){c.logCounter("ShareIngress.MobileApp.MashShareSheetShow",1);try{var b=c.generateNativeReftags(a.refId),e=c.updateReftagParam(a.url,b.returnReftag,!0),g=a.description||a.text,p=a.title+"\n"+e,q=e.length+2,k=c.truncateMessage(a.title,160-q)+"\n"+e,f=c.truncateMessage(a.title,140-q)+"\n"+e;c.logCounter("Click.ShareIngress.Mash."+a.refId,1);d.share({messagePlain:p,messagePlain160:k,messagePlain140:f,messageHTML:p,url:e,subject:g,successCallback:function(){c.logCounter("ShareIngress.MobileApp.MashShareSheetSuccess",
1);c.logCSACustomEvent(b.clickReftag,"click_success",a)},failCallback:function(){c.logCounter("ShareIngress.MobileApp.MashShareSheetFail",1);c.logCSACustomEvent(b.clickReftag,"click_error",a)},shareServiceSelectedCallback:function(d){"'null'"===d||null===d?c.logCSACustomEvent(b.clickReftag,"click_cancel",a):(c.logCounter("ShareIngress.MobileApp.MashShareSheetSharingTypeAvailable",1),a.sharingType=d,c.logCSACustomEvent(b.clickReftag,"share",a))}})}catch(l){c.logCounter("ShareIngress.MobileApp.MashShareSheetError",
1),d="Error triggering Mash Share on: "+c.getFullPageType()+":"+l.message,h.log(d,"FATAL",c.getAttribution(a.deviceEnv))}}}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@bottom-sheet",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("SuperFilterAssets@expander",""):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when("A").register("sf-content-expander-handler",function(a){a.on("a:expander:toggle:expand",function(a){a&&a.expander&&a.expander.$expander&&"filter-content-expander"===a.expander.expanderName&&(a=a.expander.$expander.find(".a-expander-content"),a.css("overflow","visible"))})})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@filter-search",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(f){var c=window.AmazonUIPageJS||window.P,g=c._namespace||c.attributeErrors,a=g?g("SuperFilterAssets@helpers",""):c;a.guardFatal?a.guardFatal(f)(a,window):a.execute(function(){f(a,window)})})(function(f,c,g){f.register("sf-constants-module",function(){return{DECLARATIVE_ACTION:{SF_SINGLE_SELECT_FILTER:"sf-single-select-filter",SUBMIT_RANGE_DECLARATIVE:"sf-submit-range"},CONSTANT_CLASSES:{HIDE_CLASS:"aok-hidden",SF_RIB20_PANEL:".sf-rib20-panel"},METRIC_CONSTANTS:{SF_PRICE_RANGE_PICKER_SELECTED_FROM_MENU:"sf-price-range-picker-selected-from-menu",
SF_PRICE_RANGE_PICKER_USAGE:"sf-price-range-picker-usage",SF_ALL_PRICES_PICKER_USAGE:"sf-all-prices-picker-usage",SF_PRICE_RANGE_INPUT_BOX_USAGE:"sf-price-range-input-box-usage",SF_PRICE_RANGE_INPUT_BOX_BOTH_PRICES_SELECTED:"sf-price-range-input-box-both-prices-selected",SF_PRICE_RANGE_INPUT_BOX_LOW_PRICE_SELECTED:"sf-price-range-input-box-low-price-selected",SF_PRICE_RANGE_INPUT_BOX_HIGH_PRICE_SELECTED:"sf-price-range-input-box-high-price-selected",SF_SLIDER_RENDERED_PREFIX:"sf-slider-rendered-",
SF_SLIDER_USAGE_PREFIX:"sf-slider-usage-",SF_SLIDER_LOWER_BOUND_USAGE_PREFIX:"sf-slider-lower-bound-usage-",SF_SLIDER_UPPER_BOUND_USAGE_PREFIX:"sf-slider-upper-bound-usage-",SF_SLIDER_BOTH_BOUNDS_USAGE_PREFIX:"sf-slider-both-bounds-usage-",SF_RESET_PRICE_RANGE_USAGE_PREFIX:"sf-reset-price-range-usage-"}}});"use strict";f.register("sf-csm-util",function(){function a(e,b){var d=c.ue,a;d&&d.count&&(a=d.count(e)||0,d.count(e,a+b))}return{incrementCount:function(e){a(e,1)},addCount:function(e,b){var a=
c.ue;a&&a.count&&a.count(e,b)},addToCount:a,markLoadingTime:function(a){var b=c.uex;"function"===typeof b&&b("ld",a,{wb:1})},setLatencyMetricsValue:function(a,b){var d=c.uet;"function"===typeof d&&d(b,a,{wb:1})},setTag:function(a){var b=c.ue;b&&b.tag&&b.tag(a)}}})});
/* ******** */
(function(d){var e=window.AmazonUIPageJS||window.P,f=e._namespace||e.attributeErrors,a=f?f("SuperFilterAssets@refinement-metrics",""):e;a.guardFatal?a.guardFatal(d)(a,window):a.execute(function(){d(a,window)})})(function(d,e,f){d.when("A","sf-csm-util","sf-constants-module","ready").register("sf-price-metrics",function(a,b,d){function e(g){var a=g.$target.closest("a");a.length&&g.$target.parents("ul").is("[aria-labelledby^\x3dp_36]")&&(a.hasClass("s-navigation-clear-link")?b.addCount(c.SF_ALL_PRICES_PICKER_USAGE,
1):(b.addCount(c.SF_PRICE_RANGE_PICKER_SELECTED_FROM_MENU,1),b.addCount(c.SF_PRICE_RANGE_PICKER_USAGE,1)))}function f(a){var d=a.$target.find("#low-price").val();a=a.$target.find("#high-price").val();d&&a?b.addCount(c.SF_PRICE_RANGE_INPUT_BOX_BOTH_PRICES_SELECTED,1):d&&!a?b.addCount(c.SF_PRICE_RANGE_INPUT_BOX_LOW_PRICE_SELECTED,1):!d&&a&&b.addCount(c.SF_PRICE_RANGE_INPUT_BOX_HIGH_PRICE_SELECTED,1);(d||a)&&b.addCount(c.SF_PRICE_RANGE_INPUT_BOX_USAGE,1)}var h=a.$,c=d.METRIC_CONSTANTS;(function(){var d=
h("#p_36-title"),k=h("#filter-p_36");if(d.length||k.length)a.declarative("sf-submit-range-with-input-boxes","submit",f),a.declarative("sf-select-refinement-picker","click",e),b.addCount&&c&&(b.addCount(c.SF_PRICE_RANGE_PICKER_SELECTED_FROM_MENU,0),b.addCount(c.SF_PRICE_RANGE_PICKER_USAGE,0),b.addCount(c.SF_ALL_PRICES_PICKER_USAGE,0),b.addCount(c.SF_PRICE_RANGE_INPUT_BOX_USAGE,0),b.addCount(c.SF_PRICE_RANGE_INPUT_BOX_BOTH_PRICES_SELECTED,0),b.addCount(c.SF_PRICE_RANGE_INPUT_BOX_LOW_PRICE_SELECTED,
0),b.addCount(c.SF_PRICE_RANGE_INPUT_BOX_HIGH_PRICE_SELECTED,0))})()})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@rib-20",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@rib-messaging",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@rib-personalization-messaging",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@vertical-tabs",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(d){var e=window.AmazonUIPageJS||window.P,c=e._namespace||e.attributeErrors,b=c?c("SuperFilterAssets@super-filter",""):e;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,e,c){d.when("A","R","rush-error-logger","sf-constants-module","ready").register("sf-super-filter",function(b,d,e,c){function f(a,b){try{d.to({url:a},b)}catch(c){var g=Error("Could not load URL");a=c+" url: "+a+" passthroughData: "+JSON.stringify(b);e.error(g,a,"sf-super-filter")}}b.declarative(c.DECLARATIVE_ACTION.SF_SINGLE_SELECT_FILTER,
"click",function(a){a=a.$target.closest("a");a.length&&(a=a.attr("href"),f(a,{}))});return{submitFilterRange:function(a){var b,c=[];a&&a.length&&(b=a.attr("action")+"?"+a.serialize(),a=a.closest(".sf-range-item"),a.length&&c.push(a.attr("id")),f(b,{suppressedNavigationContentIds:c}))}}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@super-filter-landing",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(e){var n=window.AmazonUIPageJS||window.P,v=n._namespace||n.attributeErrors,d=v?v("SuperFilterAssets@sliders",""):n;d.guardFatal?d.guardFatal(e)(d,window):d.execute(function(){e(d,window)})})(function(e,n,v){e.when("A","sf-csm-util","sf-constants-module","ready").register("sf-sliders-metrics",function(d,g,e){function m(c,l){return"number"===typeof c&&0<=c&&c<l}function r(c){return c.closest(".sf-range-content").find(".sf-range-slider").data("slider-id")}var u=e.DECLARATIVE_ACTION,k=e.METRIC_CONSTANTS,
n=[];d.on("sf:slidersController:instanceCreated",function(c,l,d){var e;if(e=c&&-1===n.indexOf(c)&&l)e=Array.isArray(d)&&m(l.lowerBound,d.length)&&m(l.upperBound,d.length);e&&(n.push(c),g.addCount(k.SF_SLIDER_RENDERED_PREFIX+c,1),g.addCount(k.SF_SLIDER_USAGE_PREFIX+c,0),g.addCount(k.SF_SLIDER_BOTH_BOUNDS_USAGE_PREFIX+c,0),g.addCount(k.SF_SLIDER_LOWER_BOUND_USAGE_PREFIX+c,0),g.addCount(k.SF_SLIDER_UPPER_BOUND_USAGE_PREFIX+c,0),g.addCount(k.SF_RESET_PRICE_RANGE_USAGE_PREFIX+c,0))});d.declarative(u.SUBMIT_RANGE_DECLARATIVE,
"submit",function(c){var d=c.$target;c=r(d);var e=d.find('[name\x3d"low-price"]').val(),d=d.find('[name\x3d"high-price"]').val();e&&d?g.addCount(k.SF_SLIDER_BOTH_BOUNDS_USAGE_PREFIX+c,1):e?g.addCount(k.SF_SLIDER_LOWER_BOUND_USAGE_PREFIX+c,1):d&&g.addCount(k.SF_SLIDER_UPPER_BOUND_USAGE_PREFIX+c,1);g.addCount(k.SF_SLIDER_USAGE_PREFIX+c,1)});d.declarative(u.SF_SINGLE_SELECT_FILTER,"click",function(c){c=c.$target.parents("div:first");var d=r(c);c.length&&c.hasClass("sf-reset-range-link")&&g.addCount(k.SF_RESET_PRICE_RANGE_USAGE_PREFIX+
d,1)})});"use strict";e.when("A","Rush","s-slider","sf-sliders-labels","s-web-application-controller","sf-super-filter","s-is-mobile","rush-error-logger","sf-constants-module","sf-price-metrics","sf-sliders-metrics","ready").register("sf-sliders-controller",function(d,g,n,m,r,u,k,J,c){function l(a){return a?p[a]||{}:{}}function w(a){return a.data("slider-id")}function B(a,b,f){b=(a=l(a))&&a[b];f=Math.round(f);return!Array.isArray(b)||0>f||f>=b.length?v:b[f]}function x(a,b){return B(a,"stepValues",
b)}function y(a,b){return B(a,"stepLabels",b)}function C(a,b){var f=a.find("."+b+" span");0===f.length&&(f=a.find("."+b));return f}function D(a,b){var f=w(a);if(m.ARE_INPUT_BOXES_AS_LABELS_ENABLED&&m.INPUT_RANGE_CONTROLLER)m.INPUT_RANGE_CONTROLLER.setLowPrice(x(f,b.lowerBound)),m.INPUT_RANGE_CONTROLLER.setHighPrice(x(f,b.upperBound));else{var d,c;c=y(f,b.lowerBound);b=y(f,b.upperBound);f=l(f);c&&(d=C(a,"sf-lower-bound-label"),d.text(c));b&&(a=C(a,"sf-upper-bound-label"),a.text(b));(a=f.instance)&&
a.setAriaValueText(c,b)}}function E(a){var b,f=a.closest(".sf-range-content"),c=f.find(".sf-range-item");c.length===m.RANGE_CONTENTS_COUNTS&&(b=w(a),a=l(b),a.isDestroyable=!1,a.$outerItemContainer=c,a.outerContentId=f.attr("id"),p[b]=a)}function F(a){var b=a.target.closest(".sf-range-slider");D(b,a.state)}function G(a){var b=a.target.closest(".sf-range-slider");D(b,a.state);a=a.state;var c=w(b),d=l(c),h=d&&d.upperBoundParamName,d=b.find('input[name\x3d"'+(d&&d.lowerBoundParamName)+'"]'),h=b.find('input[name\x3d"'+
h+'"]');d.val(x(c,a.lowerBound));h.val(x(c,a.upperBound));k&&(E(b),u.submitFilterRange(b))}function z(a,b){var c,e=t(b);b=w(e);var h=e.data("slider-props"),g;g=!!(h&&4===Object.keys(h).length&&h.lowerBoundParamName&&h.upperBoundParamName&&Array.isArray(h.stepValues)&&Array.isArray(h.stepLabels));var q=l(b);c=e.find(".s-slider-container");a=new n(b,c);b&&a&&c.length&&g?(d.on("s:slider:"+b+":input",F),d.on("s:slider:"+b+":change",G),k||d.declarative.create(e,H.SUBMIT_RANGE_DECLARATIVE,{}),q.instance=
a,q.isDestroyable=!0,q.lowerBoundParamName=h.lowerBoundParamName,q.upperBoundParamName=h.upperBoundParamName,q.stepValues=h.stepValues,q.stepLabels=h.stepLabels,p[b]=q,m.ARE_INPUT_BOXES_AS_LABELS_ENABLED||(c=y(b,a.lowerBound),e=y(b,a.upperBound),a.setAriaValueText(c,e)),d.trigger("sf:slidersController:instanceCreated",b,a,h.stepValues)):c.length&&(c.closest(".sf-range-content").addClass(I.HIDE_CLASS),c=Error("Slider not initialized"),a="Slider information: "+JSON.stringify({sliderId:b,sliderObject:a,
sliderProps:h}),J.error(c,a,"sf-sliders-controller"))}function K(){Object.keys(p).forEach(function(a){var b=l(a);if(!1===b.isDestroyable){var c=t("#"+b.outerContentId+".sf-range-content").find(".sf-filter-section"),d=c.find(".sf-range-item").length,e=m.ARE_INPUT_BOXES_AS_LABELS_ENABLED&&1===d;m.ARE_INPUT_BOXES_AS_LABELS_ENABLED||0!==d?e&&c.append(b.$outerItemContainer[1]):c.prepend(b.$outerItemContainer);b.isDestroyable=!0;delete b.outerContentId;delete b.$outerItemContainer;p[a]=b}})}function L(){Object.keys(p).forEach(function(a){var b=
l(a).instance;b&&b.unbindEvents();d.off("s:slider:"+a+":input",F);d.off("s:slider:"+a+":change",G);delete p[a]})}function M(a){a.$event.preventDefault();E(a.$target);u.submitFilterRange(a.$target)}function A(){K();L();t(".sf-range-slider").each(z)}var H=c.DECLARATIVE_ACTION,I=c.CONSTANT_CLASSES,p={},t=d.$;k?e.when("filters-panel-view-ready").execute("sf-sliders-mobile-initialization",function(){if(t(I.SF_RIB20_PANEL).length)g.on(r.ACTIONS.LOAD_SEARCH_PAGE_COMPLETE,A);else g.on(r.ACTIONS.LOAD_REFINEMENTS_COMPLETE,
A);t(".sf-range-slider").each(z)}):(d.declarative(H.SUBMIT_RANGE_DECLARATIVE,"submit",M),g.on(r.ACTIONS.LOAD_SEARCH_PAGE_COMPLETE,A),t(".sf-range-slider").each(z))});"use strict";e.register("sf-sliders-labels",function(){return{RANGE_CONTENTS_COUNTS:1,ARE_INPUT_BOXES_AS_LABELS_ENABLED:!1,INPUT_RANGE_CONTROLLER:null}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@visual-navigation",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(x){var h=window.AmazonUIPageJS||window.P,f=h._namespace||h.attributeErrors,z=f?f("SocialShareWidgetAUI","AmazonUI"):h;z.guardFatal?z.guardFatal(x)(z,window):z.execute(function(){x(z,window)})})(function(x,h,f){function z(g){if(Array.isArray(g)){for(var f=0,h=Array(g.length);f<g.length;f++)h[f]=g[f];return h}return Array.from(g)}"use strict";"use strict";x.register("SocialShareWidget",function(){var g;(function(){var f={353:function(f,a,k){Object.defineProperty(a,"__esModule",{value:!0});
var c=k(905),e=k(738);f=function(){function a(){var r=this;this.generateTimestampCollection=function(){var b=(new Date).getTimezoneOffset();b=r.getDateTimeByOffset(b);var a=r.getDateTimeByOffset(0);return{hitDay:b.split("T")[0],hitDatetime:b,hitDatetimeUtc:a}};this.getMarketplaceId=function(b){return"string"==typeof b?b:h.ue&&h.ue.mid?h.ue.mid:e.CSA_DEFAULT_VALUE.string};var b=this.generateTimestampCollection();this.csaMetricsData={schemaId:a.CSA_SCHEMA_ID,userAgentId:e.CSA_DEFAULT_VALUE.number,hitDay:b.hitDay,
hitDatetime:b.hitDatetime,hitDatetimeUtc:b.hitDatetimeUtc,pageType:h.ue_pty?h.ue_pty:e.CSA_DEFAULT_VALUE.string,subPageType:h.ue_spty?h.ue_spty:e.CSA_DEFAULT_VALUE.string,sessionId:h.ue&&h.ue.sid?h.ue.sid:e.CSA_DEFAULT_VALUE.string}}return a.prototype.withCSAClickEventData=function(a){var b=a.shareDataAttributes;if(this.csaMetricsData.customerId=b.customerId?b.customerId:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.httpRequestId=b.requestId?b.requestId:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.asin=
b.asin?b.asin:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.ingress=b.ingress?b.ingress:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.platform=b.platform?b.platform:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.isInternal=this.getCSANumberMapping(b.isInternal),this.csaMetricsData.isRobot=this.getCSANumberMapping(b.isRobot),this.csaMetricsData.channel=a.channel?a.channel:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.refMarker=a.refMarker?a.refMarker:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.referrerUrl=
a.refererURL?a.refererURL:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.marketplaceId=this.getMarketplaceId(b.marketplaceId),this.csaMetricsData.isExperiment=/T\d+/.test(a.treatment)?"Y":"N",this.csaMetricsData.triggeredFromScreenshotToast=!!b.triggeredFromScreenshotToast&&b.triggeredFromScreenshotToast,a.weblab)b=this.csaMetricsData.shareEntities,(b=void 0===b?{}:b)[a.weblab]=a.treatment,this.csaMetricsData.shareEntities=b;a.customizeShareCSAData&&(b=this.csaMetricsData.shareEntities,b=void 0===
b?{}:b,a.customizeShareCSAData.isCustomizedExperienceEnabled===e.TRUE&&(b.backgroundImagePhysicalId=a.customizeShareCSAData.backgroundImagePhysicalId,b.deviceCoverImagePhysicalId=a.customizeShareCSAData.deviceCoverImagePhysicalId,b.hasQuote=a.customizeShareCSAData.hasQuote,b.isCustomized=a.customizeShareCSAData.isCustomized,b.customizePreSelected=a.customizeShareCSAData.customizePreSelected,b.isQuotesAvailable=a.customizeShareCSAData.isQuotesAvailable,this.csaMetricsData.shareEntities=b));a.isCustomShareOptionsSheetEnabled&&
(b=this.csaMetricsData.shareEntities,(b=void 0===b?{}:b).isCustomShareOptionsSheetEnabled="1",this.csaMetricsData.shareEntities=b);a.caf&&(b=this.csaMetricsData.shareEntities,(b=void 0===b?{}:b).cafSwitchEnabled=a.cafSwitchEnabled?e.TRUE:e.FALSE,this.csaMetricsData.shareEntities=b);return this},a.prototype.withShareHitType=function(a){return this.csaMetricsData.shareHitType=a||e.CSA_DEFAULT_VALUE.string,this},a.prototype.getCSANumberMapping=function(a){return isNaN(Number(a))?2:Number(a)},a.prototype.getDateTimeByOffset=
function(r){var b=new Date;0!==r&&(r*=a.MINUTES_TO_MILISECONDS,b=b.getTime()-r,b=new Date(b));return b.toISOString().split("Z")[0].split(".")[0]},a.prototype.logEvent=function(){(0,c.isCSALoaded)()&&h.csa(a.CSAPluginId,{producerId:a.CSA_PRODUCER_ID})(a.CSA_LOG_EVENT,this.csaMetricsData)},a.MINUTES_TO_MILISECONDS=6E4,a.CSAPluginId="Events",a.CUSTOMIZE_SHARE_ENTITY_NAME="CustomizeShare",a.CSA_PRODUCER_ID="social-share",a.CSA_LOG_EVENT="log",a.CSA_SCHEMA_ID="SocialShareCSACustomEvent.CSAShareMetrics.8",
a}();a.default=f},305:function(f,a){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,c){var e={email:{label:"Email",name:"email",ref:"em",shareBaseUrl:"mailto:",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","email-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","email-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(r){var b="?subject\x3d".concat(encodeURIComponent(a.emailSubject||a.title)),c="\x26body\x3d".concat(encodeURIComponent(a.title));
r=encodeURIComponent(r||a.shareUrl.getReturnForChannel(this.ref));return"".concat(this.shareBaseUrl).concat(b).concat(c," ").concat(r)}},pi:{label:"Pinterest",name:"pinterest",ref:"pi",shareBaseUrl:"https://www.pinterest.com/pin/create/button/",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","pinterest-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","pinterest-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(r){r="?url\x3d".concat(encodeURIComponent(r||
a.shareUrl.getReturnForChannel(this.ref)));var b="\x26description\x3d".concat(encodeURIComponent(a.title)),c="\x26media\x3d".concat(encodeURIComponent(a.image));return"".concat(this.shareBaseUrl).concat(r).concat(b).concat(c,"\x26method\x3dbutton")}},li:{label:"Line",name:"line",ref:"li",shareBaseUrl:"https://social-plugins.line.me/lineit/share",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","line-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"line-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(c){var b="?text\x3d".concat(encodeURIComponent(a.text)," ").concat(encodeURIComponent(a.title));c="\x26url\x3d".concat(encodeURIComponent(c||a.shareUrl.getReturnForChannel(this.ref)));return"".concat(this.shareBaseUrl).concat(b).concat(c)}},fb:{label:"Facebook",name:"facebook",ref:"fa",shareBaseUrl:"https://www.facebook.com/dialog/share",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","facebook-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"facebook-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(c){c=encodeURIComponent(c||a.shareUrl.getReturnForChannel(this.ref));var b=encodeURIComponent(a.shareUrl.getReturnForChannel(this.ref).replace("_r_","_s_")),r=encodeURIComponent("#"+(a.hashtags[0]||"Amazon"));c=["?_encoding\x3dUTF8\x26app_id\x3d465632727431967\x26display\x3dpopup","href\x3d".concat(c),"redirect_uri\x3d".concat(b),"hashtag\x3d".concat(r)].join("\x26");return"".concat(this.shareBaseUrl).concat(c)}},tw:{label:"X",name:"x",
ref:"tw",shareBaseUrl:"https://twitter.com/intent/tweet",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","x-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","x-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(c){var b="?text\x3d".concat(encodeURIComponent(a.title));c="\x26url\x3d".concat(encodeURIComponent(c||a.shareUrl.getReturnForChannel(this.ref)));var r="\x26hashtags\x3d".concat(a.hashtags.join(",")),d="\x26via\x3d".concat(encodeURIComponent("Amazon"));
return"".concat(this.shareBaseUrl).concat(b).concat(c).concat(r).concat(d)}},wa:{label:"WhatsApp",name:"whatsapp",ref:"wa",shareBaseUrl:"https://api.whatsapp.com/send?text\x3d",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","whatsapp-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","whatsapp-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(c){c="\n              ".concat(encodeURIComponent(a.title),"\n              ").concat(encodeURIComponent(a.text),
"\n              ").concat(encodeURIComponent(c||a.shareUrl.getReturnForChannel(this.ref)));return"".concat(this.shareBaseUrl).concat(c)}},sms:{label:"SMS",name:"sms",ref:"sms",shareBaseUrl:"sms:",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","sms-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","sms-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(c){c="\n              ".concat(encodeURIComponent(a.title),"\n              ").concat(encodeURIComponent(c||
a.shareUrl.getReturnForChannel(this.ref)));return"".concat(this.shareBaseUrl).concat(c)}},embed:{label:"Embed",name:"embed",ref:"eb",shareBaseUrl:"",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","embed-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","embed-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(){return""}},copy:{label:"Copy",name:"copy",ref:"cp",shareBaseUrl:"",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"link-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","link-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(){return""}}};if(null==c?0:c.length){var d={};return c.forEach(function(a){e[a]&&(d[a]=e[a])}),d}return e}},738:function(f,a){Object.defineProperty(a,"__esModule",{value:!0});a.Err={Abort:"AbortError"};f=a.CSA_HIT_TYPE={};f.CLICK_SUCCESS="click_success";f.CLICK_ERROR="click_error";f.CLICK_CANCEL="click_cancel";f.SHARE="share";f.CUSTOMIZE_SHARE=
"click_customize_success";a.customize="customize";a.customShareOptions="customShareOptions";a.customizeShareStateKey="customizeShareCSAData";a.CSA_DEFAULT_VALUE={string:"unknown",number:0,boolean:2};a.UNKNOWN="unknown";a.DEFAULT_CSA_REF_ID="u_";a.EMPTY_STRING="";a.RAW_CHANNEL_PREFIX="raw:";a.CP_CHANNEL_REF="cp";a.CUSTOM_SHARE_OPTIONS_CP_CHANNEL_REF="cso_cp";a.CUSTOM_SHARE_OPTIONS_REF_PREFIX="cso";a.CAF_REF_PREFIX="caf";a.EMBED_CHANNEL_REF="eb";a.FALSE="false";a.TRUE="true";a.SSF_AUI_PACKAGE_ATTRIBUTION=
"SocialShareWidgetAUI";a.REGEX_TO_REF_ID_AND_CHANNEL_APP={instagram:{refId:"in",channel:"Instagram"},snap:{refId:"sn",channel:"Snapchat"},discord:{refId:"di",channel:"Discord"},viber:{refId:"vi",channel:"Viber"},telegram:{refId:"te",channel:"Telegram"},pinterest:{refId:"pi",channel:"Pinterest"},qzone:{refId:"qz",channel:"QQ Zone"},renren:{refId:"re",channel:"Renren"},twitter:{refId:"tw",channel:"Twitter"},airdrop:{refId:"ar",channel:"AirDrop"},tencentweibo:{refId:"tc",channel:"Tencent Weibo"},wechatmoment:{refId:"wm",
channel:"WeChat Moment"},line:{refId:"li",channel:"Line"},whatsapp:{refId:"wa",channel:"Whatsapp"},weibo:{refId:"si",channel:"Sina Weibo"},facebook:{refId:"fb",channel:"Facebook"}};a.defaultShareDataAttributes={isInternal:a.CSA_DEFAULT_VALUE.boolean,isRobot:a.CSA_DEFAULT_VALUE.boolean,userAgent:a.CSA_DEFAULT_VALUE.number,platform:a.CSA_DEFAULT_VALUE.string,ingress:a.CSA_DEFAULT_VALUE.string,asin:a.CSA_DEFAULT_VALUE.string,requestId:a.CSA_DEFAULT_VALUE.string,customerId:a.CSA_DEFAULT_VALUE.string,
marketplaceId:a.CSA_DEFAULT_VALUE.string};a.defaultCustomizeShareCSAData={backgroundImagePhysicalId:a.EMPTY_STRING,deviceCoverImagePhysicalId:a.EMPTY_STRING,hasQuote:a.EMPTY_STRING,isCustomizedExperienceEnabled:a.EMPTY_STRING,isCustomized:a.EMPTY_STRING}},905:function(f,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.isSafari=a.isCSALoaded=a.isNativeAppShareAvailable=a.isNativeWebShareAvailable=a.isMobileWeb=a.isMobileApp=a.isDesktop=a.isIOS=a.isAndroid=a.isIE=a.isAUILoaded=a.isUeAvailable=
a.isClipboardAvailable=a.isRTL=a.isTwisterAsin=a.context=a.Device=void 0;var c,e=k(161);!function(a){a.Android="apan";a.IOS="apin";a.MWeb="mwn";a.Other="ud"}(c||(a.Device=c={}));a.context=function(){var d=c.Other;(0,a.isMobileApp)()&&(0,a.isAndroid)()?d=c.Android:(0,a.isMobileApp)()&&(0,a.isIOS)()?d=c.IOS:(0,a.isMobileWeb)()&&(d=c.MWeb);var b="unknown";return(0,a.isMobileApp)()?b="mshop":(0,a.isMobileWeb)()?b="mweb":(0,a.isDesktop)()&&(b="desktop"),{device:d,page:(0,a.isUeAvailable)()?h.ue_pty:"unknown",
subPage:(0,a.isUeAvailable)()?h.ue_spty||h.ue_pti:"unknown",platform:b}};a.isTwisterAsin=function(){return!!h.isTwisterPage||!!h.twisterController||d};a.isRTL=function(){return"rtl"===document.dir};a.isClipboardAvailable=function(){return!!navigator.clipboard&&(0,e.isFunction)(navigator.clipboard.writeText)};a.isUeAvailable=function(){return!!h.ue};a.isAUILoaded=function(){var a;return"undefined"!=typeof h&&(0,e.isString)(null===(a=null===h||void 0===h?void 0:h.P)||void 0===a?void 0:a.AUI_BUILD_DATE)};
a.isIE=function(){return(0,e.testUserAgent)(/MSIE|Trident/i)};a.isAndroid=function(){return(0,e.testUserAgent)(/android.([1-9]|[L-Z])/i)&&!(0,e.testUserAgent)(/trident|Edge/i)};a.isIOS=function(){return(0,e.testUserAgent)(/OS [1-9][0-9]*(_[0-9]*)+ like Mac OS X/i)&&!(0,e.testUserAgent)(/trident|Edge/i)};a.isDesktop=function(){return!((0,a.isAndroid)()||(0,a.isIOS)()||(0,a.isMobileApp)()||(0,a.isMobileWeb)())};a.isMobileApp=function(){return/(Windowshop|Amazon|Amazon\.com)\//.test((0,e.getCookie)("amzn-app-id"))};
a.isMobileWeb=function(){return 450>=h.screen.availWidth&&((0,e.testUserAgent)(/mobile|mini/i)||(0,a.isAndroid)()||(0,a.isIOS)())};a.isNativeWebShareAvailable=function(){return h.navigator&&(0,e.isFunction)(h.navigator.share)};a.isNativeAppShareAvailable=function(a){return a&&(0,e.isFunction)(a.share)};a.isCSALoaded=function(){return(0,e.isFunction)(h.csa)};a.isSafari=function(){var a;return/apple/i.test(null===(a=h.navigator)||void 0===a?void 0:a.vendor)};var d=!1;(0,a.isAUILoaded)()&&h.P.when("mobile-inline-twister-critical").execute(function(){d=
!0});a.default={context:a.context,isTwisterAsin:a.isTwisterAsin,isClipboardAvailable:a.isClipboardAvailable,isUeAvailable:a.isUeAvailable,isAUILoaded:a.isAUILoaded,isIE:a.isIE,isAndroid:a.isAndroid,isDesktop:a.isDesktop,isIOS:a.isIOS,isMobileApp:a.isMobileApp,isMobileWeb:a.isMobileWeb,isNativeWebShareAvailable:a.isNativeWebShareAvailable,isNativeAppShareAvailable:a.isNativeAppShareAvailable,isCSALoaded:a.isCSALoaded,isSafari:a.isSafari,isRTL:a.isRTL}},495:function(f,a,k){Object.defineProperty(a,"__esModule",
{value:!0});var c=k(905),e=k(353),d=k(738);f=function(){function a(){}return a.logCountOnce=function(a){(0,c.isUeAvailable)()&&h.ue.count(a,(h.ue.count(a)||0)+1)},a.emitFullMetricName=function(a,d,e){var b=this;(0,c.isAUILoaded)()&&h.P.when("A").execute(function(m){m.trigger("".concat(b.BASE_METRIC_NAME,":metrics:logged"),{fullMetricName:a,callee:d,message:e})})},a.logCounter=function(a,c){c=c?".".concat(c):"";a="".concat(this.BASE_METRIC_NAME,".").concat(a).concat(c);this.emitFullMetricName(a,"logCounter");
this.logCountOnce(a)},a.logCounterRefactor=function(a,c){c=c?".".concat(c.toLowerCase()):"";a="".concat(this.BASE_METRIC_NAME).concat(c,".").concat(this.platform).concat(this.metricName,".").concat(a.toLowerCase());this.emitFullMetricName(a,"logCounterRefactor");this.logCountOnce(a)},a.logLoad=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.platform).concat(this.metricName,".").concat(a.toLowerCase());this.logCountOnce(a)},a.logFatal=function(a){(0,c.isAUILoaded)()&&h.P.log(a,"FATAL",
this.BASE_METRIC_NAME)},a.logCSAEvent=function(a,d){(0,c.isCSALoaded)()&&(new e.default).withCSAClickEventData(d).withShareHitType(a).logEvent()},a.startTimer=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.LATENCY,".").concat(a);this.timers[a]=h.uet&&h.uet("bb",a,{wb:1})},a.stopTimer=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.LATENCY,".").concat(a);var b=this.timers[a];(0,c.isUeAvailable)()&&b&&(b=h.uet("be",a,{wb:1})-b,h.ue.count(a,b),h.uex&&h.uex("ld",a,{wb:1}),
this.emitFullMetricName(a,"stopTimer","".concat(b,"ms")),delete this.timers[a],this.timers["".concat(a,"_done_in")]=b)},a.BASE_METRIC_NAME="SocialShareFramework",a.LATENCY="Latency",a.platform=d.UNKNOWN,a.metricName="",a.timers={},a.getMetricName=function(b,d){var e;if(void 0===d&&(d=""),(0,c.isUeAvailable)()){var u=(0,c.context)();a.platform=u.platform;a.metricName=d?".".concat(d.toLowerCase()):""}b=b('[data-action\x3d"ssf-share-icon"]').data();d=d?".".concat(d):"";return b?(b=(null===(e=b.ssfShareIcon)||
void 0===e?void 0:e.shareDataAttributes)||{},e=b.ingress,b=b.platform,b=void 0===b?"unknown":b,"".concat(void 0===e?"unknown":e,".").concat(b).concat(d).toLowerCase()):""},a}();a.default=f},241:function(f,a,k){Object.defineProperty(a,"__esModule",{value:!0});var c,e=k(905),d=k(738);!function(a){a.RETURN="r";a.CLICK="cl"}(c||(c={}));f=function(){function a(a,c){if(void 0===a&&(a="ur"),void 0===c&&(c=void 0),this.PREFIX="cm_sw",this.id="",this.refId="",this.cxt={device:e.Device.Other,page:"",subPage:"",
platform:d.UNKNOWN},2>a.length)throw new TypeError("refId must be 2 or more characters long");this.refId=a;this.cxt=(0,e.context)();this.treatment=c;this.generateUniqueId()}return Object.defineProperty(a.prototype,"return",{get:function(){return this.get(c.RETURN)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.get(c.CLICK)},enumerable:!1,configurable:!0}),a.prototype.getReturnForChannel=function(a){var b=this.treatment?"".concat(this.treatment,
"_"):"";return"".concat(this.PREFIX,"_").concat(c.RETURN,"_").concat(a,"_").concat(this.cxt.device,"_").concat(this.refId,"_").concat(b).concat(this.id)},a.prototype.getClickForChannel=function(a){return"".concat(this.PREFIX,"_").concat(c.CLICK,"_").concat(a,"_").concat(this.cxt.device,"_").concat(this.refId,"_").concat(this.id)},a.prototype.generateUniqueId=function(){var a,c=null===(a=null===h||void 0===h?void 0:h.ue)||void 0===a?void 0:a.rid;return c||(c="".concat(Math.random().toString(36).slice(2)).concat(Math.random().toString(36).slice(2)).substring(0,
13)),this.id=c},a.prototype.get=function(a){var b=this.treatment?"".concat(this.treatment,"_"):"";return"".concat(this.PREFIX,"_").concat(a,"_").concat(this.cxt.device,"_").concat(this.refId,"_").concat(b).concat(this.id)},a}();a.default=f},198:function(f,a,k){var c=this&&this.__assign||function(){return c=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a},c.apply(this,arguments)};Object.defineProperty(a,
"__esModule",{value:!0});var e,d=k(495),g=k(905),b=k(474),t=k(161),n=k(738);(0,g.isAUILoaded)()&&h.P.when("mash").execute(function(a){return e=a});f=function(){function a(a){this.sheetOptions={title:n.EMPTY_STRING,text:n.EMPTY_STRING,shareUrl:new b.default("http://amazon.com/","ur"),lang:"en",shareDataAttributes:n.defaultShareDataAttributes,refererURL:"",image:"",customizeShareCSAData:n.defaultCustomizeShareCSAData,isCustomShareOptionsSheetEnabled:!1};this.sheetOptions=c(c({},this.sheetOptions),a);
this.shareUrl=a.shareUrl}return a.prototype.launchNativeWeb=function(){var a,b=this,c=this.sheetOptions.shareDataAttributes.ingress,e={channel:n.EMPTY_STRING,refMarker:this.shareUrl.refMarker.click,refererURL:this.sheetOptions.refererURL,shareDataAttributes:this.sheetOptions.shareDataAttributes,customizeShareCSAData:this.sheetOptions.customizeShareCSAData},k=this.shareUrl.return;this.sheetOptions.tinyUrl&&(k=this.sheetOptions.tinyUrl,d.default.logCounter("MWeb.Tiny.Success"),d.default.logCounterRefactor("Tiny.Success",
c));var f=(0,t.isFunction)(this.sheetOptions.sheetShownCallback);try{null===(a=null===h||void 0===h?void 0:h.navigator)||void 0===a||a.share({url:k,title:this.sheetOptions.title,text:this.sheetOptions.text}).then(function(){f&&b.sheetOptions.sheetShownCallback();d.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_SUCCESS,e);d.default.logCSAEvent(n.CSA_HIT_TYPE.SHARE,e);(0,t.isFunction)(b.sheetOptions.incrementShareCount)&&b.sheetOptions.incrementShareCount(e.refMarker);d.default.logCounterRefactor("ChannelClick",
b.sheetOptions.shareDataAttributes.ingress)}).catch(function(a){f&&b.sheetOptions.sheetShownCallback();d.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_SUCCESS,e);a.name===n.Err.Abort&&d.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_CANCEL,e)})}catch(A){d.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_ERROR,e)}},a.prototype.launchNativeApp=function(){var a=this,b=this.shareUrl.refMarker.click,k=this.sheetOptions.shareDataAttributes,f=this.sheetOptions.refererURL,u=this.sheetOptions.customizeShareCSAData,g=this.sheetOptions.shareDataAttributes.ingress,
h=n.EMPTY_STRING,p=this.sheetOptions.caf||!1,r=this.sheetOptions.cafSwitchEnabled||!1,q=this.sheetOptions.isCustomShareOptionsSheetEnabled||!1,l=this.shareUrl.return,w=(0,t.isFunction)(this.sheetOptions.incrementShareCount);this.sheetOptions.tinyUrl&&(l=this.sheetOptions.tinyUrl,d.default.logCounter("MShop.Tiny.Success"),d.default.logCounterRefactor("Tiny.Success",g));var B={channel:h,refMarker:b,refererURL:f,shareDataAttributes:k,customizeShareCSAData:u,caf:p,cafSwitchEnabled:r,isCustomShareOptionsSheetEnabled:q};
k={messagePlain:this.getShareMessage,messagePlain160:this.getShare160Message,messagePlain140:this.getShare140Message,messageHTML:this.getShareMessage,url:l,imageURL:this.sheetOptions.image,subject:this.sheetOptions.text};null==e||e.share(c(c({},k),{successCallback:function(){(0,t.isFunction)(a.sheetOptions.sheetShownCallback)&&a.sheetOptions.sheetShownCallback();d.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_SUCCESS,B)},failCallback:function(){d.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_ERROR,B)},shareServiceSelectedCallback:function(c){c&&
"'null'"!==c?((0,t.isFunction)(a.sheetOptions.channelSelectCB)&&a.sheetOptions.channelSelectCB(c),B.channel=a.getChannelByKeyword(c).channel,c=a.getChannelByKeyword(c).refId,B.refMarker=a.shareUrl.refMarker.getClickForChannel(c),d.default.logCSAEvent(n.CSA_HIT_TYPE.SHARE,B),d.default.logCounterRefactor("ChannelClick",a.sheetOptions.shareDataAttributes.ingress),(0,t.isFunction)(a.sheetOptions.sdTooltipCallback)&&a.sheetOptions.sdTooltipCallback(),w&&a.sheetOptions.incrementShareCount(b)):("MSHOP_ANDROID"===
a.sheetOptions.shareDataAttributes.platform&&w&&a.sheetOptions.incrementShareCount(b),d.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_CANCEL,B))}}))},a.prototype.launch=function(a){(0,g.isNativeAppShareAvailable)(e)?this.launchNativeApp():(0,g.isNativeWebShareAvailable)()?this.launchNativeWeb():(0,t.isFunction)(a)?a():(d.default.logCounter("Click.ShareUnavailable"),d.default.logCounterRefactor("Click.ShareUnavailable",this.sheetOptions.shareDataAttributes.ingress))},Object.defineProperty(a.prototype,"getShare160Message",
{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return;h.P.now("SocialShareWidgetTitleOnly").execute(function(){a="[amazon]"});var b=a.length+2;b=(0,t.truncate)(this.sheetOptions.title,160-b);return"".concat(b," ").concat(a)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"getShare140Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return;h.P.now("SocialShareWidgetTitleOnly").execute(function(){a="[amazon]"});var b=a.length+2;b=(0,t.truncate)(this.sheetOptions.title,
140-b);return"".concat(b," ").concat(a)},enumerable:!1,configurable:!0}),a.prototype.getRefByRegex=function(a){return n.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].refId},a.prototype.getChannelByRegex=function(a){return n.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].channel},a.prototype.getChannelByKeyword=function(a){var b=n.RAW_CHANNEL_PREFIX+a,c=n.DEFAULT_CSA_REF_ID,d=a.match(/instagram|snap|discord|viber|telegram|pinterest|qzone|renren|twitter|airdrop|tencentweibo|wechatmoment|line|whatsapp|weibo|^Facebook$/ig);
if(d&&d.length)return{channel:this.getChannelByRegex(d[0].toLowerCase()),refId:this.getRefByRegex(d[0].toLowerCase())};switch(!0){case /android.messaging|sms|android.apps.messaging|mms/gi.test(a):b="SMS";c="sm";break;case /outlook|mail/gi.test(a):b="Email";c="em";break;case /clipboardactivity|copy/gi.test(a):b="Copy";c="cp";break;case /facebook.composer/gi.test(a):b="Facebook";c="fb";break;case /facebook.messenger|FacebookMessenger/gi.test(a):b="FacebookMessenger";c="fm";break;case /tencent|wechat/gi.test(a):b=
"WeChat";c="we";break;case /unknown|null/gi.test(a):b="unknown",c="u"}return{channel:b,refId:c}},Object.defineProperty(a.prototype,"getShareMessage",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return;return h.P.now("SocialShareWidgetTitleOnly").execute(function(){a="[amazon]"}),"".concat(this.sheetOptions.title," ").concat(a)},enumerable:!1,configurable:!0}),a}();a.default=f},474:function(f,a,k){Object.defineProperty(a,"__esModule",{value:!0});var c=k(241);f=function(){function a(d,
e,b){this.REF_PARAM_NAME="ref_";a.isValid(d)||(d=a.getDefault());this.url=new URL(d);this._refMarker=new c.default(e,b)}return a.prototype.getUpdatedUrl=function(a){var c=new URL(this.raw);return c.searchParams.set(this.REF_PARAM_NAME,a),c.toString()},Object.defineProperty(a.prototype,"raw",{get:function(){return this.url.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"refMarker",{get:function(){return this._refMarker},enumerable:!1,configurable:!0}),a.isValid=function(a){try{new URL(a)}catch(r){return!1}return!0},
a.getDefault=function(){var a,c,b=null===(a=null===h||void 0===h?void 0:h.location)||void 0===a?void 0:a.href;if(!b)return(null===(c=null===h||void 0===h?void 0:h.ue)||void 0===c?0:c.sn)?"https://".concat(h.ue.sn):"https://amazon.com";a=new URL(b);c=a.searchParams.has("psc")?"?psc\x3d1":"";return h.ue_pti?"".concat(h.location.origin,"/dp/").concat(h.ue_pti).concat(c):(a.search=c,a.href)},a.prototype.getReturnForChannel=function(a){a=this._refMarker.getReturnForChannel(a);return this.getUpdatedUrl(a)},
a.prototype.getClickForChannel=function(a){a=this._refMarker.getClickForChannel(a);return this.getUpdatedUrl(a)},Object.defineProperty(a.prototype,"return",{get:function(){return this.getUpdatedUrl(this._refMarker.return)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.getUpdatedUrl(this._refMarker.click)},enumerable:!1,configurable:!0}),a}();a.default=f},161:function(f,a){Object.defineProperty(a,"__esModule",{value:!0});a.getDPXObject=a.getCookie=
a.testUserAgent=a.truncate=a.isString=a.isEmpty=a.isNumber=a.isFunction=void 0;a.isFunction=function(a){return"function"==typeof a};a.isNumber=function(a){return!isNaN(a)&&"number"==typeof a};a.isEmpty=function(a){return!a||!a.length};a.isString=function(a){return"string"==typeof a};a.truncate=function(a,c){void 0===a&&(a="");var e=Array(3).fill(".");return a.length>c?a.substring(0,c-3)+e.join(""):a};a.testUserAgent=function(a){if(!h&&!h.navigator)return!1;try{return a.test(h.navigator.userAgent)}catch(c){return!1}};
a.getCookie=function(a){a="".concat(a,"\x3d");for(var c=document.cookie.split(";"),e=0;e<c.length;e++){for(var d=c[e];" "==d.charAt(0);)d=d.substring(1);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return""};a.getDPXObject=function(){var a,c;return null===(c=null===(a=h.DetailPage)||void 0===a?void 0:a.StateController)||void 0===c?void 0:c.state};a.default={isFunction:a.isFunction,isNumber:a.isNumber,isEmpty:a.isEmpty,isString:a.isString,truncate:a.truncate,testUserAgent:a.testUserAgent,
getCookie:a.getCookie,getDPXObject:a.getDPXObject}},156:function(f,a){Object.defineProperty(a,"__esModule",{value:!0});a.default={}},519:function(f,a,g){Object.defineProperty(a,"__esModule",{value:!0});a.SocialShareCore=void 0;f=g(305);var c=g(474),e=g(156),d=g(495),k=g(198),b=g(241),h=g(905);g=g(738);a.SocialShareCore={Channels:f.default,Url:c.default,Translations:e.default,Metrics:d.default,ShareSheet:k.default,RefMarker:b.default,Detection:h.default,Constants:g};a.default=a.SocialShareCore}},v=
{};g=function k(a){var c=v[a];if(void 0!==c)return c.exports;c=v[a]={exports:{}};return f[a].call(c.exports,c,c.exports,k),c.exports}(519)})();return g});"use strict";x.register("SocialShareWidgetConfig",function(){var f=Object.freeze({MODAL:"modal",POPOVER:"popover"}),l=Object.freeze({IOS:"ios",ANDROID:"android",ARROW:"arrow",VARIABLE:"variable"});return{WIDGET_TYPE:f,WIDGET_ICON:l,excludedChannels:["sms","wa"],lineMarketplaces:["A1VC38T7YXB528"],cnMarketplace:["AAHKV2X7AFYLW"],nonCNChannels:["fb",
"tw","pi"],defaultShareData:{url:"",title:location.hostname,text:"",image:"",hashtags:["Amazon"],type:f.POPOVER,lang:"en",refId:"ts",channels:[],refererURL:"",treatment:"",weblab:"",customize:!1,caf:!1,cafSwitch:!1,cafStarAlignmentLeft:!1,cafCustomShareOptionsEnabled:!1,t:{},associateLink:{},popoverPosition:"triggerBottom",popoverDistance:48,defaultCustomShareOptions:{email:{label:"Email",image:"customchannels-email.png",ref:"em",shareUrl:"mailto:?subject\x3d{subject}\x26body\x3d{body}\x26url\x3d{url}",
className:"email",stringId:"taf_customshare_email"},copy:{label:"Copy",image:"customchannels-link.png",ref:"cp",shareUrl:"",className:"custom-share-copy",stringId:"taf_customshare_copy"},more:{label:"More",image:"customchannels-more.png",ref:"",shareUrl:"",className:"custom-share-native-sheet",stringId:"taf_customshare_more"}},isFallbackShareUrlEnabled:!1},defaultWidgetData:{icon:l.VARIABLE,background:!0,width:24},shareDataAttributes:{isInternal:2,isRobot:2,userAgent:h.navigator.userAgent,platform:"DESKTOP",
ingress:h.ue_pty,asin:h.ue_pti,requestId:h.ue_id,customerId:h.opts&&h.opts.customerId,marketplaceId:h.ue_mid,triggeredFromScreenshotToast:!1},iconMap:{ios:"https://m.media-amazon.com/images/G/01/share-icons/share-std.svg",android:"https://m.media-amazon.com/images/G/01/share-icons/share-android.svg",arrow:"https://m.media-amazon.com/images/G/01/share-icons/share-icon-experiment.svg"},customShareOptions:[]}});"use strict";x.when("A","SocialShareWidget","SocialShareWidgetTemplating","SocialShareWidgetConfig",
"SocialShareWidgetState").register("SocialShareWidgetAUI",function(g,l,v,q,a){var k=l.SocialShareCore,c=k.Metrics,e=0,d=function(){},r=!1,b=c.getMetricName(g.$),t=g.constants.HIDE_CLASS;c.startTimer(b);c.logCounter("DPX.Desktop.ImageBlockRender");try{(function(){var n=g.$,u=k.Detection,m=k.Translations,y=k.Channels,F=k.ShareSheet,D=k.Url,l=k.Constants,G=function(a){a=a.data("share")||a.find("[data-share]").data("share");return g.extend({},q.defaultWidgetData,a)},A=n(".ssf-share-trigger"),p=q.defaultShareData,
E=G(A),O=p.url,I=n("#ac-getlink-bottomsheet"),w=n('[data-action\x3d"ssf-share-icon"]'),B=function(){var a=q.iconMap;return E.icon===q.WIDGET_ICON.ARROW?a.arrow:u.isDesktop()?a.ios:E.icon===q.WIDGET_ICON.VARIABLE?u.isIOS()?a.ios:a.android:a[E.icon]},M=function(a){a.find('[class*\x3d"ssf-multi-"]').length||a.find(".ssf-share-trigger").addClass("ssf-multi-"+Math.random().toString(36).slice(2));A=a.find('[class*\x3d"ssf-multi-"]')},C=void 0,K=void 0,J=void 0,L=void 0,P=void 0,W=void 0,Q=void 0;x.when("a-sheet").execute(function(a){return C=
a});x.when("a-popover").execute(function(a){return K=a});x.when("a-modal").execute(function(a){return J=a});x.when("SocialShareWidgetTiny").execute(function(a){return Q=a});var X=function(a,b){var c=2<arguments.length&&arguments[2]!==f?arguments[2]:"ssf-share-bottom-sheet",d=p.customize||p.caf;if(!L||d)L=C.create({name:c,inlineContent:a,closeType:"icon",height:b});C.showSheet(L)},T=function(a){var b=a.type===q.WIDGET_TYPE.POPOVER&&K,c=a.type===q.WIDGET_TYPE.MODAL&&J;a=v.build(a);C?X(a.getBottom()):
b?(b=a.getPopover(),A.hasClass("a-declarative")||(P=K.create(A,{name:"ssf-share-popover",position:p.popoverPosition,inlineContent:b,activate:"onclick",closeButton:!1,width:160,padding:"none",popoverLabel:"Share Popup",closeButtonLabel:"Close Share Popup"}).show())):c&&(b=a.getModal(),A.hasClass("a-declarative")||(W=J.create(A,{inlineContent:b,width:600}).show()))},aa=function(a){if(a.customize||a.caf)c.logCounter("webview.sharesheet.caf.background"),c.logCounterRefactor("webview.sharesheet.caf.background",
a.shareDataAttributes.ingress),x.when("mash").execute(function(a){a.addEventListener("appPause",N)})},ba=function(a){x.when("SocialShareWidgetCustomize").execute(function(b){v.build(a).getCustomize(function(c){X(c,650,"ssf-customize-bottom-sheet");b.init(a,T,N);aa(a)})})},N=function Z(){x.when("mash").execute(function(a){a.removeEventListener("appPause",Z)});P&&K.get(A).hide();L&&C.hideSheet(L);W&&J.get(A).hide()},ca=function(){var a=p.shareDataAttributes.asin,b=h.DetailPage;if(!b)return!1;b=b.StateController&&
b.StateController.getState().current_asin;p.shareDataAttributes.asin="string"==typeof b?b:a;return a!==b},U=function(a){a.addClass("ssf-noclick");a.find(".a-spinner").removeClass(t);a.find("i").hide()},R=function(a){a.removeClass("ssf-noclick");a.find(".a-spinner").addClass(t);a.find("i").show()},Y=function(a){var d=a.shareData,e=a.copyElement,m=d.shareDataAttributes,k=d.t,p=d.treatment;p=p===f?"":p;var h=d.weblab;h=h===f?"":h;a={channel:"copy",refMarker:d.shareUrl.refMarker.getClickForChannel(a.channelRef),
shareDataAttributes:m,treatment:p,weblab:h};c.logCSAEvent(l.CSA_HIT_TYPE.SHARE,a);c.logCounter("DPX.Desktop.CopySuccess");c.logCounter(b,"CopySuccess");c.logCounterRefactor("CopySuccess",m.ingress);u.isDesktop()?function(){var a=e.find(".copy-label");a.text(k.taf_copy_url_changeover);g.delay(function(){N();a.text(k.taf_copy_name)},1E3)}():(n(".ssf-feedback").show(),N())},z=function(a){c.logCSAEvent(l.CSA_HIT_TYPE.CLICK_ERROR,a);c.logCounter("DPX.Desktop.CopyFailure");c.logCounter(b,"CopyFailure");
c.logCounterRefactor("CopyFailure",p.shareDataAttributes.ingress)},S=function(a){var b=a.shareData,d=a.channelRef,m=b.shareUrl;a=b.socialLinks;var g=a===f?{}:a;a=b.isOGTEnabled;a=a===f?!1:a;var u=b.dealsPreviewEnabled;u=u===f?!1:u;var n=b.eventPreviewTreatment;n=n===f?"C":n;d=d?m.getReturnForChannel(d):m.return;m=g.shareframework||b.url;g=b.aapiBaseUrl;g=g===f?"":g;var p=b.shareAapiCsrfToken;p=p===f?"":p;var h=b.tinyUrlEnabled;h=h===f?!1:h;var k=b.deeplinkInfo;k=k===f?{}:k;var w=b.storeId;w=w===f?
"":w;var t=b.shareDataAttributes;b=t.marketplaceId;b=b===f?"":b;t=t.ingress;t=t===f?"":t;if("c"!==n.toLowerCase()){d=new URL(d);var l=n.match(/^T(\d+)$/);d.searchParams.append("peakEvent",l[1]);d.searchParams.append("dealEvent",u?"1":"0");d=d.toString();c.logCounterRefactor("EventPreview"+n,t)}return{tinyUrlEnabled:h,aapiBaseUrl:g,shareAapiCsrfToken:p,marketplaceId:b,url:d,isOGTEnabled:a,originalUrl:m||d,refMarkerId:e++,deeplinkInfo:k,storeId:w}};n(document).delegate(".ssf-channel:not(.copy,.embed)",
"click",function(a){a.preventDefault();a.stopPropagation();c.logCounter("DPX.Desktop.ChannelClick");c.logCounter(b,"ChannelClick");c.logCounterRefactor("ChannelClick",p.shareDataAttributes.ingress);var d=n(this),e=d.data("key"),m=p;a=m.refererURL;var k=m.shareDataAttributes,t=m.treatment;t=t===f?"":t;var w=m.weblab;w=w===f?"":w;var y=m.builtChannels[e],q=y.ref;e=m.shareUrl.refMarker.getClickForChannel(q);m=y.name;var r=y.getSharingUrl();c.logCSAEvent(l.CSA_HIT_TYPE.SHARE,{channel:m,refMarker:e,refererURL:a,
shareDataAttributes:k,treatment:t,weblab:w});a=S({shareData:p,channelRef:q});U(d);Q.fetch({data:a,callback:function(a){R(d);a&&(r=y.getSharingUrl(a),c.logCounter("Desktop.Tiny.Success"),c.logCounterRefactor("Tiny.Success",k.ingress));if("em"===q)h.open(r,"_self");else if(u.isDesktop()){a=screen.width;var b=screen.height,m="pi"===q?900:600,e=Math.min(m,.7*a);m=Math.min(m,.7*b);h.open(r,"_blank","toolbar\x3d0,status\x3d0,width\x3d"+e+",height\x3d"+m+",top\x3d"+(b/2-m/2)+",left\x3d"+(a/2-e/2))}else h.open(r,
"_blank");N();g.trigger("ssf:event:share",p)}})});g.declarative("ssf-share-icon","click",function(d){c.logCounter("DPX.Desktop.SheetClick");c.logCounter(b,"SheetClick");if(r)return N();M(d.$currentTarget);p=g.extend(p,d.data);p.shareDataAttributes=g.extend(q.shareDataAttributes,d.data.shareDataAttributes);var e=p.shareDataAttributes.ingress;c.logCounterRefactor("SheetClick",e);if(!g.objectIsEmpty(d.data.associateLink)&&I.length)c.logCounter("ShareIngress.GetLink.T1"),c.logCounterRefactor("ShareIngress.GetLink.T1",
e),g.trigger("ac-getlink-bottomsheet-event",p);else{g.extend(m[p.lang],p.t);var f=y(p,p.channels);p.builtChannels=f;p.url=p.url.startsWith("/")?""+h.location.origin+p.url:p.url;p.shareUrl=new D(p.url,p.refId);ca()&&(p.shareUrl=new D(p.url,p.refId),p.shareUrl.url.searchParams.set("psc",1));u.isDesktop()?(p.image=p.image||n("#imgTagWrapperId img").attr("src"),T(p),c.logCounter("DPX.Desktop.SheetOpen"),c.logCounter(b,"SheetOpen"),c.logCounterRefactor("SheetOpen",e),c.logCSAEvent(l.CSA_HIT_TYPE.CLICK_SUCCESS,
{channel:l.EMPTY_STRING,refMarker:p.shareUrl.refMarker.click,refererURL:p.refererURL,shareDataAttributes:p.shareDataAttributes,treatment:p.treatment||"",weblab:p.weblab||""})):p.customize||p.caf?ba(p):(U(d.$currentTarget),f=S({shareData:p}),p=g.extend(p,{sheetShownCallback:function(){R(d.$currentTarget)}}),Q.fetch({data:f,callback:function(a){p.tinyUrl=a;(new F(p)).launch(function(){T(p);c.logCounter("DPX.Desktop.SheetOpen");c.logCounter(b,"SheetOpen");c.logCounterRefactor("SheetOpen",e);R(d.$currentTarget)})}}));
u.isSafari()&&u.isDesktop()&&(f=S({shareData:p,channelRef:l.CP_CHANNEL_REF}),Q.fetch({data:f,callback:function(a){c.logCounter("DPX.Desktop.TinyUrlOnSheetOpen");c.logCounter(b,"TinyUrlOnSheetOpen");c.logCounterRefactor("TinyUrlOnSheetOpen",e);O=a}}));a.set("shareData",p);g.trigger("ssf:event:sheetOpen",p)}});n(document).delegate(".ssf-copy,.ssf-channel.copy","click",function(a){c.logCounter("DPX.Desktop.ChannelClick");c.logCounter(b,"ChannelClick");c.logCounterRefactor("ChannelClick",p.shareDataAttributes.ingress);
a.preventDefault();var d=n(this),e=l.CP_CHANNEL_REF,m=p.shareUrl.getReturnForChannel(e);u.isSafari()&&u.isDesktop()?navigator.clipboard.writeText(O||m).then(function(){Y({shareData:p,copyElement:d,channelRef:e})},function(){z(csaOptions)}):(a=S({shareData:p,channelRef:l.CP_CHANNEL_REF}),U(d),Q.fetch({data:a,callback:function(a){R(d);navigator.clipboard.writeText(a||m).then(function(){Y({shareData:p,copyElement:d,channelRef:e})},function(){z(csaOptions)})}}));g.trigger("ssf:event:share",p)});n(document).delegate(".ssf-embed,.ssf-channel.embed",
"click",function(a){a.preventDefault();var d=p;a=d.shareDataAttributes;var e=d.treatment;e=e===f?"":e;var m=d.weblab;m=m===f?"":m;d={channel:"embed",refMarker:d.shareUrl.refMarker.getClickForChannel(l.EMBED_CHANNEL_REF),shareDataAttributes:a,treatment:e,weblab:m};c.logCSAEvent(l.CSA_HIT_TYPE.SHARE,d);c.logCounter("DPX.Desktop.ChannelClick");c.logCounter(b,"ChannelClick");c.logCounterRefactor("ChannelClick",a.ingress);J.create(n(".ssf-channel.embed"),p.kpModalParams).show()});d=function(){A=n(".ssf-share-trigger");
E=G(A);var a=E.width;if(!n(".ssf-background").length&&E.background){var b=1.4*a;b=n('\x3cdiv class\x3d"ssf-background'+(E.floatedIcon?"-float":"")+'"\x3e\x3c/div\x3e').css({width:b,height:b});A.wrap(b)}E.icon&&A.css({height:a,width:a,backgroundImage:"url("+B()+")"})};u.isIE()&&n(".ssf-share-trigger,.ssf-background").remove();g.on("a:popover:afterUpdatePosition:ssf-share-popover",function(a){a=a.popover.$popover;var b=a.position().left-p.popoverDistance;a.find(".a-arrow-border").css({right:24,left:""});
a.css({left:b})});g.on("ssf:event:trigger-share-widget",function(a){g.trigger("a:declarative:ssf-share-icon:click",{data:a,$currentTarget:(1<arguments.length&&arguments[1]!==f?arguments[1]:f)||w})});g.on("a:popover:show:ssf-share-popover",function(){return r=!0});g.on("a:popover:hide:ssf-share-popover",function(){return r=!1});g.on("a:sheet:beforeShow:ssf-customize-bottom-sheet",function(a){a.sheet.$container.css("height","")});d()})()}catch(n){c.logCounter("DPX.Desktop.Error"),c.logCounter(b,"Error"),
c.logLoad("Error"),c.logFatal("Error loading Share Framework AUI: "+n.toString())}finally{c.logCounter("DPX.Desktop.Render"),c.logCounter(b,"Render"),c.logLoad("Render"),g.trigger("ssf:event:load"),c.stopTimer(b)}return{init:d}});"use strict";var V=function(){return function(g,h){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g)){var l=[],q=!0,a=!1,k=f;try{for(var c=g[Symbol.iterator](),e;!(q=(e=c.next()).done)&&(l.push(e.value),!h||l.length!==h);q=!0);}catch(d){a=!0,k=d}finally{try{if(!q&&
c["return"])c["return"]()}finally{if(a)throw k;}}return l}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();x.when("A","SocialShareWidgetConfig","SocialShareWidget").register("SocialShareWidgetTemplating",function(g,h,v){v=v.SocialShareCore;var q=g.$,a=v.Detection.isClipboardAvailable,k=v.Detection.isDesktop,c=h.excludedChannels;a()||c.push("copy");var e=function(a){return'\x3cspan class\x3d"a-spinner a-spinner-'+a+' a-align-center aok-hidden"\x3e\x3c/span\x3e'};return{build:function(d){var g=
d.shareUrl,b=d.socialLinks,t=b===f?{}:b;b=d.shareDataAttributes;var n=d.builtChannels,u=d.kpModalParams,m=d.t;t.email=d.mailToUri;var y='\x3cspan class\x3d"a-button ssf-copy"\x3e\n        \x3cspan class\x3d"a-button-inner"\x3e\n          \x3cinput class\x3d"a-button-input" type\x3d"button"\x3e\n          \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3e\n            \x3cdiv class\x3d"copy-label"\x3e'+m.taf_copy_tooltip+"\x3c/div\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e\n      \x3c/span\x3e";
!k()&&a()&&1>q(".ssf-feedback").length&&q(document.body).append('\x3cdiv class\x3d"a-changeover ssf-feedback" style\x3d"display:none"\x3e\n          \x3cdiv class\x3d"a-changeover-inner"\x3e\n            \x3ci class\x3d"a-icon a-icon-checkmark-inverse"\x3e\x3c/i\x3e\n            \x3cstrong class\x3d"a-size-medium"\x3e'+m.taf_copy_url_changeover+"\x3c/strong\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e");var l=function(a){return{title:m["taf_"+a.name+"_tooltip"]||a.label,label:m["taf_"+a.name+
"_name"]||a.label}};h.lineMarketplaces.includes(b.marketplaceId)||t.li?c.push("pi"):c.push("li");u||c.push("embed");h.cnMarketplace.includes(b.marketplaceId)&&c.push.apply(c,z(h.nonCNChannels));return{getModal:function(){var b="",d=!0,u=!1,h=f;try{for(var k=Object.entries(n)[Symbol.iterator](),q;!(d=(q=k.next()).done);d=!0){var r=V(q.value,2),F=r[0],w=r[1];if(!c.includes(F)&&"copy"!==F){var B=l(w),v=t[w.name]||w.getSharingUrl();b+='\x3cdiv class\x3d"ssf-channel-h"\x3e\n              \x3ca class\x3d"ssf-channel a-color-base" href\x3d"'+
v+'" title\x3d"'+B.title+'" data-key\x3d"'+F+'"\x3e\n                '+e("medium")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+B.label+'" style\x3d"background-image: url('+w.image+')"\x3e\x3c/i\x3e\n              \x3c/a\x3e\n              \x3cspan\x3e'+B.label+"\x3c/span\x3e\n            \x3c/div\x3e"}}}catch(C){u=!0,h=C}finally{try{!d&&k.return&&k.return()}finally{if(u)throw h;}}d=a()?'\x3cdiv class\x3d"ssf-copy-section a-box a-padding-base a-spacing-top-large"\x3e\n              \x3cdiv class\x3d"link-section"\x3e'+
g.return+'\x3c/div\x3e\n              \x3cdiv class\x3d"copy-button"\x3e'+y+"\x3c/div\x3e\n          \x3c/div\x3e":"";return'\x3ch3 class\x3d"a-spacing-large"\x3e'+m.taf_share_bottom_sheet_title+"\x3c/h3\x3e"+('\x3cdiv class\x3d"ssf-h-icons"\x3e'+b+"\x3c/div\x3e")+d},getPopover:function(){var a="",b=!0,d=!1,m=f;try{for(var g=Object.entries(n)[Symbol.iterator](),u;!(b=(u=g.next()).done);b=!0){var h=V(u.value,2),k=h[0],w=h[1];if(!c.includes(k)){var q=l(w),r=t[w.name]||w.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-v"\x3e\n              \x3ca class\x3d"ssf-channel '+
k+' a-color-base" href\x3d"'+r+'" title\x3d"'+q.title+'" data-key\x3d"'+k+'"\x3e\n                '+e("small")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+q.label+'" style\x3d"background-image: url('+w.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"'+k+'-label"\x3e'+q.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/div\x3e"}}}catch(C){d=!0,m=C}finally{try{!b&&g.return&&g.return()}finally{if(d)throw m;}}return""+a},getBottom:function(){var a="",b=!0,d=!1,g=
f;try{for(var u=Object.entries(n)[Symbol.iterator](),h;!(b=(h=u.next()).done);b=!0){var k=V(h.value,2),q=k[0],w=k[1];if(!c.includes(q)){var r=l(w),y=t[w.name]||w.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-b a-padding-base"\x3e\n              \x3ca class\x3d"ssf-channel '+q+' a-color-base" href\x3d"'+y+'" title\x3d"'+r.title+'" data-key\x3d"'+q+'"\x3e\n                '+e("medium")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+r.label+'" style\x3d"background-image: url('+w.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"a-size-base-plus"\x3e'+
r.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/div\x3e"}}}catch(C){d=!0,g=C}finally{try{!b&&u.return&&u.return()}finally{if(d)throw g;}}return'\x3cdiv class\x3d"a-padding-base ssf-header"\x3e\n          \x3ch4\x3e'+m.taf_share_bottom_sheet_title+'\x3c/h4\x3e\n        \x3c/div\x3e\x3cdiv class\x3d"ssf-scroll"\x3e'+a+"\x3c/div\x3e"},getCustomize:function(){var a=void 0;x.now("SocialShareWidgetCustomizeTemplate").execute(function(b){a=d.customize?b.getCustomizeBox(m):""});var b='\x3ch3 class\x3d"a-spacing-base a-spacing-top-base"\x3e'+
m.taf_share_bottom_sheet_title+"\x3c/h3\x3e",c='\x3cdiv class\x3d"ssf-heading-container"\x3e\x3cimg class\x3d"ssf-back-btn" src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg"\x3e'+b+"\x3c/div\x3e",f='\x3cdiv class\x3d"a-padding-base a-box ssf-preview-container ssf-no-border" style\x3d"background-image: url('+d.image+')"\x3e'+e("medium")+"\x3c/div\x3e",g=d.caf?'\x3cdiv class\x3d"a-row a-spacing-top-large'+(d.customize?"":" a-spacing-large")+'"\x3e\n          \x3cdiv class\x3d"a-column a-span9"\x3e\n            \x3cstrong class\x3d"ssf-caf-toggle-label"\x3e'+
m.taf_custshare_caf_ingress+'\x3c/strong\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d"a-column a-span3 a-text-right a-span-last"\x3e\n            \x3cdiv class\x3d"a-switch-row ssf-caf-toggle"\x3e\n          \x3cinput class\x3d"a-declarative a-switch-input" data-action\x3d"a-switch-input" name\x3d"caf" type\x3d"checkbox"\x3e\n          \x3clabel class\x3d"a-switch-label a-declarative" data-action\x3d"a-switch-label"\x3e\n            \x3cdiv class\x3d"a-switch a-declarative" data-action\x3d"a-switch"\x3e\n              \x3ca class\x3d"a-switch-control" style\x3d"transform: translateX(-1px) translateZ(0px);"\x3e\x3c/a\x3e\n            \x3c/div\x3e\n          \x3c/label\x3e\n        \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e':
"",u='\x3cspan class\x3d"a-button a-button-primary a-spacing-top-small ssf-customize-share-btn"\x3e\n          \x3cspan class\x3d"a-button-inner"\x3e\n            \x3cinput class\x3d"a-button-input" type\x3d"button" aria-labelledby\x3d"ssf-customize-share-btn"\x3e\n            \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"ssf-customize-share-btn"\x3e\n              '+d.shareLabel+"\n              "+e("small")+"\n            \x3c/span\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e";
return'\x3cdiv class\x3d"a-padding-base ssf-customize-container-one"\x3e'+b+f+g+a+u+"\x3c/div\x3e"+(d.customize?'\x3cdiv class\x3d"a-padding-base ssf-customize-container-two aok-hidden"\x3e'+c+f+g+'\x3cdiv class\x3d"a-row a-spacing-top-base a-padding-base ssf-tabs"\x3e\x3c/div\x3e'+u+"\x3c/div\x3e":"")}}}}});"use strict";x.when("jQuery","SocialShareWidget","SocialShareWidgetState").register("SocialShareWidgetTiny",function(g,l,v){var q=l.SocialShareCore.Metrics;return{fetch:function(a){var k=a.data,
c=a.isAsync;c=c===f?!0:c;var e=a.callback;if(v.get("dpx")){a=v.get("shareData");var d=v.get("shareAapiCsrfToken"),r=v.get("aapiBaseUrl");"dprv"===a.refId&&(k.shareAapiCsrfToken=d,k.aapiBaseUrl=r,k.tinyUrlEnabled=!0,q.logCounter("reviews.tiny"))}a=h.location.protocol+"//";k.isOGTEnabled&&(d=new URL(k.url),d.searchParams.append("newOGT","1"),k.url=d.toString());(d=k.deeplinkInfo)&&d.isDisabled&&d.flag!=f&&(r=new URL(k.url),r.searchParams.append("nodl",d.flag),k.url=r.toString());if(k.tinyUrlEnabled)if(k.aapiBaseUrl&&
k.shareAapiCsrfToken&&k.marketplaceId)a=""+a+k.aapiBaseUrl+"/api/marketplaces/"+k.marketplaceId+"/social-share/tinyurl",d={longUrl:k.url},0<k.refMarkerId&&k.url.match(".+(?\x3d(\\/ref\x3d|ref_\x3d)([A-Za-z0-9_])+$).+")&&(d={longUrl:k.url+"_"+k.refMarkerId}),r={"Accept-Language":"en-US",Accept:'application/vnd.com.amazon.api+json; type\x3d"social-share.tinyurl/v1"',"x-api-csrf-token":k.shareAapiCsrfToken,"Content-Type":"application/x-www-form-urlencoded","x-amzn-encrypted-slate-token":v.get("slateToken")},
q.startTimer("Tiny"),g.ajax(a,{type:"POST",headers:r,xhrFields:{withCredentials:!0},contentType:"application/x-www-form-urlencoded",async:c,data:d,success:function(a){q.logCounter("Desktop.Tiny.Response");q.logCounterRefactor("Tiny.Response");a.entity&&a.entity.shortUrl?e(a.entity.shortUrl.url):e(k.url);q.stopTimer("Tiny")},error:function(){q.logCounter("Desktop.Tiny.Error");q.logCounterRefactor("Tiny.Error");q.stopTimer("Tiny");e(k.url)}});else return q.logCounter("Tiny.Unavailable"),q.logCounterRefactor("Tiny.Unavailable"),
e(k.url);else return e(k.url)}}});"use strict";x.when("A").register("SocialShareWidgetState",function(f){var g="social-"+h.ue_id+"-share",v={slateToken:f.$('meta[name\x3d"encrypted-slate-token"]').attr("content")||"",dpx:!1};f.state(g,v);return{getCurrent:function(){return f.state(g)},get:function(f){return this.getCurrent()[f]},getAndReset:function(f){var a=this.get(f);a&&this.set(f,null);return a},set:function(h,a){var k=this.getCurrent();f.trigger("ssf:event:state:set",k);if(!h)return k;k[h]=a;
k=f.state(g,k);f.trigger("ssf:event:state:changed",k);return k}}});"use strict";x.when("jQuery","SocialShareWidget","SocialShareWidgetState").register("SocialShareWidgetAPI",function(g,l,v){l=l.SocialShareCore;var q=l.Constants,a=l.Metrics,k=h.location.protocol+"//",c=a.getMetricName(g,q.customize),e=Object.freeze({GET:"GET",POST:"POST",PUT:"PUT"}),d=Object.freeze({generateImage:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.generate.customized.image.response/v1"',
externalizeImage:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.externalize.customized.image.response/v1"',fetchTabs:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.shareable.attributes.response/v1"',fetchCAFID:'application/vnd.com.amazon.api+json; type\x3d"aapi.consultafriendcontracts.custom.consult-a-friend.feedback-request.response/v1"'}),r=function(a){return(a=a.entity)&&"SUCCEEDED"===a.status?
a.tabs.map(function(a){var b={id:a.id,heading:a.shortDisplayName,text:a.longDisplayName,isQuote:!0};a.params&&(b.values=Object.values(a.params)[0],b.isQuote=!1);return b}):[]};return{build:function(b){var h=b.shareAapiCsrfToken,n=b.locale,u=b.cafAapiCsrfToken,m=b.productType,y=b.shareDataAttributes,l=y.marketplaceId,D=y.asin,H=y.ingress,G=k+b.aapiBaseUrl,A=v.get("slateToken");A||(a.logCounter(c,"slate.missing"),a.logCounterRefactor("slate.missing",H));var p=function(a){return G+"/custom/socialshareapicontracts/marketplaces/"+
l+"/products/"+D+"/shareframework/"+a},E=function(a){var b=a.async;g.ajax({url:a.url,type:a.type,async:b===f?!0:b,data:a.data,headers:{"Accept-Language":n,Accept:a.accept,"x-api-csrf-token":a.cafToken||h,"Content-Type":"application/x-www-form-urlencoded","x-amzn-encrypted-slate-token":A},xhrFields:{withCredentials:!0},success:a.success,error:a.error})};return{generateImage:function(b,m){var f=p("generatecustomizedimage");E({url:f,type:e.POST,data:b,accept:d.generateImage,success:function(b){a.logCounter(c,
"generateCustomizeImageSuccess");a.logCounterRefactor("generateCustomizeImageSuccess",H);m(b)},error:function(b){a.logCounter(c,"generateCustomizeImageFail");a.logCounterRefactor("generateCustomizeImageFail",H);m(b)}})},externalizeImage:function(b,m,f){b=p("externalizecustomizedimage?customizedImageUrl\x3d"+b);E({url:b,type:e.PUT,accept:d.externalizeImage,async:f,success:function(a){m(a)},error:function(){a.logCounter(c,"externalizeImageFail");a.logCounterRefactor("externalizeImageFail",H);m({})}})},
fetchTabs:function(b){var f=p("productshareableattributes?locale\x3d"+n+"\x26type\x3d"+m);E({url:f,type:e.GET,accept:d.fetchTabs,success:function(d){a.logCounter(c,"FetchTabsSuccess");a.logCounterRefactor("FetchTabsSuccess",H);b(r(d))},error:function(){a.logCounter(c,"FetchTabsFail");a.logCounterRefactor("FetchTabsFail",H);b([])}})},fetchCAFID:function(m){var g=1<arguments.length&&arguments[1]!==f?arguments[1]:!0,h=G+"/custom/consultafriendcontracts/marketplaces/"+l+"/consultafriend/feedback-request/"+
D;a.logCounter(c,"CAF.createCAFID.called");a.logCounterRefactor("CAF.createCAFID.called",H);E({url:h,type:e.POST,accept:d.fetchCAFID,async:g,cafToken:u,success:function(a){m(a.entity&&a.entity.cafId,D,b.url)},error:function(b){a.logCounter(c,"CAF.createCAFID.failed");a.logCounterRefactor("CAF.createCAFID.failed",H);x.log("Error Creating CAF Id. with request URL "+h+", Error Code: "+b.status+". Error Response: "+b.responseText,"ERROR",q.SSF_AUI_PACKAGE_ATTRIBUTION);m()}})}}}}});"use strict";x.when("A",
"SocialShareWidget").register("SocialShareWidgetCustomShareOptionsTemplate",function(g,h){var l=g.capabilities.rtl,q=h.SocialShareCore.Detection.isAndroid(),a=void 0,k=g.constants.HIDE_CLASS;x.when("mash").execute(function(b){return a=b});var c=function(b,c){if(!a)return c([]);var d=b.length,f=[];b.forEach(function(a){e(a,function(a,b){d--;b&&(f[a.label.toLowerCase()]=a);(3<=f.length||0>=d)&&c(f)})})},e=function(b,c){var d="whatsapp"===b.label.toLowerCase()&&q;a.canLaunchIntentURL({url:b.schemeURI,
successCallback:function(a){if(d)return c(b,!0);c(b,a)},failCallback:function(){if(d)return c(b,!0);c(b,!1)}})},d=function(a){var b=1<arguments.length&&arguments[1]!==f?arguments[1]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return'\x3cimg class\x3d"'+b+'" src\x3d"'+a+'" /\x3e'},r=function(){return'\x3cspan class\x3d"a-size-mini ssf-rating-count"\x3e'+(0<arguments.length&&arguments[0]!==f?arguments[0]:"")+"\x3c/span\x3e"};return{getChannelsHtml:function(b,
d){var e="";c(b.customShareOptions,function(c){c=g.extend(c,b.defaultCustomShareOptions);b.customShareBuiltChannels=c;for(var m in c)if(!("more"===m&&!a||"copy"===m&&q)){var h=e;var u=b;var n=c[m],r=n.stringId,t=n.className,l=n.label;n="https://m.media-amazon.com/images/G/01/share-icons/"+n.image;u='\x3cli class\x3d"ssf-custom-share-option '+(t===f?"":t)+'"  data-name\x3d"'+l.toLowerCase()+'"\x3e\n                    \x3cdiv class\x3d"ssf-custom-share-spinner"\x3e\n                        '+('\x3cspan class\x3d"a-spinner a-spinner-medium a-align-center '+
k+'"\x3e\x3c/span\x3e')+'\n                        \x3cimg src\x3d"'+n+'" title\x3d"'+l+'" /\x3e\n                    \x3c/div\x3e\n                    \x3cspan class\x3d"label a-size-small"\x3e'+(u.t[r]||l)+"\x3c/span\x3e\n                 \x3c/li\x3e";e=h+u}d('\x3cdiv class\x3d"ssf-custom-channels-container a-color-base-background"\x3e\x3cdiv class\x3d"ssf-no-border"\x3e\x3cul class\x3d"ssf-custom-share-options-container a-unordered-list a-nostyle"\x3e'+e+"\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e")})},
getPreviewImage:function(a){var b=a.starRating,c=a.numberOfReviews,e=l?"r":"";a='\x3cdiv class\x3d"ssf-cso-p-image ssf-regular"\x3e'+d(a.productImage,"ssf-regular")+"\x3c/div\x3e";b=b?d("RIO"+b+e+".png","ssf-caf-stars"):"";c=r(c);return'\x3cdiv class\x3d"ssf-cso-p-image"\x3e'+a+('\x3cdiv class\x3d"ssf-cso-stickers ssf-regular"\x3e'+b+c+"\x3c/div\x3e")+"\x3c/div\x3e"},getErrorAlert:function(a){return'\x3cdiv class\x3d"ssf-error-text a-row '+k+'"\x3e\n          \x3cdiv class\x3d"a-box a-alert-inline a-alert-inline-error" role\x3d"alert"\x3e\n              \x3cdiv class\x3d"a-box-inner a-alert-container"\x3e\n                  \x3ci class\x3d"a-icon a-icon-alert"\x3e\x3c/i\x3e\n                  \x3cdiv class\x3d"a-alert-content"\x3e\n                    \x3cspan class\x3d"ssf-error-generic '+
k+'"\x3e'+a.taf_custshare_channel_error_generic+'\x3c/span\x3e\n                    \x3cspan class\x3d"ssf-error-email '+k+'"\x3e'+a.taf_custshare_channel_error_email+"\x3c/span\x3e\n                  \x3c/div\x3e\n              \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e"}}});"use strict";x.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetState").register("SocialShareWidgetCustomShareOptions",function(g,l,v,q){var a=g.$;l=l.SocialShareCore;var k=l.ShareSheet,c=
l.Metrics,e=l.Constants,d=void 0,r=void 0,b=void 0,t=void 0,n=!1,u=g.constants.HIDE_CLASS;x.when("mash").execute(function(a){r=a});x.when("SocialShareWidgetTiny").execute(function(a){d=a});x.when("SocialShareWidgetCustomizeUtils").execute(function(a){b=a});x.when("SocialShareWidgetCAFUtils").execute(function(a){t=a});return{init:function(m,l,F,v,H,G){var y=m.shareDataAttributes;l=m.incrementShareCount;var p=l===f?null:l;l=m.treatment;var D=l===f?"":l;l=m.weblab;var z=l===f?"":l;l=m.refererURL;var I=
l===f?"":l,w=m.ingress;g.on("ssf:event:caf-switch-change",function(a){n=a});var B=function(a){a.addClass("ssf-noclick");a.find(".a-spinner").removeClass(u)},M=function(a){a.removeClass("ssf-noclick");a.find(".a-spinner").addClass(u)},C=function(){return n?(m.t["taf-share-caf-messageprefix"]||"")+" "+m.title:m.title},K=function(a,c,e){n?t.prepareShareUrl(m,a,d,c,function(a,b){return e(a,b)}):b.prepareShareUrl(m,a,d,c,function(a){return e(a)})},J=function(a){a&&g.trigger("ssf:event:caf-share-complete-success",
m)},L=function(a,b,c,d){var e=encodeURIComponent(d+" \n "+c);return"Messages"===b?g.capabilities.ios?"sms:///\x26body\x3d"+e:"mms:?\x26body\x3d"+e:"Email"===b?a=a.replace("\x26url\x3d{url}","").replace("{subject}",encodeURIComponent(m.emailSubject)).replace("{body}",""+e):a=a.replace("{text}",encodeURIComponent(d)).replace("{url}",encodeURIComponent(c))},P=function(){K(e.EMPTY_STRING,!0,function(a){var b=1<arguments.length&&arguments[1]!==f?arguments[1]:"";m.tinyUrl=a;var d=m;b&&(d=g.extend({channelSelectCB:function(){J(b)},
cafSwitchEnabled:n},m),d.title=C());(new k(d)).launch(function(){c.logCounterRefactor("customShareOptions.SheetOpen",w)})})};a(".custom-share-native-sheet").unbind("click").click(function(a){F();P()});a(".custom-share-copy").unbind("click").click(function(b){var d=e.CUSTOM_SHARE_OPTIONS_CP_CHANNEL_REF,h=m.caf,g=a(this);B(g);K(d,!1,function(b){var u=1<arguments.length&&arguments[1]!==f?arguments[1]:"";navigator.clipboard.writeText(b).then(function(){var b=m.isCustomShareOptionsSheetEnabled;b=b===f?
!1:b;var k=m.shareUrl.refMarker.getClickForChannel(d),l=q.getAndReset(e.customizeShareStateKey);c.logCSAEvent(e.CSA_HIT_TYPE.SHARE,{channel:"copy",refMarker:k,refererURL:I,shareDataAttributes:y,treatment:D,weblab:z,isCustomShareOptionsSheetEnabled:b,caf:h,cafSwitchEnabled:n,customizeShareCSAData:l});c.logCounterRefactor("CopySuccess",y.ingress);"function"===typeof p&&p(k);a(".ssf-feedback").show();M(g);F();u&&J(u)},function(){G({shareData:m,channelRef:d,caf:h,cafSwitchEnabled:n});M(g)})})});a(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").unbind("click");
a(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").click(function(b){var d=a(this);b=m.customShareBuiltChannels;var g=m.isCustomShareOptionsSheetEnabled,k=g===f?!1:g;g=m.caf;var l=g===f?!1:g;g=m.isFallbackShareUrlEnabled;var w=g===f?!1:g,t=d.data("name"),v=b[t];b=e.CUSTOM_SHARE_OPTIONS_REF_PREFIX+"_"+v.ref;var G=m.shareUrl.refMarker.getClickForChannel(b);a(".ssf-error-text").addClass(u);B(d);K(b,!0,function(a){var b=1<arguments.length&&arguments[1]!==f?arguments[1]:"",
g=q.getAndReset(e.customizeShareStateKey),u=L(v.shareUrl,v.label,a,C());r?r.launchIntentURL({url:u,successCallback:function(){M(d);F();c.logCounterRefactor("ChannelClick",y.ingress);"function"===typeof p&&p(G);b&&J(b);c.logCSAEvent(e.CSA_HIT_TYPE.SHARE,{channel:t,refMarker:G,refererURL:I,shareDataAttributes:y,treatment:D,weblab:z,isCustomShareOptionsSheetEnabled:k,caf:l,cafSwitchEnabled:n,customizeShareCSAData:g})},failCallback:function(b){x.log("Failed to launch intent URL "+u+" with error code: "+
b.code,"WARN",e.SSF_AUI_PACKAGE_ATTRIBUTION);c.logCounterRefactor("customShareOptions.LaunchShareIntentFail",m.shareDataAttributes.ingress);M(d);w&&v.fallbackShareUrl?(c.logCSAEvent(e.CSA_HIT_TYPE.SHARE,{channel:t,refMarker:G,refererURL:I,shareDataAttributes:y,treatment:D,weblab:z,isCustomShareOptionsSheetEnabled:k,caf:l,cafSwitchEnabled:n,customizeShareCSAData:g}),h.location=L(v.fallbackShareUrl,v.label,a,C())):(F(),P())}}):(M(d),c.logCSAEvent(e.CSA_HIT_TYPE.SHARE,{channel:t,refMarker:G,refererURL:I,
shareDataAttributes:y,treatment:D,weblab:z,isCustomShareOptionsSheetEnabled:k,caf:l,cafSwitchEnabled:n,customizeShareCSAData:g}),F(),h.open(u,"_blank"))})})}}});"use strict";x.when("A","SocialShareWidgetState","atf").execute(function(f,h){var g=f.$("#ssf-primary-widget-desktop");f=f.$("#ssf-share-action");g=g.data("ssfShareIcon")||f.data("ssfShareIcon")||{};h.set("shareAapiCsrfToken",g.shareAapiCsrfToken);h.set("aapiBaseUrl",g.aapiBaseUrl);h.set("dpx",!0)});"use strict";x.when("A","SocialShareWidget").execute(function(f,
h){var g=h.SocialShareCore.Metrics,l=void 0;h=f.debounce(function(){clearTimeout(l)},200,!0);f.declarative("ssf-share-icon","touchstart",function(){l=setTimeout(function(){g.logCounter("longpress");g.logCounterRefactor("longpress")},500)});f.declarative("ssf-share-icon","touchmove touchend",h)});"use strict";x.when("SocialShareWidget").execute(function(f){var g=f.SocialShareCore.Metrics;x.now("SocialShareWidgetLoadedBTF").execute(function(f){f?g.logCounter("btf:render"):g.logCounter("atf:render")})});
"use strict";"use strict";x.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetCustomizeUtils").register("SocialShareWidgetCustomize",function(g,l,v,q){l=l.SocialShareCore;var a=g.$,k=l.ShareSheet,c=l.Url,e=l.Metrics,d=l.Constants,r=e.getMetricName(a,d.customize),b=g.constants.HIDE_CLASS,t=function(){},n={},u=0,m=void 0,y=void 0,F=void 0,D=void 0,H=void 0;x.when("a-checkbox").execute(function(a){return y=a});x.when("a-button").execute(function(a){return m=a});try{(function(){var l=
q.imageState;g.declarative("cafCheckboxAction","change",function(){F()});g.on(q.getEventName("Hide"),function(a){a.sheet.getContentContainer().remove();l.clear()});g.on("a:sheet:afterShow:ssf-customize-bottom-sheet",function(a){I(a.sheet)});var A=function(a){var b=a.productImage;a.cafSwitch||(a=new Image,a.src=b,a.onload=function(){l.productImageProperties.width=this.width;l.productImageProperties.height=this.height})},p=function(b,c){var d=a(".ssf-preview-container"),f=a(".ssf-caf-image"),m=(n.cafSwitch=
b)?"CAF.switchOn":"CAF.switchOff";e.logCounter(r,m);e.logCounterRefactor(m,c);g.trigger("ssf:event:caf-switch-change",b);b?(f.fadeIn(100),d.hide()):(d.fadeIn(100),f.hide())},z=function(a){var b=a.shareData,c=a.channelRef,d=b.shareUrl;a=b.isOGTEnabled;a=a===f?!1:a;var e=b.aapiBaseUrl;e=e===f?"":e;var m=b.shareAapiCsrfToken;m=m===f?"":m;var g=b.tinyUrlEnabled;g=g===f?!1:g;var h=b.deeplinkInfo;h=h===f?{}:h;var k=b.shareDataAttributes,n=b.storeId;n=n===f?"":n;c=c?d.getReturnForChannel(c):d.return;d=k.marketplaceId;
return{tinyUrlEnabled:g,aapiBaseUrl:e,shareAapiCsrfToken:m,marketplaceId:d===f?"":d,url:c,isOGTEnabled:a,originalUrl:b.url||c,refMarkerId:u++,deeplinkInfo:h,storeId:n}},O=function(u,n,l,p,t,q,y){var w=l.shareDataAttributes,F=l.url,D=w.asin,v=w.ingress;w=l.refId;a(".ssf-customize-share-btn").find(".a-spinner").addClass(b);m(".ssf-customize-share-btn").enable();n();var H=!1;n=new URL(q===f?F:q);p&&(w=d.CAF_REF_PREFIX+"_"+w,n.searchParams.append("cafId",p),n.searchParams.append("cafASIN",t),t!==D&&e.logCounter(r,
"CAF.ShareASINMismatch"),H=!0);n.searchParams.append("language",h.languageOfPreference||l.locale||"en_US");l.shareUrl=new c(n.toString(),w);var A=z({shareData:l});x.when("SocialShareWidgetTiny").execute(function(a){a.fetch({data:A,callback:function(a){l.tinyUrl=a;y&&y();a=g.extend({channelSelectCB:function(){p&&g.trigger("ssf:event:caf-share-complete-success",l)},cafSwitchEnabled:H},l);(new k(a)).launch(function(){g.delay(function(a){u(l)},100);p?(e.logCounter(r,"CAF.ShareSheetOpen"),e.logCounterRefactor("CAF.ShareSheetOpen",
v)):(e.logCounter(r,"ShareSheetOpen"),e.logCounterRefactor("ShareSheetOpen",v))})}})})},I=function(a){var b=a.$contentContainer,c=parseInt(a.$container.css("max-height"));b=parseInt(b.height());c<b?(a.$contentContainer.css("height",c),e.logCounter("SmallDevice")):a.$contentContainer.css("height","auto")};t=function(c,g,h,u){var k=c.shareDataAttributes,t=c.treatment,w=t===f?"":t;t=c.weblab;var G=t===f?"":t,z=k.ingress;n={productImage:c.productImage||c.image,rating:c.starRating,caf:c.caf,cafSwitch:c.cafSwitch,
text:c.t.taf_custshare_caf_recipientemoji};var B=function(a){e.logCounter(r,a);e.logCounterRefactor(a,z)},C=function(a){v.build(c).generateImage(a,function(a){(a=a.entity)&&"SUCCEEDED"===a.status&&(a=a.customizedImage.url,l.currentImage=a,A({productImage:a}),q.setImage(a),q.hideImageSpinner())})};F=function(){var a=y(".ssf-caf-toggle");p(a.isChecked(),z)};A(n);p(n.cafSwitch,z);c.customizePreSelected||c.caf||(t=q.getImageData(c,l),C(t));a(".ssf-customize-share-btn").click(function(){m(".ssf-customize-share-btn").isEnabled()&&
(a(".ssf-customize-share-btn").find(".a-spinner").removeClass(b),m(".ssf-customize-share-btn").disable(),n.cafSwitch?(B("CAF.shareClick"),e.startTimer("CAF.fetchCAFAndTinyURL"),c.title=(c.t["taf-share-caf-messageprefix"]||"")+" "+c.title,v.build(c).fetchCAFID(function(a,b,d){O(g,h,c,a,b,d,function(){e.stopTimer("CAF.fetchCAFAndTinyURL")})})):(B("shareClick"),e.logCSAEvent(d.CSA_HIT_TYPE.CUSTOMIZE_SHARE,{channel:d.EMPTY_STRING,refMarker:c.shareUrl.refMarker.click,shareDataAttributes:k,treatment:w,
weblab:G}),O(g,h,c)))});a("#ssf-customize-icon").click(function(){var b=this;m(this).isEnabled()&&(B("CustomizeButtonClick"),m(this).disable(),v.build(c).fetchTabs(function(d){x.now("SocialShareWidgetCustomizeTemplate").execute(function(f){a(".ssf-tabs").html(f.getTabs(c,d));m(b).enable();d.forEach(function(b){b.isQuote&&b.values.length&&(D=b.values[0]);"BackgroundImageTab"==b.id&&b.values.forEach(function(a){"417kcYISTOL.jpg"==a.physicalId&&(H=a)});var d="input[type\x3dradio][name\x3d"+b.id+"]";
a(d).change(function(b){b=JSON.parse(b.target.value);E(b);a(d).unbind("click");a(this).one("click",function(a){a=a.target;a.checked=!1;a=JSON.parse(a.value);q.setImage();q.showImageSpinner();B(a.id+"Unselect");l.unset(a);a=q.getImageData(c,l);C(a)})})});c.customizePreSelected&&(a("#BackgroundImageTab1").trigger("click"),E(H),D&&(a("#BookQuotesTab0").trigger("click"),E(D)))});q.transitionToCustomizePage();q.adjustPreviewHeight();I(u)}))});var E=function(a){q.setImage();q.showImageSpinner();l.set(a);
var b=q.getImageData(c,l);B(a.id+"Select");C(b)};a(".ssf-back-btn").click(function(){e.logCounter("BackButtonClick");q.transitionToDefaultPage();I(u);l.clear();var a=q.getImageData(c,l);C(a)});x.when("a-checkbox").execute(function(b){a(".ssf-caf-toggle-label").click(function(){var a=b(".ssf-caf-toggle");a.check(!a.isChecked())})})}})()}catch(G){e.logCounter(r,"Error"),e.logLoad("Error"),e.logFatal("Error loading Customize widget, Share Framework AUI: "+G.toString())}finally{e.logCounter(r,"Render"),
e.logLoad("Render")}return{init:t}});"use strict";x.when("A").register("SocialShareWidgetCustomizeTemplate",function(g){var h=g.capabilities.rtl,v=function(a){var b=1<arguments.length&&arguments[1]!==f?arguments[1]:"ssf-product-title-text";g.on("a:sheet:afterShow:ssf-customize-bottom-sheet",function(){g.$("#ssf-title-label").text(a.title)});return'\x3cdiv class\x3d"a-color-secondary a-padding-small '+b+'"\x3e\n      \x3cspan id\x3d"ssf-title-label"\x3e\n        \x3c!-- TITLE  --\x3e\n      \x3c/span\x3e\n    \x3c/div\x3e'},
q=function(a){var b=1<arguments.length&&arguments[1]!==f?arguments[1]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return'\x3cimg class\x3d"'+b+'" src\x3d"'+a+'"/\x3e'},a=function(a){var b=1<arguments.length&&arguments[1]!==f?arguments[1]:"",c=2<arguments.length&&arguments[2]!==f?arguments[2]:"",d=3<arguments.length&&arguments[3]!==f?arguments[3]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return c||d?'\x3cimg class\x3d"'+
b+'" '+(d?'aria-labelledby\x3d"'+d+'"':"")+" "+(c?'aria-label\x3d"'+c+'"':"")+' src\x3d"'+a+'"/\x3e':q(a,b)},k=function(){return'\x3cspan class\x3d"a-size-mini ssf-rating-count"\x3e'+(0<arguments.length&&arguments[0]!==f?arguments[0]:"")+"\x3c/span\x3e"},c=function(a){return'\x3cul class\x3d"ssf-options-box-container a-unordered-list a-nostyle"\x3e'+a.values.map(function(b,c){var d=g.extend(b,{id:a.id}),e={id:a.id,position:c,val:d,background:b.url};a.isQuote&&(e=g.extend(e,{center:!0,width:150,content:d.displayText,
background:f}));d=e.id;c=e.position;b=e.content;b=b===f?"":b;var h=e.width,k=h===f?100:h,l=e.background;h=e.center;h=h===f?!1:h;e=e.val;k='style\x3d"width: '+k+"px;background-image: url("+(l===f?"":l)+");background-size: "+k+"px "+k+'px;"';l=JSON.stringify(e);c=d+c;e=e.label||"";var n='\x3cspan class\x3d"aok-offscreen"\x3e'+e+"\x3c/span\x3e";h&&(n='\x3cspan class\x3d"a-box-inner a-text-center ssf-q-text"\x3e'+b+"\x3c/span\x3e");return'\x3cli class\x3d"ssf-options-box" aria-label\x3d\''+e+"'\x3e\n              \x3cinput id\x3d\""+
c+'" type\x3d"radio" name\x3d"'+d+"\" value\x3d'"+l+"' aria-label\x3d'"+e+"'\x3e\x3c/input\x3e\n              \x3clabel for\x3d\""+c+'" class\x3d"a-box a-text-normal" '+k+"\x3e"+n+"\x3c/label\x3e\n            \x3c/li\x3e"}).join("")+"\x3c/ul\x3e"},e=function(a){var b=2<arguments.length&&arguments[2]!==f?arguments[2]:!1;return'\x3cli class\x3d"a-tab-heading ssf-customize-tab '+(b?"a-active":"")+'" data-a-tab-name\x3d"ssf-tab-'+a+'" role\x3d"presentation"\x3e\n              \x3ca href\x3d"#" role\x3d"tab" aria-selected\x3d"'+
(b?"true":"false")+'" '+(b?"":'tabindex\x3d"-1"')+"\x3e"+(1<arguments.length&&arguments[1]!==f?arguments[1]:"")+"\x3c/a\x3e\n            \x3c/li\x3e"},d=function(a){return'\x3cdiv data-a-name\x3d"ssf-tab-'+a+'" class\x3d"ssf-tab-'+a+" a-box a-box-tab a-tab-content "+(3<arguments.length&&arguments[3]!==f&&arguments[3]?"":"a-hidden")+' a-padding-mini" role\x3d"tabpanel" tabindex\x3d"0"\x3e\n              '+(1<arguments.length&&arguments[1]!==f?arguments[1]:"")+"\n            \x3c/div\x3e"},r=function(){return(0<
arguments.length&&arguments[0]!==f?arguments[0]:[]).map(function(a){a=a.replace(/"|”|“/g,"");return{displayText:"“"+a+"”",value:a}})};return{getTabs:function(a,f){var b=a.popularHighlightStrings;if(!f.length)return"";var h="",g="",k=-1;f.forEach(function(a,f){a.isQuote&&(a.values=r(b));if(!a.values.length)return"";-1===k&&(k=f);f=f===k;h+=e(a.id,a.heading,f);g+=d(a.id,c(a),a.text,f)});return'\x3cdiv class\x3d"a-tab-container a-size-small"\x3e'+('\x3cul data-action\x3d"a-tabs" class\x3d"a-tabs a-declarative ssf-customize-tab a-spacing-small" role\x3d"tablist" data-a-tabs\x3d\'{"name": "customize-tabs"}\'\x3e\n        '+
h+"\x3c/ul\x3e"+g)+"\x3c/div\x3e"},getCustomizeBox:function(a){return'\x3cdiv class\x3d"a-box a-color-alternate-background a-spacing-top-large a-padding-base ssf-customize-box"\x3e\n      '+('\x3ch5 class\x3d"a-size-small a-spacing-micro"\x3e'+a.taf_custshare_customizelong+"\x3c/h5\x3e")+('\x3cp class\x3d"a-size-small a-color-secondary"\x3e'+a.taf_custshare_customizedesc+"\x3c/p\x3e")+('\x3cspan class\x3d"a-button a-button-small" id\x3d"ssf-customize-share"\x3e\n      \x3cspan class\x3d"a-button-inner"\x3e\n        \x3cbutton class\x3d"a-button-text" type\x3d"button"\x3e'+
a.taf_custshare_customizeshort+"\x3c/button\x3e\n      \x3c/span\x3e\n    \x3c/span\x3e")+"\n    \x3c/div\x3e"},getBackArrow:function(a){a=a["taf-share-general-gobacktopage"]||"";return'\x3cbutton type\x3d"button" class\x3d"ssf-back-btn a-padding-small" aria-label\x3d"'+a+'" tabindex\x3d"0"\x3e'+('\x3cimg src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg" alt\x3d"'+a+'"\x3e')+"\x3c/button\x3e"},tabsContainer:'\x3cdiv class\x3d"a-row a-spacing-top-micro ssf-tabs a-color-base-background a-padding-mini"\x3e\x3c/div\x3e',
getImageSection:function(b){var c=v(b),d=b.starRating,e=b.numberOfReviews,g=b.t,l=b.cafStarAlignmentLeft,r=b.customize;r=r===f?!1:r;b='\x3cdiv class\x3d"ssf-product-preview"\x3e'+a({productImage:b.productImage}.productImage,"","","ssf-title-label")+"\x3c/div\x3e";d=d===f?"ZERO":d;d=a("RIO"+d+(h?"r":"")+".png","ssf-caf-stars",d);e=k(e);l='\x3cdiv class\x3d"ssf-caf-rating"\x3e\n              \x3cdiv class\x3d"'+(l?"ssf-caf-rating-left":"ssf-caf-rating-right")+'"\x3e\n                '+d+e+"\n              \x3c/div\x3e\n            \x3c/div\x3e";
r=r?'\x3cspan id\x3d"ssf-customize-icon" class\x3d"ssf-customize-icon"\x3e'+q("customize")+"\x3c/span\x3e":"";g='\x3cp class\x3d"a-size-base a-spacing-micro ssf-caf-text"\x3e'+g.taf_custshare_caf_recipientemoji+"\x3c/p\x3e";e=q("caf-emojis"+(h?"r":"")+".png","ssf-caf-emojis");return'\x3cdiv class\x3d"a-box ssf-preview-box" role\x3d"img"\x3e\n              '+('\x3cdiv class\x3d"a-padding-base ssf-preview-container"\x3e\n              '+r+'\n              \x3cspan class\x3d"a-spinner a-spinner-medium a-align-center ssf-preview-spinner aok-hidden"\x3e\x3c/span\x3e\n              '+
b+"\n              "+l+"\n            \x3c/div\x3e "+('\x3cdiv class\x3d"a-padding-base ssf-caf-image"\x3e\n              \x3cdiv class\x3d"a-row ssf-caf-image-stickers"\x3e'+b+('\x3cdiv class\x3d"a-column ssf-caf-stickers"\x3e'+g+e+"\x3c/div\x3e")+"\x3c/div\x3e\n              "+l+"\n            \x3c/div\x3e"))+"\n              "+c+"\n            \x3c/div\x3e"},getCustomizePreviewImage:function(a){return'\x3cdiv class\x3d"a-box ssf-no-border ssf-cus-img-container"\x3e\n      \x3cdiv class\x3d"ssf-cus-img"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium a-align-center ssf-preview-spinner aok-hidden"\x3e\x3c/span\x3e\x3c/div\x3e\n      '+
v(a,"ssf-product-title-text-small")+"\n    \x3c/div\x3e"},getToggleContainer:function(a){return'\x3cdiv class\x3d"a-row a-spacing-top-medium a-spacing-small"\x3e\n      \x3cdiv class\x3d"a-column"\x3e\x3cdiv class\x3d"a-checkbox a-declarative a-checkbox-fancy ssf-caf-toggle" data-action\x3d"cafCheckboxAction"\x3e\n      \x3clabel\x3e\n        \x3cinput class\x3d"a-declarative" name\x3d"caf" type\x3d"checkbox"\x3e\n        \x3ci class\x3d"a-icon a-icon-checkbox"\x3e\x3c/i\x3e\n      \x3c/label\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n      \x3cdiv class\x3d"a-column"\x3e\n        \x3csmall class\x3d"ssf-caf-toggle-label"\x3e'+
a.taf_custshare_caf_ingress+"\x3c/small\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e"}}});"use strict";x.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetState").register("SocialShareWidgetCustomizeUtils",function(g,l,v,q){function a(a){var b=a.values,c=b.BackgroundImageTab,d=b.DeviceCoverImageTab;b=b.BookQuotesTab;var e=a.productImageProperties;a=e.width;e=e.height;return{bgId:(c===f?{}:c).physicalId||"",deviceId:(d===f?{}:d).physicalId||"",quoteValue:(b===f?{}:b).value||"",width:a===
f?"":a,height:e===f?"":e}}function k(a,b){var c=a.shareUrl,d=a.socialLinks;d=d===f?{}:d;var e=a.isOGTEnabled;e=e===f?!1:e;b=b?c.getReturnForChannel(b):c.return;c=a.aapiBaseUrl;var h=a.shareAapiCsrfToken,g=a.tinyUrlEnabled,k=a.deeplinkInfo;k=k===f?{}:k;var m=a.shareDataAttributes.marketplaceId;return{tinyUrlEnabled:g===f?!1:g,aapiBaseUrl:c===f?"":c,shareAapiCsrfToken:h===f?"":h,marketplaceId:m===f?"":m,url:b,isOGTEnabled:e,originalUrl:d.shareframework||a.url||b,refMarkerId:n++,deeplinkInfo:k}}function c(a,
b,c,d){if(c.isEmpty())return d({});c=encodeURIComponent(c.currentImage);v.build(a).externalizeImage(c,d,b)}l=l.SocialShareCore;var e=g.constants.HIDE_CLASS,d=g.$,r=l.Constants,b=l.Metrics,t=l.Url,n=0;return{getEventName:function(a){return"a:sheet:after"+a+":ssf-customize-bottom-sheet"},getCustomizeImage:function(){return d(".ssf-cus-img")},getCustomizeImageContainer:function(){return d(".ssf-cus-img-container")},showImageSpinner:function(){this.getCustomizeImage().find(".a-spinner").removeClass(e)},
hideImageSpinner:function(){this.getCustomizeImage().find(".a-spinner").addClass(e)},setImage:function(a){this.getCustomizeImage().css("background-image",'url("'+a+'")')},transitionToCustomizePage:function(){d(".ssf-customize-container-one").addClass(e);d(".ssf-customize-container-two").removeClass(e).addClass("ssf-customize-transition")},adjustPreviewHeight:function(){this.getCustomizeImageContainer().css({width:.76*h.innerWidth});var a=parseInt(this.getCustomizeImage().css("border-left-width"))+
parseInt(this.getCustomizeImage().css("border-right-width")),b=this.getCustomizeImage().innerWidth();this.getCustomizeImage().css({height:(b+a)/1.91})},transitionToDefaultPage:function(){d(".ssf-customize-container-two").addClass(e);d(".ssf-customize-container-one").removeClass(e).addClass("ssf-customize-transition-back")},getImageData:function(b,c){c=a(c);return{productImageUrl:b.productImage,starRating:b.starRating||"",numberOfReviews:b.numberOfReviews||"",backgroundImagePhysicalId:c.bgId,deviceCoverImagePhysicalId:c.deviceId,
bookQuote:c.quoteValue,productImageWidth:c.width,productImageHeight:c.height}},setCustomizeCSAData:function(b,c){var d=r.customizeShareStateKey;c=a(c);var e=r.TRUE,f=r.FALSE;q.set(d,{backgroundImagePhysicalId:c.bgId,deviceCoverImagePhysicalId:c.deviceId,hasQuote:0<c.quoteValue.length?e:f,isCustomizedExperienceEnabled:b.customize?e:f,isCustomized:c.bgId||c.deviceId||c.quoteValue?e:f,customizePreSelected:b.customizePreSelected?e:f,isQuotesAvailable:b.quotes?e:f})},prepareShareUrl:function(a,d,e,f,h){this.setCustomizeCSAData(a,
this.imageState);c(a,f,this.imageState,function(c){c=c.entity;var g=new URL(a.url);c&&c.physicalId&&(b.logCounterRefactor("externalizeImageSuccess"),g.searchParams.append("cspi",c.physicalId));a.cafStarAlignmentLeft?g.searchParams.append("starsLeft","1"):a.caf&&g.searchParams.append("cafHiResImg","1");a.shareUrl=new t(g.toString(),a.refId);c=k(a,d);e.fetch({data:c,isAsync:f,callback:function(a){h(a)}})})},imageState:{clear:function(){this.values={}},isEmpty:function(){return d.isEmptyObject(this.values)},
values:{},unset:function(a){delete this.values[a.id]},set:function(a){this.values[a.id]=a},currentImage:"",productImageProperties:{width:0,height:0}}}});"use strict";x.when("A","SocialShareWidget","SocialShareWidgetAPI").register("SocialShareWidgetCAFUtils",function(g,l,v){function q(c,g){var b=c.shareUrl,d=c.socialLinks;d=d===f?{}:d;var k=c.isOGTEnabled;k=k===f?!1:k;g=g?b.getReturnForChannel(a.CAF_REF_PREFIX+"_"+g):b.return;g=new URL(g);c.cafStarAlignmentLeft?g.searchParams.append("starsLeft","1"):
c.caf&&g.searchParams.append("cafHiResImg","1");g.searchParams.has("language")||g.searchParams.append("language",h.languageOfPreference||c.locale||"en_US");g=g.toString();b=c.aapiBaseUrl;var l=c.shareAapiCsrfToken,m=c.tinyUrlEnabled,q=c.deeplinkInfo;q=q===f?{}:q;var r=c.shareDataAttributes.marketplaceId;return{tinyUrlEnabled:m===f?!1:m,aapiBaseUrl:b===f?"":b,shareAapiCsrfToken:l===f?"":l,marketplaceId:r===f?"":r,url:g,isOGTEnabled:k,originalUrl:d.shareframework||c.url||g,refMarkerId:e++,deeplinkInfo:q}}
g=l.SocialShareCore;var a=g.Constants,k=g.Url,c=g.Metrics,e=0;return{prepareShareUrl:function(d,e,b,f,g){var h=d.refId;c.logCounterRefactor("CAF.shareChannelClick",d.ingress);c.startTimer("CAF.fetchCAFAndTinyURL");h=a.CAF_REF_PREFIX+"_"+h;v.build(d).fetchCAFID(function(a,l){var m=new URL(d.url);a&&m.searchParams.append("cafId",a);l&&m.searchParams.append("cafASIN",l);d.shareUrl=new k(m.toString(),h);l=q(d,e);b.fetch({data:l,isAsync:f,callback:function(b){c.stopTimer("CAF.fetchCAFAndTinyURL");g(b,
a)}})},f)}}});"use strict"});
/* ******** */
